<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> 私の宝庫です</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/images/ayer.png" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-CS_Notes/Java/【开发】JavaWeb"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
     
    <div class="article-meta">
      <a href="/2024/08/21/CS_Notes/Java/%E3%80%90%E5%BC%80%E5%8F%91%E3%80%91JavaWeb/" class="article-date">
  <time datetime="2024-08-20T16:00:00.000Z" itemprop="datePublished">2024-08-21</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/notes/">notes</a> / <a class="article-category-link" href="/categories/notes/Java-notes/">Java notes</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字数统计:</span>
            <span class="post-count">21.6k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 阅读时长≈</span>
            <span class="post-count">86 分钟</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <h3 id="写在前面"><a class="header-anchor" href="#写在前面">¶</a>写在前面</h3>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="https://aigz8jy30yo.feishu.cn/docx/BtbOd3c5aotnpdxYTVDcnqQanxd">‍‌‍‍‬‬‌﻿﻿‌‌‬‬‌﻿⁠⁠‍‌⁠‬‍‍⁠‍‬⁠﻿‍JavaWeb 开发教程 - 飞书云文档 (feishu.cn)</a></p>
</li>
<li>
<p>需要记录的内容的标准：</p>
<ul>
<li>已掌握的概念不记</li>
<li>太长的缩短记</li>
</ul>
</li>
<li>
<p>按照期末考前的笔记选择标准来记：</p>
<ul>
<li>只记关键核心内容，有助于复习笔记时快速重温掌握</li>
<li>对于较长的内容，尽可能用自己的话复述</li>
</ul>
</li>
<li>
<p>努力克服完美强迫症</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/vue3/vue3-tutorial.html">Vue3 教程 | 菜鸟教程 (runoob.com)</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN">Element - 网站快速成型工具</a></p>
</li>
</ul>
<h2 id="Day01–HTML-CSS"><a class="header-anchor" href="#Day01–HTML-CSS">¶</a>Day01–HTML &amp; CSS</h2>
<ul>
<li>
<p>HTML负责网页结构（页面元素和内容）</p>
</li>
<li>
<p>CSS：负责网页的表现（页面元素的外观、位置等页面样式，如：颜色、大小等）</p>
</li>
<li>
<p>Day01  2.3.1 新浪新闻-标题实现</p>
<ul>
<li>用具体案例来分析怎么用html搭网页框架</li>
<li>如何用不同的html标签实现不同表现形式</li>
<li>CSS的不同样式引入形式
<ul>
<li>行内、内嵌和外联</li>
</ul>
</li>
<li>颜色的三种表示方法（+拾色器）</li>
<li>三种基本的CSS选择器【选取需设置样式的元素（标签）】
<ul>
<li><strong>元素（标签）选择器</strong>：作用于所有同名标签上</li>
<li><strong>id选择器</strong>：#id属性值   作用于指定id的标签上</li>
<li><strong>类选择器</strong>：.class属性值    作用于所有class的属性值和该名字一样的标签上</li>
</ul>
</li>
<li>超链接</li>
</ul>
</li>
<li>
<p>Day01  2.3.2 新浪新闻-正文实现</p>
<ul>
<li>视频标签<video>、音频标签<audio></audio></video></li>
<li>文本、段落格式标签</li>
<li>在正文排版中使用的几个CSS属性
<ul>
<li>text-indent: 设置段落的首行缩进</li>
<li>line-height: 设置行高</li>
<li>text-align: 设置对齐方式, 可取值为 left / center / right</li>
</ul>
</li>
<li>CSS的盒子模型：内容区域（content）、内边距区域（padding）、边框区域（border）、外边距区域（margin）→类比生活中的手机盒子</li>
<li>2.3.2.2  布局标签：<div><span>  及其特点</span></div></li>
</ul>
</li>
<li>
<p>2.4  表格标签<table>和常用属性</table></p>
<ul>
<li>行<tr>、单元格<td>、表头<th></th></td></tr></li>
</ul>
</li>
<li>
<p>2.5  表单标签<form>及其属性</form></p>
<ul>
<li>method→ 表单发送方式：GET POST</li>
<li>GET和POST的区别</li>
<li>表单项三个标签：<input><select></select><textarea></textarea></li>
<li><input>的type属性取值：
<ul>
<li>text | password | radio | checkbox | file | date/time/datetime-local | number | email | hidden | submit / reset / button | hidden</li>
</ul>
</li>
</ul>
</li>
<li>
<p>文档地址: <a target="_blank" rel="noopener" href="https://www.w3school.com.cn/index.html">https://www.w3school.com.cn/index.html</a></p>
</li>
<li>
<p>Day01作业：<a target="_blank" rel="noopener" href="https://heuqqdmbyk.feishu.cn/docx/JFs1dpMLGoVwyMxAHcGc0p0cn9c">‍‬⁠‬‍﻿⁠﻿‍‌‬﻿﻿⁠‬﻿⁠⁠‬‌⁠‌﻿﻿Day01-作业 - 飞书云文档 (feishu.cn)</a>  【还没完成】</p>
</li>
</ul>
<h2 id="Day02–JavaScript-Vue"><a class="header-anchor" href="#Day02–JavaScript-Vue">¶</a>Day02–JavaScript-Vue</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://heuqqdmbyk.feishu.cn/docx/CzYOdkWfyoh74AxPR4UcHjbxnIc">‍‍⁠‬‌⁠⁠﻿﻿‌⁠‌⁠‌‬‌⁠‬﻿⁠‌﻿‬‬Day02-作业 - 飞书云文档 (feishu.cn)</a></li>
</ul>
<h3 id="将JS引入HTML的两种方式"><a class="header-anchor" href="#将JS引入HTML的两种方式">¶</a>将JS引入HTML的两种方式</h3>
<h3 id="1-3-JS基础语法规则"><a class="header-anchor" href="#1-3-JS基础语法规则">¶</a>1.3  JS基础语法规则</h3>
<ul>
<li>3种输出语句：window.alert() | document.write() | console.log()</li>
<li>变量
<ul>
<li>JS是弱类型语言→ 变量可以存放不同类型的值</li>
<li>变量命名规则</li>
<li>var | let | const</li>
<li>js数据类型：number | string | boolean | null | undefined
<ul>
<li>使用typeof函数可以返回数据类型</li>
</ul>
</li>
</ul>
</li>
<li>JS中的运算符 ： 算术运算符 | 赋值运算符 | 比较运算符 | 逻辑运算符 | 三元运算符
<ul>
<li>JS运算规则与Java的区别：\ == 和 ===</li>
</ul>
</li>
<li>JS是弱数据类型的语言→形参和返回值，都不需要类型声明</li>
</ul>
<h3 id="1-4-函数"><a class="header-anchor" href="#1-4-函数">¶</a>1.4 函数</h3>
<ul>
<li>
<p>两种定义函数的语法</p>
<ul>
<li>
<pre><code class="language-JavaScript">function add(a, b)&#123;
    return a + b;
&#125;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ```JavaScript</span><br><span class="line">  var functionName = function (参数1,参数2..)&#123;   </span><br><span class="line">          //要执行的代码</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
<li>
<p>调用函数多传参：不影响函数正常调用，只需函数名正确即可</p>
</li>
</ul>
</li>
</ul>
<h3 id="1-5-JS对象"><a class="header-anchor" href="#1-5-JS对象">¶</a>1.5  JS对象</h3>
<ul>
<li>
<p>参考：<a target="_blank" rel="noopener" href="https://www.w3school.com.cn/js/js_objects.asp">JavaScript 对象 (w3school.com.cn)</a></p>
</li>
<li>
<p>第一类：基本对象   1.5.1</p>
<ul>
<li>
<p>Array→定义数组用的     属性和方法</p>
</li>
<li>
<p>String→属性、方法</p>
</li>
<li>
<p>自定义对象</p>
</li>
<li>
<p>JSON→应用在前后台交互的数据载体、代替xml格式、代码演示json对象</p>
</li>
<li>
<pre><code class="language-javascript">// //定义json
    var jsonstr = '&#123;&quot;name&quot;:&quot;Tom&quot;, &quot;age&quot;:18, &quot;addr&quot;:[&quot;北京&quot;,&quot;上海&quot;,&quot;西安&quot;]&#125;';
    //alert(jsonstr.name);

    // //json字符串--js对象
    var obj = JSON.parse(jsonstr);
    //alert(obj.name);

    // //js对象--json字符串
    alert(JSON.stringify(obj));
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 第二类：BOM对象，浏览器对象模型，和浏览器相关的几个对象    1.5.2</span><br><span class="line"></span><br><span class="line">  - 通过操作BOM对象的相关属性或者函数来操作浏览器的部分功能</span><br><span class="line">  - 提供对象：**Window** | Navigator | Screen | History | **Location**</span><br><span class="line">  - Window对象</span><br><span class="line">    - 其方法、属性可以省略window.</span><br><span class="line">    - window对象提供了获取其他BOM对象的属性：history | location | Navigator | Screen</span><br><span class="line">    - window常用函数：alert() | comfirm() | setInterval() | setTimeout()</span><br><span class="line">  - Location对象及其属性</span><br><span class="line"></span><br><span class="line">- 第三类：DOM对象，JS将HTML文档中每一个标签都封装成一个对象</span><br><span class="line"></span><br><span class="line">  - DOM  Document Object Model   文档对象模型</span><br><span class="line">  - 封装的对象：Document | Element | Attribute | Text | Comment</span><br><span class="line">  - HTML文档→DOM树的转换</span><br><span class="line">  - 学习DOM的作用：改变HTML元素的内容/样式 | 对HTML DOM事件作出反应 | 添加和删除HTML元素</span><br><span class="line">  - 学习DOM的核心：**如何获取DOM中的元素对象**（Element对象，即标签） | **如何操作Element对象的属性**（即标签的属性）</span><br><span class="line">    - Element对象→通过Document对象获取    而Document对象→通过window对象获取document对象提供：获取Element元素对象的api   有四个  比较常用的有getElementById()</span><br><span class="line">  - 操作Element对象的属性</span><br><span class="line">    - 通过查询文档 [JavaScript 和 HTML DOM 参考手册 (w3school.com.cn)](https://www.w3school.com.cn/jsref/index.asp)  资料</span><br><span class="line">  </span><br><span class="line">- 1.5.4   案例实操：复选选项亮灯</span><br><span class="line"></span><br><span class="line">  - 需求1：点亮灯泡→换图→操作图片的src属性→获取img标签对象</span><br><span class="line">  - 需求2：将所有的div标签的标签体内容后加上：very good 且为红色字体→先获取原有内容，再进行内容的追加</span><br><span class="line">  - 需求3：选中所有的复选框→通过name属性获得所有的checkbox标签→遍历所有checkbox标签→设置为选中状态</span><br><span class="line">  - 完整代码1.5.4.6</span><br><span class="line"></span><br><span class="line">### 1.6   JS事件</span><br><span class="line"></span><br><span class="line">- HTML事件：发生在HTML元素上的事情→</span><br><span class="line">  - 例如：按钮被点击onclick、鼠标移动到元素上、输入框失去焦点</span><br><span class="line">- 事件绑定</span><br><span class="line">  - 方式1：通过html标签中的事件属性进行绑定  `&lt;input type=&quot;button&quot; id=&quot;btn1&quot; value=&quot;事件绑定1&quot; onclick=&quot;on()&quot;&gt;`</span><br><span class="line">  - 方式2：通过DOM中Element元素的事件属性进行绑定   `&lt;input type=&quot;button&quot; id=&quot;btn2&quot; value=&quot;事件绑定2&quot;&gt;`       `document.getElementById(&#x27;btn2&#x27;).onclick = function()&#123;alert(&quot;按钮2被点击了...&quot;);  &#125;`</span><br><span class="line">- 常用事件</span><br><span class="line">  - onclick→鼠标单击事件    |    onblur→元素失去焦点     |    onfocus→元素获得焦点    |   onload→某个页面或图像被完成加载    |   onsubmit→当表单提交时触发该事件     |    onmouseover→鼠标被移到某元素之上     |    onmouseout→鼠标从某元素移开</span><br><span class="line">- 案例：按钮操控灯亮暗</span><br><span class="line">  - 需求1： 点击 “点亮”按钮 点亮灯泡，点击“熄灭”按钮 熄灭灯泡→绑定单击事件on()和off()，进行图像变化→修改&lt;img&gt;的src</span><br><span class="line">  - 需求2： 输入框鼠标聚焦后，展示小写；鼠标离焦后，展示大写→给&lt;input&gt;标签绑定onfocus和onblur事件→获取原本输入框的内容，即使用&lt;input&gt;标签对象的value值</span><br><span class="line">  - 需求3：“全选”选中所有复选框，“反选”使所有复选框取消→给“全选”和“多选”按钮绑定事件checkAll()和reverse()→定义checkAll()和reverse()两个函数→将选中的框改为true/false</span><br><span class="line"></span><br><span class="line">### 2 Vue</span><br><span class="line"></span><br><span class="line">#### 快速入门</span><br><span class="line"></span><br><span class="line">- 相对于html+css+js更高效的前端开发方式</span><br><span class="line">- **MVVM(Model-View-ViewModel)的前端开发思想**</span><br><span class="line">  - Model: 数据模型，特指前端中通过请求从后台获取的数据</span><br><span class="line">    - 通过Ajax来发起请求从后台获取</span><br><span class="line">  - View: 视图，用于展示数据的页面，可以理解成我们的html+css搭建的页面，但是没有数据</span><br><span class="line">    - ElementUI框架来替代HTML+CSS来更加方便的搭建View</span><br><span class="line">  - ViewModel: 数据绑定到视图，负责将数据（Model）通过JavaScript的DOM技术，将数据展示到视图（View）上</span><br><span class="line">    - 侧重于ViewModel部分开发的vue前端框架，用来替代JavaScript的DOM操作</span><br><span class="line"></span><br><span class="line">- 框架：一个半成品软件，是一套可重用的、通用的、软件基础代码模型。基于框架进行开发，更加快捷、更加高效</span><br><span class="line"></span><br><span class="line">- Vue对象的创建</span><br><span class="line">  - el:  用来指定哪儿些标签受 Vue 管理。 该属性取值 `#app` 中的 `app` 需要是受管理的标签的id属性值</span><br><span class="line">  - data: 用来定义数据模型</span><br><span class="line">  - methods: 用来定义函数</span><br><span class="line"></span><br><span class="line">#### Vue指令</span><br><span class="line"></span><br><span class="line">| 指令       | 作用                                                         |</span><br><span class="line">| ---------- | ------------------------------------------------------------ |</span><br><span class="line">| v-bind / : | 为HTML标签绑定属性值，如设置 href , css样式等      2.3.1     |</span><br><span class="line">| v-model    | 在**表单**元素上创建双向数据绑定     2.3.1                   |</span><br><span class="line">| v-on / @   | 为HTML标签绑定事件（必须是vue对象中声明的函数，在methods属性中定义的事件）     2.3.2 |</span><br><span class="line">| v-if       | 条件性的渲染某元素，判定为true时渲染,否则不渲染    2.3.3     |</span><br><span class="line">| v-else     |                                                              |</span><br><span class="line">| v-else-if  |                                                              |</span><br><span class="line">| v-show     | 根据条件展示某元素，区别在于切换的是display属性的值（不满足条件的代码依然存在，只是设置css样式来控制标签不去显示） |</span><br><span class="line">| v-for      | 列表渲染，遍历容器的元素或者对象的属性                       |</span><br><span class="line"></span><br><span class="line">#### 案例</span><br><span class="line"></span><br><span class="line">- 将数据转换成表格的形式，呈现到页面上</span><br><span class="line">- 使用到的：</span><br><span class="line">  - v-for添加在tr标签</span><br><span class="line">  - &#123; &#123;  &#125; &#125;   插值表达式</span><br><span class="line">  - 索引从0开始，+1可用作编号</span><br><span class="line">  - v-if判断</span><br><span class="line"></span><br><span class="line">#### 生命周期</span><br><span class="line"></span><br><span class="line">##### 生命周期方法/钩子方法</span><br><span class="line"></span><br><span class="line">| 状态          | 阶段周期 |</span><br><span class="line">| ------------- | -------- |</span><br><span class="line">| beforeCreate  | 创建前   |</span><br><span class="line">| created       | 创建后   |</span><br><span class="line">| beforeMount   | 挂载前   |</span><br><span class="line">| **mounted**   | 挂载完成 |</span><br><span class="line">| beforeUpdate  | 更新前   |</span><br><span class="line">| updated       | 更新后   |</span><br><span class="line">| beforeDestroy | 销毁前   |</span><br><span class="line">| destroyed     | 销毁后   |</span><br><span class="line"></span><br><span class="line">- mounted声明周期的钩子函数，与methods同级</span><br><span class="line">  - 页面加载完成，vue对象创建并且完成了挂载，此时自动触发mounted所绑定的钩子函数，然后自动执行</span><br><span class="line"></span><br><span class="line">### Day02-作业</span><br><span class="line"></span><br><span class="line">[Day02-作业](https://heuqqdmbyk.feishu.cn/docx/CzYOdkWfyoh74AxPR4UcHjbxnIc)</span><br><span class="line"></span><br><span class="line">## Day03-Vue-Element</span><br><span class="line"></span><br><span class="line">- [‌⁠‬‌‌﻿‍⁠‍‬‬‍⁠‍‌⁠﻿‬‍⁠⁠‌‌﻿﻿﻿Day03-作业 - 飞书云文档 (feishu.cn)](https://heuqqdmbyk.feishu.cn/docx/FqzUd6xnho7yDUx2ZTkcdTISnEb)</span><br><span class="line"></span><br><span class="line">### Ajax</span><br><span class="line"></span><br><span class="line">- 即异步的JavaScript和XML</span><br><span class="line">  - 与服务器进行数据交互</span><br><span class="line">  - 异步交互：可以在**不重新加载整个页面**的情况下，与服务器交换数据并**更新部分网页**的技术</span><br><span class="line"></span><br><span class="line">- 同步异步</span><br><span class="line">- 原生Ajax</span><br><span class="line">  - 客户端的Ajax请求</span><br><span class="line">    - 1.在VS Code中创建Ajax文件夹</span><br><span class="line">    - 2.创建XMLHttpRequest对象，用于和服务器交换数据，也是原生Ajax请求的核心对象</span><br><span class="line">    - 3.调用对象的open()方法设置请求的参数信息，例如请求地址，请求方式</span><br><span class="line">    - 4.通过绑定事件的方式，来获取服务器响应的数据</span><br><span class="line">    - 5.通过浏览器打开页面，请求点击按钮，发送Ajax请求，显示结果</span><br><span class="line"></span><br><span class="line">### Axios</span><br><span class="line"></span><br><span class="line">- 是简单的发送Ajax请求的技术</span><br><span class="line">- 对原生的AJAX进行封装，简化书写</span><br><span class="line">- Axios官网：`https://www.axios-http.cn`</span><br><span class="line"></span><br><span class="line">#### Axios基本使用   1.3.1</span><br><span class="line"></span><br><span class="line">- 1.引入Axios文件</span><br><span class="line">- 2.使用Axios发送请求，并获取响应结果</span><br><span class="line">  - 官方提供很多api</span><br><span class="line">  - 其中两种：</span><br><span class="line">    - get请求     将请求参数拼接到路径的后面</span><br><span class="line">    - post请求</span><br><span class="line"></span><br><span class="line">- axios()是用来发送异步请求的，小括号中使用 js的JSON对象传递请求相关的参数</span><br><span class="line"></span><br><span class="line">#### Axios快速入门</span><br><span class="line"></span><br><span class="line">##### 后端实现</span><br><span class="line"></span><br><span class="line">-  查询所有员工信息服务器地址：http://yapi.smart-xwork.cn/mock/169327/emp/list </span><br><span class="line">- 根据员工id删除员工信息服务器地址：http://yapi.smart-xwork.cn/mock/169327/emp/deleteById</span><br><span class="line"></span><br><span class="line">##### 前端实现</span><br><span class="line"></span><br><span class="line">- 创建js文件夹，与html同级，然后将axios所依赖的js拷贝到js目录下</span><br><span class="line"></span><br><span class="line">- 在html中引入axios所依赖的js文件，并提供两个按钮绑定单击事件，分别用于点击时发送ajax请求</span><br><span class="line"></span><br><span class="line">- 分别使用axios的方法发送完整的get请求和post请求</span><br><span class="line"></span><br><span class="line">- `get请求代码`</span><br><span class="line"></span><br><span class="line">  ```javascript</span><br><span class="line">    //通过axios发送异步请求-get</span><br><span class="line">     axios(&#123;</span><br><span class="line">         method: &quot;get&quot;,</span><br><span class="line">         url: &quot;http://yapi.smart-xwork.cn/mock/169327/emp/list&quot;</span><br><span class="line">     &#125;).then(result =&gt; &#123;</span><br><span class="line">         console.log(result.data);</span><br><span class="line">     &#125;)</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
<li>
<p><code>post请求</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过axios发送异步请求-post</span></span><br><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">       <span class="attr">method</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">       <span class="attr">url</span>: <span class="string">&quot;http://yapi.smart-xwork.cn/mock/169327/emp/deleteById&quot;</span>,</span><br><span class="line">       <span class="attr">data</span>: <span class="string">&quot;id=1&quot;</span></span><br><span class="line">   &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(result.<span class="property">data</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>打开浏览器，f12抓包，点击按钮后查看控制台效果</p>
</li>
</ul>
<h4 id="请求方法的别名"><a class="header-anchor" href="#请求方法的别名">¶</a>请求方法的别名</h4>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>axios.get(url [, config])</td>
<td>发送get请求</td>
</tr>
<tr>
<td>axios.delete(url [, config])</td>
<td>发送delete请求</td>
</tr>
<tr>
<td>axios.post(url [, data[, config]])</td>
<td>发送post请求</td>
</tr>
<tr>
<td>axios.put(url [, data[, config]])</td>
<td>发送put请求</td>
</tr>
</tbody>
</table>
<ul>
<li>
<pre><code class="language-javascript">// get请求的两种写法  

//通过axios发送异步请求-get
axios(&#123;
       method: &quot;get&quot;,
       url: &quot;http://yapi.smart-xwork.cn/mock/169327/emp/list&quot;
   &#125;).then(result =&gt; &#123;
       console.log(result.data);
&#125;)

axios.get(&quot;http://yapi.smart-xwork.cn/mock/169327/emp/list&quot;).then(result =&gt; &#123;
    console.log(result.data);
&#125;)
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ```javascript</span><br><span class="line">  // post请求的两种写法</span><br><span class="line">  </span><br><span class="line">  //通过axios发送异步请求-post</span><br><span class="line">  axios(&#123;</span><br><span class="line">         method: &quot;post&quot;,</span><br><span class="line">         url: &quot;http://yapi.smart-xwork.cn/mock/169327/emp/deleteById&quot;,</span><br><span class="line">         data: &quot;id=1&quot;</span><br><span class="line">     &#125;).then(result =&gt; &#123;</span><br><span class="line">         console.log(result.data);</span><br><span class="line">  &#125;)</span><br><span class="line">  </span><br><span class="line">  axios.post(&quot;http://yapi.smart-xwork.cn/mock/169327/emp/deleteById&quot;,&quot;id=1&quot;).then(result =&gt; &#123;</span><br><span class="line">      console.log(result.data);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
<h4 id="案例"><a class="header-anchor" href="#案例">¶</a>案例</h4>
<ul>
<li>需求：
<ul>
<li>基于Vue及Axios完成数据的动态加载展示</li>
</ul>
</li>
<li>步骤
<ol>
<li>首先创建文件，提前准备基础代码，包括表格以及vue.js和axios.js文件的引入</li>
<li>我们需要在vue的mounted钩子函数中发送ajax请求，获取数据</li>
<li>拿到数据，数据需要绑定给vue的data属性</li>
<li>在tr标签上通过v-for指令遍历数据，展示数据</li>
</ol>
</li>
<li>具体步骤略</li>
</ul>
<h3 id="前后台分离开发"><a class="header-anchor" href="#前后台分离开发">¶</a>前后台分离开发</h3>
<h4 id="前后台分离开发介绍"><a class="header-anchor" href="#前后台分离开发介绍">¶</a>前后台分离开发介绍</h4>
<ul>
<li><strong><u>接口文档</u></strong>：后台开发者根据产品经理提供的产品原型和需求文档所撰写的</li>
<li><strong><u>流程</u></strong>：【需求分析】→【接口定义（API接口文档）】→【前后端并行开发（遵守规范】→【测试（前端、后端）】→前后端联调测试
<ol>
<li>需求分析：阅读需求文档，分析、理解需求</li>
<li>接口定义：查询接口文档中关于需求的接口的定义，包括地址，参数，响应数据类型等等</li>
<li>前后台并行开发：各自按照接口文档进行开发，实现需求</li>
<li>测试：前后台开发完毕，各自按照接口文档进行测试</li>
<li>前后段联调测试：前端工程请求后端工程，测试功能</li>
</ol>
</li>
</ul>
<h4 id="YAPI"><a class="header-anchor" href="#YAPI">¶</a>YAPI</h4>
<h5 id="YAPI介绍"><a class="header-anchor" href="#YAPI介绍">¶</a>YAPI介绍</h5>
<ul>
<li>官网地址：<a target="_blank" rel="noopener" href="https://yapi.pro/#">YApi Pro-高效、易用、功能强大的可视化接口管理平台</a></li>
<li>主要提供2个功能：
<ul>
<li>API接口管理：根据需求撰写接口，包括接口的地址，参数，响应等等信息</li>
<li>Mock服务：模拟真实接口，生成接口的模拟测试数据，用于前端的测试</li>
</ul>
</li>
</ul>
<h5 id="接口文档管理"><a class="header-anchor" href="#接口文档管理">¶</a>接口文档管理</h5>
<ul>
<li>个人空间，选择项目列表→添加测试项目</li>
<li>点击进入创建的项目，先添加接口的分类</li>
<li>选择当前创建的分类，创建接口信息</li>
<li>来到接口的编辑界面，对接口做生层次的定制。例如：接口的参数，接口的返回值等</li>
<li>添加接口的请求参数</li>
<li>来到返回数据设置，选择导入json，编写和添加json格式的返回值</li>
<li>保存上述设置后，来到接口预览界面，查询接口的信息</li>
<li>最后，还可以设置接口的mock信息</li>
<li>完成后来到接口的预览界面，点击Mock地址，发现浏览器可以直接打开并返回前面设置的期望数据</li>
</ul>
<h3 id="前端工程化"><a class="header-anchor" href="#前端工程化">¶</a>前端工程化</h3>
<h4 id="前端工程化的特点"><a class="header-anchor" href="#前端工程化的特点">¶</a>前端工程化的特点</h4>
<ul>
<li>
<p>模块化：将js和css等，做成一个个可复用模块</p>
</li>
<li>
<p>组件化：我们将UI组件，css样式，js行为封装成一个个的组件，便于管理</p>
</li>
<li>
<p>规范化：我们提供一套标准的规范的目录接口和编码规范，所有开发人员遵循这套规范</p>
</li>
<li>
<p>自动化：项目的构建，测试，部署全部都是自动完成</p>
</li>
<li>
<p>即：在企业级的前端项目开发中，把前端开发所需要的工具、技术、流程、经验进行规范化和标准化</p>
</li>
<li>
<p>↓↓↓vue官方提供的脚手架→完成前端的工程化</p>
</li>
</ul>
<h4 id="前端工程化入门"><a class="header-anchor" href="#前端工程化入门">¶</a>前端工程化入门</h4>
<h5 id="环境准备"><a class="header-anchor" href="#环境准备">¶</a>环境准备</h5>
<ul>
<li>使用：vue官方使用的脚手架Vue-cli
<ul>
<li>Vue-cli提供功能：
<ol>
<li>统一的目录结构</li>
<li>本地调试</li>
<li>热部署</li>
<li>单元测试</li>
<li>集成打包上线</li>
</ol>
</li>
<li>需要的依赖：NodeJS</li>
</ul>
</li>
</ul>
<h5 id="Vue项目简介"><a class="header-anchor" href="#Vue项目简介">¶</a>Vue项目简介</h5>
<h6 id="2种方式创建vue项目"><a class="header-anchor" href="#2种方式创建vue项目">¶</a>2种方式创建vue项目</h6>
<ul>
<li>
<p>命令行：直接通过命令创建vue项目</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create vue-project01</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>图形化界面：先通过命令进入图形化界面，然后再进行vue工程的创建</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue ui</span><br></pre></td></tr></table></figure>
<ul>
<li>感觉这个方式更直观。</li>
</ul>
</li>
</ul>
<h6 id="vue项目目录结构"><a class="header-anchor" href="#vue项目目录结构">¶</a>vue项目目录结构</h6>
<table>
<thead>
<tr>
<th>Vue-project01</th>
<th></th>
<th></th>
<th>src</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>node_modules</td>
<td>整个项目的依赖包</td>
<td></td>
<td>assets</td>
<td>静态资源</td>
</tr>
<tr>
<td>public</td>
<td>存放项目的静态文件</td>
<td></td>
<td>components</td>
<td>可重用的组件</td>
</tr>
<tr>
<td>src</td>
<td>存放项目的源代码❤❤❤❤❤（平时开发位置）</td>
<td></td>
<td>router</td>
<td>路由配置</td>
</tr>
<tr>
<td>.gitignore</td>
<td></td>
<td></td>
<td>views</td>
<td>视图组件（页面）</td>
</tr>
<tr>
<td>babel.config.js</td>
<td></td>
<td></td>
<td>App.vue</td>
<td>入口页面（根组件）</td>
</tr>
<tr>
<td>jsconfig.json</td>
<td></td>
<td></td>
<td>main.js</td>
<td>入口js文件</td>
</tr>
<tr>
<td>package-lock.json</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>package.json</td>
<td>模块基本信息，项目开发所需要模块，版本信息</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://README.md">README.md</a></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>vue.config.js</td>
<td>保存vue配置的文件，如：代理、端口的配置</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h6 id="运行vue项目"><a class="header-anchor" href="#运行vue项目">¶</a>运行vue项目</h6>
<ul>
<li>
<p>第一种：通过VS Code的图形化界面</p>
<ul>
<li>
<p>左栏工具栏→NPM脚本→点击▷运行→查看终端→访问localhost:port</p>
</li>
<li>
<p>此时访问的是<code>src/App.vue</code>这个根组件</p>
</li>
<li>
<p>对<code>App.vue</code>中的内容进行更改，通过vue项目的热更新，可以直接显示改后内容</p>
</li>
<li>
<p>修改端口：在<code>vue.config.js</code>中添加内容：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devServer</span>:&#123;</span><br><span class="line">    <span class="attr">port</span>:<span class="number">7000</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>第二种：命令行方式</p>
<ul>
<li>基于cmd窗口，在vue目录下，输入<code>npm run serve</code></li>
</ul>
</li>
<li>
<p>补充：将NPM脚本窗口调试出来</p>
<ol>
<li>VS Code→左下角设置</li>
<li>用户→扩展→Npm</li>
<li>Npm→Auto Detect：on</li>
<li>Enable Run From Folder ：√</li>
<li>重启VS Code→双击package.json→点击<strong>资源管理器处的3个小点</strong>，<strong>勾选npm脚本选项</strong></li>
<li>即能够显示NPM脚本小窗口</li>
</ol>
</li>
</ul>
<h5 id="Vue项目开发流程"><a class="header-anchor" href="#Vue项目开发流程">¶</a>Vue项目开发流程</h5>
<ul>
<li>
<p><code>public/index.html</code></p>
<ul>
<li>
<p>对于vue项目，<code>index.html</code>默认引入了入口函数<code>main.js</code>文件</p>
</li>
<li>
<p>在<code>src/main.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  router,</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li>
<pre><code>import: 【导入】指定文件，并且【重新起名】。例如上述代码import App from './App.vue'导入当前目录下得App.vue并且起名为App
new Vue(): 创建vue对象
$mount('#app');将vue对象创建的dom对象挂载到id=app的这个标签区域中，作用和之前学习的vue对象的le属性一致。
router:  路由，详细在后面的小节讲解
render: 主要使用视图的渲染的。
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  - 总结：`main.js`中通过代码**挂载**到`index.html`的`ip=app`的标签区域</span><br><span class="line"></span><br><span class="line">- 重点：render中的APP</span><br><span class="line"></span><br><span class="line">  - `render: h =&gt; h(App)`</span><br><span class="line"></span><br><span class="line">- 以`.vue`结尾的都是vue组件，包含三个部分：</span><br><span class="line"></span><br><span class="line">  - `template`：模板部分，主要是HTML代码，用来展示页面主体结构的</span><br><span class="line">  - `script`: js代码区域，主要是通过js代码来控制模板的数据来源和行为的</span><br><span class="line">  - `style`: css样式部分，主要通过css样式控制模板的页面效果得</span><br><span class="line"></span><br><span class="line">### Vue组件库Element</span><br><span class="line"></span><br><span class="line">#### Element介绍</span><br><span class="line"></span><br><span class="line">- `MVVM`中→vue侧重于`VM`开发</span><br><span class="line">- `ElementUI`→侧重于`V`开发，用来开发美观页面</span><br><span class="line">- `Element`→一套基于Vue的网站组件库，用于快速构建网页</span><br><span class="line">  - `Element`提供了很多组成网页的部件，例如：超链接、图片、表格等</span><br><span class="line">  - 学`Element`的好处：便利后端开发者，只需要学会如何从`ElementUI`官网拷贝组件到自己页面并略作修改</span><br><span class="line">- [Element官网](https://element.eleme.cn/#/zh-CN)</span><br><span class="line"></span><br><span class="line">#### Element快速入门</span><br><span class="line"></span><br><span class="line">- 安装ElementUI的组件库</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
<p>选中项目并右击<br>
“在集成终端中打开”<br>
来到终端，输入命令↓</p>
<p>npm install element-ui@2.15.3</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 在`main.js`这个入口js文件中引入`ElementUI`的组件库</span><br><span class="line"></span><br><span class="line">  ```js</span><br><span class="line">  // 在原有代码中添加如下部分</span><br><span class="line">  </span><br><span class="line">  import ElementUI from &#x27;element-ui&#x27;;</span><br><span class="line">  import &#x27;element-ui/lib/theme-chalk/index.css&#x27;;</span><br><span class="line">  </span><br><span class="line">  Vue.use(ElementUI);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>按照vue项目的开发规范，在<strong>src/views</strong>目录下创建一个vue组件文件</p>
<ul>
<li>注意组件名称后缀是.vue，并且在组件文件中编写之前介绍过的基本组件语法【模板、脚本、样式】</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>在<code>ElementUI</code>的官网，找到组件库，选择对应组件并复制代码即可</p>
</li>
<li>
<p>在默认访问的根组件<strong>src/App.vue</strong>中引入自定义的组件</p>
</li>
</ul>
<h4 id="Element组件"><a class="header-anchor" href="#Element组件">¶</a>Element组件</h4>
<h5 id="Table表格"><a class="header-anchor" href="#Table表格">¶</a>Table表格</h5>
<ul>
<li>【注意】：组件包括了3个部分，如果官方有除了template部分之外的style和script都需要复制</li>
</ul>
<h6 id="Table组件属性详解"><a class="header-anchor" href="#Table组件属性详解">¶</a>Table组件属性详解</h6>
<ul>
<li>ElementUI将数据模型绑定到视图：
<ul>
<li>data: 主要定义table组件的数据模型</li>
<li>prop: 定义列的数据应该绑定data中定义的具体的数据模型</li>
<li>label: 定义列的标题</li>
<li>width: 定义列的宽度</li>
</ul>
</li>
<li>Element组件的所有属性都可以在组件页面最下方找到</li>
</ul>
<h5 id="Pagination分页"><a class="header-anchor" href="#Pagination分页">¶</a>Pagination分页</h5>
<ul>
<li>分页组件，主要通过提供分页工具条相关功能</li>
</ul>
<h6 id="Pagination组件属性详解"><a class="header-anchor" href="#Pagination组件属性详解">¶</a>Pagination组件属性详解</h6>
<ul>
<li>background: 添加背景颜色</li>
<li>layout: 分页工具条的布局，其具体值包含<code>sizes</code>, <code>prev</code>, <code>pager</code>, <code>next</code>, <code>jumper</code>, <code>-&gt;</code>, <code>total</code>, <code>slot</code> 这些值</li>
<li>total: 数据的总数量</li>
</ul>
<h6 id="Pagination组件事件详解"><a class="header-anchor" href="#Pagination组件事件详解">¶</a>Pagination组件事件详解</h6>
<ul>
<li>
<p>size-change ： pageSize 改变时会触发</p>
</li>
<li>
<p>current-change ：currentPage 改变时会触发</p>
</li>
<li>
<p>注意：在script代码复制时，methods属性和data同级</p>
</li>
</ul>
<h5 id="Dialog对话框"><a class="header-anchor" href="#Dialog对话框">¶</a>Dialog对话框</h5>
<ul>
<li>Dialog：在保留当前页面状态的情况下，告知用户并承载相关操作</li>
</ul>
<h6 id="Dialog组件属性详解"><a class="header-anchor" href="#Dialog组件属性详解">¶</a>Dialog组件属性详解</h6>
<ul>
<li>
<p>visible.sync ：是否显示 Dialog</p>
</li>
<li>
<pre><code class="language-HTML">在data中声明新的变量dialogFormVisible来控制对话框的隐藏与显示 

dialogFormVisible: false,
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 案例</span><br><span class="line"></span><br><span class="line">- 员工管理界面</span><br><span class="line"></span><br><span class="line">#### 需求说明</span><br><span class="line"></span><br><span class="line">- 制作类似格式的页面</span><br><span class="line">  - 上面是标题栏，左侧栏是搜索栏，右侧是数据展示区域</span><br><span class="line">  - 右侧：需要搜索表单</span><br><span class="line">  - 右侧表格数据为动态展示，数据来自后台</span><br><span class="line"></span><br><span class="line">#### 案例分析</span><br><span class="line"></span><br><span class="line">- 原则：先整体，后局部细节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- 主要步骤：</span><br><span class="line">  - 创建页面，完成页面的整体布局规划</span><br><span class="line">  - 然后分别针对3个部分进行各自组件的具体实现</span><br><span class="line">  - 针对于右侧核心内容展示区域，需要使用异步加载数据，以表格渲染数据</span><br><span class="line"></span><br><span class="line">#### 代码实现  4.4.3</span><br><span class="line"></span><br><span class="line">- 在做Day03任务的时候可以复现一下hhhh</span><br><span class="line">- 包含部分：</span><br><span class="line">  - 环境搭建</span><br><span class="line">  - 整体布局</span><br><span class="line">  - 顶部标题</span><br><span class="line">  - 左侧导航栏</span><br><span class="line">  - 右侧核心内容：【表格、表单、分页工具栏】</span><br><span class="line">  - 异步数据加载</span><br><span class="line"></span><br><span class="line">##### 异步数据加载</span><br><span class="line"></span><br><span class="line">- 使用axios发送ajax请求</span><br><span class="line">- 在vue项目中使用axios：</span><br><span class="line">  - 安装axios：`npm install axios`</span><br><span class="line">  - 使用axios：`import axios from &#x27;axios&#x27;`</span><br><span class="line">  - 发送axios请求的时间：页面加载完成，自动加载数据</span><br><span class="line">  - 可以使用：mounted钩子函数   4.4.3.6.1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### Vue路由</span><br><span class="line"></span><br><span class="line">#### 路由介绍</span><br><span class="line"></span><br><span class="line">- 点击页面不同功能界面，浏览器的地址栏会发生变化，路由自动更新显示与`url`所对应的vue组件</span><br><span class="line">- Vue官方提供了`路由插件Vue Router`，主要组成：</span><br><span class="line">  - `VueRouter`：路由器类，根据路由请求在路由视图中动态渲染选中的组件</span><br><span class="line">  - `router-link`：请求链接组件，浏览器会解析成a</span><br><span class="line">  - `router-view`：动态视图组件，用来渲染展示与路由路径对应的组件</span><br><span class="line"></span><br><span class="line">|                        |                 |             |                         |                                               |</span><br><span class="line">| ---------------------- | --------------- | ----------- | ----------------------- | --------------------------------------------- |</span><br><span class="line">|                        |                 |             | 路由链接组件router-link | &lt;router-link to=&quot;/emp&quot;&gt;员工管理&lt;/router-link&gt; |</span><br><span class="line">| /user : UserView.vue   |                 | ←路由请求—— |                         |                                               |</span><br><span class="line">| /emp : EmpView.vue     | 路由器VueRouter |             |                         |                                               |</span><br><span class="line">| /order : OrderView.vue | 路由表          |             |                         |                                               |</span><br><span class="line">|                        |                 | ——更新→     |                         |                                               |</span><br><span class="line">|                        |                 |             | 路由展示组件router-view | &lt;router-view&gt;&lt;/router-view&gt;                   |</span><br><span class="line"></span><br><span class="line">- VueRouter根据配置的url的hash片段和路由的组件关系去维护一张路由表</span><br><span class="line">- 页面提供一个router-link组件，用户点击，发出路由请求</span><br><span class="line">- 接着VueRouter根据路由请求，在路由表中找到对应的vue组件</span><br><span class="line">- 最后VueRouter会切换router-view中的组件，从而进行视图的更新</span><br><span class="line"></span><br><span class="line">#### 路由入门</span><br><span class="line"></span><br><span class="line">- 安装vue-router插件：`npm install vue-router@3.5.1`</span><br><span class="line">- 然后在`src/router/index.js`文件中定义路由表，根据其提供的模板代码进行修改</span><br><span class="line"></span><br><span class="line">- 在`main.js`中，引入router功能：`import router from &#x27;./router&#x27;`</span><br><span class="line">- 修改页面，将按钮标签换为&lt;router-link&gt;</span><br><span class="line"></span><br><span class="line">- 然后再内容展示区域`App.vue`中定义`router-view`，作为组件的切换</span><br><span class="line">- 在路由中配置`/`对应的路由组件</span><br><span class="line"></span><br><span class="line">### 打包部署</span><br><span class="line"></span><br><span class="line">- 主要分为两步：【前端工程打包】【通过nginx服务器发布前端工程】</span><br><span class="line"></span><br><span class="line">#### 前端工程打包</span><br><span class="line"></span><br><span class="line">- 直接通过VS Code的NPM脚本中提供的build按钮来完成</span><br><span class="line">- 然后会在工程目录下生成一个dist目录，用于存放需要发布的前端资源</span><br><span class="line"></span><br><span class="line">#### 部署前端工程</span><br><span class="line"></span><br><span class="line">##### nginx介绍</span><br><span class="line"></span><br><span class="line">- 一款轻量级的Web服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器</span><br><span class="line">- 在Windows的安装：直接解压到无中文目录</span><br><span class="line"></span><br><span class="line">| nginx目录结构 |                  |</span><br><span class="line">| ------------- | ---------------- |</span><br><span class="line">| conf          | 配置文件目录     |</span><br><span class="line">| contrib       |                  |</span><br><span class="line">| docs          |                  |</span><br><span class="line">| html          | 静态资源文件目录 |</span><br><span class="line">| logs          | 日志文件目录     |</span><br><span class="line">| temp          | 临时文件目录     |</span><br><span class="line">| nginx.exe     |                  |</span><br><span class="line"></span><br><span class="line">- 发布则将资源放入到html目录</span><br><span class="line"></span><br><span class="line">##### 部署</span><br><span class="line"></span><br><span class="line">- 将之前打包的前端工程`vue/vue-rpoject/dist`目录下的内容拷贝到nginx的html目录下</span><br><span class="line"></span><br><span class="line">- 双击`nginx,exe`启动`nginx`</span><br><span class="line"></span><br><span class="line">- nginx服务器的端口号是80，启动成功后浏览器访问http://localhost:80，80端口可省略</span><br><span class="line">- 访问成功，前端工程发布成功</span><br><span class="line"></span><br><span class="line">- 注：如果80端口被占用，修改`conf/nginx.conf`配置文件来修改端口号</span><br><span class="line"></span><br><span class="line">### Day03-作业</span><br><span class="line"></span><br><span class="line">- [‌⁠‬‌‌﻿‍⁠‍‬‬‍⁠‍‌⁠﻿‬‍⁠⁠‌‌﻿﻿﻿Day03-作业 - 飞书云文档 (feishu.cn)](https://heuqqdmbyk.feishu.cn/docx/FqzUd6xnho7yDUx2ZTkcdTISnEb)</span><br><span class="line"></span><br><span class="line">## Day04-Maven-SpringBootWeb入门</span><br><span class="line"></span><br><span class="line">- [‌⁠‍‬‬‍‬‌‬‍‬‌‍‍‬⁠⁠‌﻿‌‍‌﻿Day04-作业 - 飞书云文档 (feishu.cn)](https://heuqqdmbyk.feishu.cn/docx/OEyKdHzt1oZuCtxuChBcoKqWnlb)</span><br><span class="line"></span><br><span class="line">### 前端Web开发</span><br><span class="line"></span><br><span class="line">&gt; HTML、CSS、JavaScript</span><br><span class="line">&gt;</span><br><span class="line">&gt; Vue、Element、Nginx</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 后端Web开发</span><br><span class="line"></span><br><span class="line">&gt; Maven</span><br><span class="line">&gt;</span><br><span class="line">&gt; SpringBoot Web 基础篇</span><br><span class="line">&gt;</span><br><span class="line">&gt; MySQL</span><br><span class="line">&gt;</span><br><span class="line">&gt; SpringBoot Mybatis</span><br><span class="line">&gt;</span><br><span class="line">&gt; SpringBoot Web 开发篇</span><br><span class="line">&gt;</span><br><span class="line">&gt; SpringBoot Web 进阶篇</span><br><span class="line"></span><br><span class="line">### Maven</span><br><span class="line"></span><br><span class="line">&gt; 1. 初识Maven</span><br><span class="line">&gt; 2. Maven概述</span><br><span class="line">&gt;    1. Maven模型介绍</span><br><span class="line">&gt;    2. Maven仓库介绍</span><br><span class="line">&gt;    3. Maven安装与配置</span><br><span class="line">&gt; 3. IDEA集成Maven</span><br><span class="line">&gt; 4. 依赖管理</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; Maven的作用</span><br><span class="line">&gt;</span><br><span class="line">&gt; 1. [**依赖管理**：通过 `pom.xml` 文件，Maven 可以自动下载和管理项目所需的所有依赖库，避免手动添加和版本冲突](https://cloud.tencent.com/developer/article/1705945)(https://cloud.tencent.com/developer/article/1705945)(https://www.liaoxuefeng.com/wiki/1252599548343744/1309301146648610)。</span><br><span class="line">&gt; 2. [**标准化项目结构**：Maven 提供了一套标准化的项目结构，使项目更易于理解和维护](https://www.liaoxuefeng.com/wiki/1252599548343744/1309301146648610)(https://www.liaoxuefeng.com/wiki/1252599548343744/1309301146648610)。</span><br><span class="line">&gt; 3. [**构建和打包**：Maven 可以自动编译代码、运行测试、打包成 JAR 或 WAR 文件，并生成项目报告](https://www.liaoxuefeng.com/wiki/1252599548343744/1309301146648610)(https://www.liaoxuefeng.com/wiki/1252599548343744/1309301146648610)(https://www.runoob.com/maven/maven-tutorial.html)。</span><br><span class="line">&gt; 4. [**插件支持**：Maven 有丰富的插件生态系统，可以扩展其功能，如代码质量检查、文档生成等](https://cloud.tencent.com/developer/article/1705945)(https://cloud.tencent.com/developer/article/1705945)。</span><br><span class="line">&gt; 5. [**多环境配置**：通过配置文件，Maven 可以轻松管理不同环境（如开发、测试、生产）的配置](https://www.runoob.com/maven/maven-tutorial.html)(https://www.runoob.com/maven/maven-tutorial.html)。</span><br><span class="line"></span><br><span class="line">#### Maven is what</span><br><span class="line"></span><br><span class="line">- 用于**管理和构建java项目的**工具</span><br><span class="line">- 官网：`https://maven.apache.org/`</span><br><span class="line">- Apache开源项目：`https://www.apache.org/index.html#projects-list`</span><br><span class="line"></span><br><span class="line">#### Maven的作用</span><br><span class="line"></span><br><span class="line">- 依赖管理</span><br><span class="line"></span><br><span class="line">  - 方便快捷的管理项目依赖的资源(jar包)，避免版本冲突问题</span><br><span class="line">    - 如果咩有maven进行大型项目的依赖管理，则在开发项目时，需要引入大量的jar包</span><br><span class="line">    - jar包和jar包之间很多时候需要版本匹配，版本不匹配则容易出现版本冲突问题</span><br><span class="line">  - 使用maven进行项目依赖（jar包）管理</span><br><span class="line">    - 只需在maven项目的pom.xml文件中，添加配置</span><br><span class="line"></span><br><span class="line">- 统一项目结构</span><br><span class="line"></span><br><span class="line">  - 提供标准、统一的项目结构</span><br><span class="line">    - 如果使用maven创建工程，可以生成统一、标准的项目目录结构</span><br><span class="line">    - ∵使用不同开发工具创建工程，产生项目的目录结构不统一</span><br><span class="line"></span><br><span class="line">  | maven-project |      |         |           |      |                |</span><br><span class="line">  | ------------- | ---- | ------- | --------- | ---- | -------------- |</span><br><span class="line">  |               | src  |         |           |      |                |</span><br><span class="line">  |               |      | main    |           | →    | 实际项目资源   |</span><br><span class="line">  |               |      |         | java      | →    | java源代码目录 |</span><br><span class="line">  |               |      |         | resources | →    | 配置文件目录   |</span><br><span class="line">  |               |      | test    |           | →    | 测试项目资源   |</span><br><span class="line">  |               |      |         | java      |      |                |</span><br><span class="line">  |               |      |         | resources |      |                |</span><br><span class="line">  |               |      | pox.xml |           | →    | 项目配置文件   |</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  &gt; 目录说明： </span><br><span class="line">  &gt;</span><br><span class="line">  &gt; - src/main/java: java源代码目录</span><br><span class="line">  &gt; - src/main/resources:  配置文件信息</span><br><span class="line">  &gt; - src/test/java: 测试代码</span><br><span class="line">  &gt; - src/test/resources: 测试配置文件信息</span><br><span class="line"></span><br><span class="line">- 项目构建</span><br><span class="line"></span><br><span class="line">  - maven提供了标准的、跨平台(Linux、Windows、MacOS) 的自动化项目构建方式</span><br><span class="line">  - 清理→编译→测试→打包→发布</span><br><span class="line"></span><br><span class="line">- maven提供一套命令来完成项目构建</span><br><span class="line"></span><br></pre></td></tr></table></figure>
clean
validate
compile
test
package
verify
install
site
deploy
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### Maven概述</span><br><span class="line"></span><br><span class="line">- Apache Maven是一个项目管理和构建工具</span><br><span class="line">- 基于项目对象模型（Project Object Model）/ `POM`</span><br><span class="line">- 通过一小段**描述信息**来管理项目的**构建、报告和文档**</span><br><span class="line"></span><br><span class="line">#### Maven模型</span><br><span class="line"></span><br><span class="line">- `项目对象模型 (Project Object Model / POM)`</span><br><span class="line">- `依赖管理模型(Dependency)`</span><br><span class="line">- `构建生命周期/阶段(Build lifecycle &amp; phases)`</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">##### 构建生命周期/阶段(Build lifecycle &amp; phases)</span><br><span class="line"></span><br><span class="line">- 此处缺一张图：1.2.2</span><br><span class="line">- Maven提供编译和打包插件来完成标准化构建流程</span><br><span class="line"></span><br><span class="line">##### 项目对象模型 (Project Object Model)</span><br><span class="line"></span><br><span class="line">- 将项目抽象成一个对象模型，有专属坐标</span><br><span class="line"></span><br><span class="line">  &gt; 坐标，就是资源(jar包)的唯一标识，通过坐标可以定位到所需资源(jar包)位置</span><br><span class="line"></span><br><span class="line">##### 依赖管理模型(Dependency)</span><br><span class="line"></span><br><span class="line">- 项目依赖的第三方jar包都在`pom.xml`</span><br><span class="line"></span><br><span class="line">```xml</span><br><span class="line">&lt;dependencies&gt;</span><br><span class="line">	&lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
<li>
<p>书写在pom.xml文件中的坐标→通过坐标找到所要的jar包文件</p>
<blockquote>
<p>Maven仓库</p>
</blockquote>
</li>
</ul>
<h4 id="Maven仓库"><a class="header-anchor" href="#Maven仓库">¶</a>Maven仓库</h4>
<ul>
<li>
<p><code>仓库</code>：用于存储资源，管理各种jar包</p>
<blockquote>
<p>仓库的本质就是一个目录(文件夹)，这个目录被用来存储开发中所有依赖(就是jar包)和插件</p>
</blockquote>
</li>
<li>
<p>Maven仓库分为：</p>
<ul>
<li>本地仓库：自己计算机上的一个目录(用来存储jar包)</li>
<li>中央仓库：由Maven团队维护的全球唯一的。
<ul>
<li>仓库地址：<a target="_blank" rel="noopener" href="https://repo1.maven.org/maven2/">https://repo1.maven.org/maven2/</a></li>
</ul>
</li>
<li>远程仓库(私服)：公司团队搭建的私有仓库</li>
</ul>
</li>
<li>
<p>使用坐标引入对应依赖jar包后：</p>
<ul>
<li>首先会查找本地仓库中是否有对应的jar包
<ul>
<li>有→在项目中直接引用</li>
<li>无→去中央仓库中下载对应的jar包到本地仓库</li>
</ul>
</li>
<li>还可以搭建远程仓库(私服)
<ul>
<li>将来jar包的查找顺序则变为：<code> 本地仓库 --&gt; 远程仓库--&gt; 中央仓库</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="Maven安装"><a class="header-anchor" href="#Maven安装">¶</a>Maven安装</h4>
<ul>
<li>Day04–1.2.4</li>
<li>但是idea好像有自带？所以暂时先不下</li>
<li>
<ol>
<li><strong>解压 apache-maven-3.6.1-bin.zip（解压即安装）</strong></li>
<li><strong>配置本地仓库</strong></li>
<li><strong>配置阿里云私服</strong></li>
<li><strong>配置环境变量</strong></li>
</ol>
</li>
</ul>
<h5 id="Maven目录结构"><a class="header-anchor" href="#Maven目录结构">¶</a>Maven目录结构</h5>
<table>
<thead>
<tr>
<th>apache-maven目录结构</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>bin</td>
<td>存放的是可执行命令。（mvn 命令重点关注）</td>
</tr>
<tr>
<td>boot</td>
<td></td>
</tr>
<tr>
<td>conf</td>
<td>存放Maven的配置文件。（settings.xml配置文件后期需要修改）</td>
</tr>
<tr>
<td>lib</td>
<td>存放Maven依赖的jar包。（Maven也是使用java开发的，所以它也依赖其他的jar包）</td>
</tr>
<tr>
<td>LICENSE</td>
<td></td>
</tr>
<tr>
<td>NOTICE</td>
<td></td>
</tr>
<tr>
<td>README.txt</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="配置Maven环境"><a class="header-anchor" href="#配置Maven环境">¶</a>配置Maven环境</h4>
<h5 id="一次性环境配置"><a class="header-anchor" href="#一次性环境配置">¶</a>一次性环境配置</h5>
<ul>
<li>
<p>只是针对于当前工程的，如果我们再创建一个project，又恢复成默认的配置了</p>
</li>
<li>
<ol>
<li>
<p>选择 IDEA中 File  =&gt;  Settings  =&gt;  Build,Execution,Deployment  =&gt;  Build Tools  =&gt;  Maven</p>
</li>
<li>
<p>设置IDEA使用本地安装的Maven，并修改配置文件及本地仓库路径</p>
<blockquote>
<p>需要修改项：</p>
<p>Maven home path ：指定当前Maven的安装目录</p>
<p>User settings file ：指定当前Maven的settings.xml配置文件的存放路径</p>
<p>Local repository ：指定Maven的本地仓库的路径 (如果指定了settings.xml, 这个目录会自动读取出来, 可以不用手动指定)</p>
<p>例如：E:\develop\apache-maven-3.9.9</p>
</blockquote>
</li>
<li>
<p>配置工程的编译版本为11</p>
</li>
</ol>
</li>
</ul>
<h5 id="全局环境配置"><a class="header-anchor" href="#全局环境配置">¶</a>全局环境配置</h5>
<ol>
<li><code>close project</code>之后，在项目管理界面的<code>Customize</code>→<code>All settings</code></li>
<li>重复上述步骤</li>
<li>以后再创建project，默认就使用的是全局配置的信息</li>
</ol>
<h4 id="创建Maven项目"><a class="header-anchor" href="#创建Maven项目">¶</a>创建Maven项目</h4>
<blockquote>
<ul>
<li>
<p>Maven项目的目录结构:</p>
</li>
<li>
<p>maven-project01</p>
</li>
<li>
<pre><code class="language-HTML">|---  src  (源代码目录和测试代码目录)
        |---  main (源代码目录)
                   |--- java (源代码java文件目录)
                   |--- resources (源代码配置文件目录)
        |---  test (测试代码目录)
                   |--- java (测试代码java目录)
                   |--- resources (测试代码配置文件目录)
|--- target (编译、打包生成文件存放目录)
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### POM配置详解</span><br><span class="line"></span><br><span class="line">```HTML</span><br><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;</span><br><span class="line">        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">   &lt;!-- POM模型版本 --&gt;</span><br><span class="line">   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line"></span><br><span class="line">   &lt;!-- 当前项目坐标 --&gt;</span><br><span class="line">   &lt;groupId&gt;com.itheima&lt;/groupId&gt;</span><br><span class="line">   &lt;artifactId&gt;maven_project1&lt;/artifactId&gt;</span><br><span class="line">   &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line">   &lt;!-- 打包方式 --&gt;</span><br><span class="line">   &lt;packaging&gt;jar&lt;/packaging&gt;</span><br><span class="line"></span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- pom文件详解 --&gt;</span><br><span class="line">- &lt;project&gt; ：pom文件的根标签，表示当前maven项目</span><br><span class="line"></span><br><span class="line">- &lt;modelVersion&gt; ：声明项目描述遵循哪一个POM模型版本</span><br><span class="line">  - 虽然模型本身的版本很少改变，但它仍然是必不可少的。目前POM模型版本是4.0.0</span><br><span class="line">  </span><br><span class="line">- 坐标 ：&lt;groupId&gt;、&lt;artifactId&gt;、&lt;version&gt;</span><br><span class="line">  - 定位项目在本地仓库中的位置，由以上三个标签组成一个坐标</span><br><span class="line">  </span><br><span class="line">- &lt;packaging&gt; ：maven项目的打包方式，通常设置为jar或war（默认值：jar）</span><br></pre></td></tr></table></figure>
<h4 id="Maven坐标详解"><a class="header-anchor" href="#Maven坐标详解">¶</a>Maven坐标详解</h4>
<ul>
<li>
<p>Maven中的坐标是==资源的唯一标识== , 通过该坐标可以唯一定位资源位置</p>
</li>
<li>
<p>使用坐标来定义项目或引入项目中需要的依赖</p>
</li>
<li>
<p>Maven坐标主要组成</p>
<ul>
<li><code>groupId</code>：定义当前Maven项目隶属组织名称（通常是域名反写，例如：com.itheima）</li>
<li><code>artifactId</code>：定义当前Maven项目名称（通常是模块名称，例如 order-service、goods-service）</li>
<li><code>version</code>：定义当前项目版本号</li>
</ul>
</li>
<li>
<p>注意：</p>
<ul>
<li><code>资源</code>可以是插件、依赖、当前项目</li>
<li>项目如果<u>被其他的项目依赖</u>时，也是需要<u>坐标来引入</u>的</li>
</ul>
</li>
</ul>
<h4 id="导入Maven项目"><a class="header-anchor" href="#导入Maven项目">¶</a>导入Maven项目</h4>
<ul>
<li>
<p>方式1：<strong>使用Maven面板，快速导入项目</strong></p>
<ul>
<li>
<p>打开IDEA，选择右侧Maven面板，点击 + 号，选中对应项目的pom.xml文件，双击即可</p>
<blockquote>
<p>没有Maven面板，选择 View  =&gt;  Appearance  =&gt;  Tool Window Bars</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>方式2：<strong>使用idea导入模块项目</strong></p>
<ul>
<li><code>File  =&gt;  Project Structure  =&gt;  Modules  =&gt;  +  =&gt;  Import Module</code></li>
<li>找到要导入工程的<code>pom.xml</code>并导入</li>
</ul>
</li>
</ul>
<h3 id="Maven-依赖管理"><a class="header-anchor" href="#Maven-依赖管理">¶</a>Maven-依赖管理</h3>
<h4 id="依赖配置"><a class="header-anchor" href="#依赖配置">¶</a>依赖配置</h4>
<ul>
<li><strong>依赖</strong>：指当前项目运行所需要的jar包
<ul>
<li>一个项目中可以引入多个依赖</li>
</ul>
</li>
</ul>
<h4 id="引入依赖"><a class="header-anchor" href="#引入依赖">¶</a>引入依赖</h4>
<ul>
<li>在pom.xml中编写<dependencies>标签</dependencies></li>
<li>在<dependencies>标签中使用<dependency>引入坐标</dependency></dependencies></li>
<li>定义坐标的 groupId、artifactId、version</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 第1个依赖 : logback --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 第2个依赖 : junit --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>刷新按钮，引入最新加入的坐标</p>
<blockquote>
<p>注意事项：</p>
<ol>
<li>如果引入的依赖，在本地仓库中不存在，将会连接远程仓库 / 中央仓库，然后下载依赖（这个过程会比较耗时，耐心等待）</li>
<li>如果不知道依赖的坐标信息，可以到mvn的中央仓库（<a target="_blank" rel="noopener" href="https://mvnrepository.com/%EF%BC%89%E4%B8%AD%E6%90%9C%E7%B4%A2">https://mvnrepository.com/）中搜索</a></li>
</ol>
</blockquote>
</li>
</ul>
<h4 id="添加依赖的几种方式"><a class="header-anchor" href="#添加依赖的几种方式">¶</a>添加依赖的几种方式</h4>
<ol>
<li>利用<a target="_blank" rel="noopener" href="https://mvnrepository.com/">中央仓库</a>搜索的依赖坐标</li>
<li>利用IDEA工具搜索依赖</li>
</ol>
<h4 id="依赖传递"><a class="header-anchor" href="#依赖传递">¶</a>依赖传递</h4>
<ul>
<li>早期没有maven时：向项目中添加依赖的jar包，把所有的jar包复制到项目工程下（/llib路径下）</li>
<li>有了maven后：只需要在pom.xml配置文件中，添加依赖坐标即可
<ul>
<li>由于maven的依赖具有传递性，所以会<u>自动把所依赖的其他jar包也一起导入</u></li>
</ul>
</li>
</ul>
<h5 id="依赖传递的分类"><a class="header-anchor" href="#依赖传递的分类">¶</a>依赖传递的分类</h5>
<ul>
<li>分为<u>直接依赖</u>和<u>间接依赖</u></li>
<li><u>直接依赖</u>：
<ul>
<li>例如projectA依赖了projectB。对于projectA 来说，projectB 就是直接依赖</li>
</ul>
</li>
<li><u>间接依赖</u>：
<ul>
<li>projectB依赖了projectC及其他jar包</li>
<li>则在projectA中也会将projectC的依赖传递下来</li>
<li>对于projectA 来说，projectC就是间接依赖</li>
</ul>
</li>
</ul>
<h5 id="排除依赖"><a class="header-anchor" href="#排除依赖">¶</a>排除依赖</h5>
<ul>
<li>例如：A依赖B，B依赖C，想让A不依赖C→<strong>排除依赖</strong></li>
<li>排除依赖：指主动断开依赖的资源。（被排除的资源无需指定版本）</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itheima<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-projectB<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--排除依赖, 主动断开依赖的资源--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="依赖范围"><a class="header-anchor" href="#依赖范围">¶</a>依赖范围</h4>
<ul>
<li>
<p>在<code>pom.xml</code>中导入的依赖，在<code>main</code>和<code>test</code>文件夹范围内都可以使用</p>
</li>
<li>
<p><u>希望限制使用范围</u>：使用<code>使用&lt;scope&gt;标签</code>设置其作用范围</p>
</li>
<li>
<p>作用范围：</p>
<ol>
<li>主程序范围有效（main文件夹范围内）</li>
<li>测试程序范围有效（test文件夹范围内）</li>
<li>是否参与打包运行（package指令范围内）</li>
</ol>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    	<span class="comment">&lt;!-- 设置作用范围：仅测试环境有效（只能在test文件夹范围内使用） --&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="生命周期"><a class="header-anchor" href="#生命周期">¶</a>生命周期</h4>
<h5 id="生命周期的介绍"><a class="header-anchor" href="#生命周期的介绍">¶</a>生命周期的介绍</h5>
<ul>
<li>
<p>Maven的生命周期就是为了对所有的构建过程进行抽象和统一。 描述了一次项目构建，经历哪些阶段</p>
</li>
<li>
<p>Maven的生命周期包括：项目的清理，初始化，编译，测试，打包，集成测试，验证，部署和站点生成等几乎所有构建步骤。</p>
</li>
<li>
<p>Maven对项目构建的生命周期划分为3套（相互独立）：<code>clean</code>  <code>default</code>  <code>site</code></p>
<ul>
<li><code>clean</code>：清理工作</li>
<li><code>default</code>：核心工作。如：编译、测试、打包、安装、部署等</li>
<li><code>site</code>：生成报告、发布站点等</li>
</ul>
</li>
<li>
<p>常用的几个生命周期阶段：</p>
<ul>
<li><code>clean</code>：移除上一次构建生成的文件</li>
<li><code>compile</code>：编译项目源代码</li>
<li><code>test</code>：使用合适的单元测试框架运行测试(junit)</li>
<li><code>package</code>：将编译后的文件打包，如：jar、war等</li>
<li><code>install</code>：安装项目到本地仓库</li>
</ul>
</li>
<li>
<p>Maven的生命周期是<strong>抽象</strong>的，这意味着生命周期本身不做任何实际工作</p>
<ul>
<li><strong>在Maven的设计中，实际任务（如源代码编译）都交由插件来完成</strong></li>
<li>IDEA右侧的Maven工具栏：maven生命周期的快速访问通道</li>
</ul>
</li>
<li>
<p>生命周期的顺序是：</p>
<ul>
<li><code>clean --&gt; validate --&gt; compile --&gt; test --&gt; package --&gt; verify --&gt; install --&gt; site --&gt; deploy </code></li>
</ul>
</li>
<li>
<p>需要关注的：</p>
</li>
<li>
<p><code>clean --&gt;  compile --&gt; test --&gt; package  --&gt; install </code></p>
</li>
<li>
<p>注意：</p>
<ul>
<li>在同一套生命周期中，我们在执行后面的生命周期时，前面的生命周期都会执行</li>
</ul>
<blockquote>
<p>思考：当运行package生命周期时，clean、compile生命周期会不会运行？</p>
<p>​               → clean不会运行，compile会运行。  因为compile与package属于同一套生命周期，而clean与package不属于同一套生命周期。</p>
</blockquote>
</li>
</ul>
<h5 id="生命周期的执行"><a class="header-anchor" href="#生命周期的执行">¶</a>生命周期的执行</h5>
<h6 id="两种执行方式"><a class="header-anchor" href="#两种执行方式">¶</a>两种执行方式</h6>
<ul>
<li>
<p>方式一：在idea工具右侧的maven工具栏中，选择对应的生命周期，双击执行</p>
</li>
<li>
<p><strong>compile</strong>:</p>
<ul>
<li>方式①：双击Lifecycle中的compile</li>
<li>方式②：点击Maven界面绿色三角</li>
<li>只针对<code>main</code>文件夹范围内的源代码进行编译</li>
<li>编译后生成<code>target</code>目录</li>
</ul>
</li>
<li>
<p><strong>test</strong>:</p>
<ul>
<li>只针对<code>test</code>文件夹范围内的源代码进行编译</li>
<li>编译后生成测试类的字节码文件</li>
</ul>
</li>
<li>
<p><strong>package</strong>：</p>
<ul>
<li>以项目名+版本号，作为打包后<code>jar</code>文件的名字</li>
<li>打包后生成的<code>jar</code>文件，存放在<code>target</code>目录下</li>
</ul>
</li>
<li>
<p><strong>install</strong>：</p>
<ul>
<li>把jar文件安装在指定坐标路径下</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 指定坐标路径：junit/junit/4.12 --&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>clean</strong>：</p>
<ul>
<li>删除<code>target</code>目录</li>
</ul>
</li>
<li>
<p>方式二：在DOS命令行中，通过maven命令执行</p>
</li>
</ul>
<ol>
<li>进入DOS命令行
<ol>
<li>按住Shift + 鼠标右键 打开Powershell 【我趣这招快啊】</li>
<li>在项目路径下，使用命令行：<code>mvn clean / compile / test / package / install</code> 完成对应操作</li>
</ol>
</li>
</ol>
<h5 id="附录"><a class="header-anchor" href="#附录">¶</a>附录</h5>
<h5 id="更新依赖索引"><a class="header-anchor" href="#更新依赖索引">¶</a>更新依赖索引</h5>
<ul>
<li>配置完maven仓库信息后，在idea中依然搜索不到仓库中的jar包→
<ul>
<li>更新idea中maven的索引</li>
<li><code>打开设置----搜索maven----Repositories----选中本地仓库-----点击Update</code></li>
</ul>
</li>
</ul>
<h5 id="清理maven仓库"><a class="header-anchor" href="#清理maven仓库">¶</a>清理maven仓库</h5>
<ul>
<li>
<p>下载不完全的jar包→以lastUpdated结尾</p>
</li>
<li>
<p>需要手动删除这些以lastUpdated结尾的文件，然后maven才会再次自动下载这些jar包</p>
</li>
<li>
<p>如果本地仓库中有很多这样的以lastUpadted结尾的文件，可以定义一个批处理文件，在其中编写如下脚本来删除</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> REPOSITORY_PATH=E:\develop\apache-maven-3.6.1\mvn_repo</span><br><span class="line">rem 正在搜索...</span><br><span class="line"></span><br><span class="line">del /s /q %REPOSITORY_PATH%\*.lastUpdated</span><br><span class="line"></span><br><span class="line">rem 搜索完毕</span><br><span class="line">pause</span><br></pre></td></tr></table></figure>
<ul>
<li>操作步骤
<ul>
<li>定义批处理文件del_lastUpdated.bat  (直接创建一个文本文件，命名为del_lastUpdated，后缀名直接改为bat即可 )</li>
<li>右键点击bat文件并编辑<code>set REPOSITORY_PATH=E:\develop\apache-maven-3.6.1\mvn_repo</code>，将PATH后面改为本地仓库的地址</li>
<li>修改完毕后，双击脚本即可删除maven仓库中的残留文件</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="SpringBootWeb"><a class="header-anchor" href="#SpringBootWeb">¶</a>SpringBootWeb</h3>
<blockquote>
<ol>
<li>SpringBootWeb入门</li>
<li>HTTP协议</li>
<li>Web服务器-Tomcat</li>
</ol>
</blockquote>
<h4 id="Spring全家桶"><a class="header-anchor" href="#Spring全家桶">¶</a>Spring全家桶</h4>
<ul>
<li>
<p>Spring提供了若干个子项目，每个项目用于完成特定的功能</p>
</li>
<li>
<p>在项目开发时，一般会偏向选择spring家族的技术，来解决对应领域的问题</p>
</li>
<li>
<p>最基础、最核心： SpringFramework</p>
<ul>
<li>其他的spring家族的技术，都是基于SpringFramework</li>
<li>SpringFramework中提供很多实用功能，如：<code>依赖注入</code>、<code>事务管理</code>、<code>web开发支持</code>、<code>数据访问</code>、<code>消息服务</code>等等</li>
<li>但是SpringFramework配置繁琐+入门难度大，所以推荐从简化配置、快速开发的Spring Boot入手</li>
</ul>
</li>
</ul>
<h4 id="SpringBoot快速入门"><a class="header-anchor" href="#SpringBoot快速入门">¶</a>SpringBoot快速入门</h4>
<ul>
<li>第1步：创建SpringBoot工程项目</li>
<li>第2步：定义HelloController类，添加方法hello，并添加注解</li>
<li>第3步：测试运行</li>
</ul>
<h5 id="Web分析"><a class="header-anchor" href="#Web分析">¶</a>Web分析</h5>
<ul>
<li>
<p>输入网址：</p>
<ul>
<li>通过IP地址<code>192.168.100.11</code>定位到网络上的一台计算机</li>
</ul>
<blockquote>
<p>在浏览器中输入localhost，就是127.0.0.1（本机）</p>
</blockquote>
<ul>
<li>​	通过端口号8080找到计算机上运行的程序</li>
</ul>
<blockquote>
<p><code>localhost:8080</code>  ,在本地中找到正在运行的8080端口的程序</p>
</blockquote>
<ul>
<li>
<p><code>/hello</code>是请求资源位置</p>
<ul>
<li>资源：对于计算机而言资源就是数据
<ul>
<li><code>web资源</code>：通过网络可以访问到的数据（通常指存放在服务器上的数据）</li>
</ul>
</li>
</ul>
<blockquote>
<p><code>localhost:8080/hello</code> ，意思是向本地计算机中的8080端口程序，获取资源位置是/hello的数据</p>
</blockquote>
<ul>
<li>8080端口程序，在服务器寻找<code>/hello</code>位置的资源数据，发送给浏览器</li>
</ul>
</li>
</ul>
</li>
<li>
<p>服务器：（可理解为ServerSocket）</p>
<ul>
<li>接收浏览器发送的信息（如：/hello）</li>
<li>在服务器上找到<code>/hello</code>的资源</li>
<li>把资源发送给浏览器</li>
</ul>
<blockquote>
<p>网络三要素：</p>
<ul>
<li>IP：网络中计算机的唯一标识</li>
<li>端口：计算机中运行程序的唯一标识</li>
<li>协议：网络中计算机之间交互的规则
<ul>
<li>浏览器和服务器两端进行数据交互，使用http协议</li>
</ul>
</li>
</ul>
</blockquote>
</li>
</ul>
<h4 id="HTTP协议"><a class="header-anchor" href="#HTTP协议">¶</a>HTTP协议</h4>
<h5 id="HTTP协议介绍"><a class="header-anchor" href="#HTTP协议介绍">¶</a>HTTP协议介绍</h5>
<ul>
<li>
<p><code>HTTP</code>：Hyper Text Transfer Protocol(超文本传输协议)，规定了<strong>浏览器</strong>与<strong>服务器</strong>之间数据传输的规则</p>
</li>
<li>
<p>http协议要求：<u>浏览器在向服务器发送请求数据</u>时，或是<u>服务器在向浏览器发送响应数据</u>时，都必须<u>按照固定的格式</u>进行数据传输</p>
</li>
<li>
<p>查看http协议的数据传输格式：</p>
<ul>
<li>浏览器按<code>F12</code>打开开发者工具→点击<code>网络/Network</code>→双击资源包查看Http协议固定格式</li>
</ul>
</li>
<li>
<p>浏览器向服务器进行请求时：2.2.1.1</p>
<ul>
<li>
<p>服务器按照固定的格式进行解析</p>
<blockquote>
<p>请求行</p>
<p>……</p>
<p>请求头</p>
<p>请求头是以&quot;Key: value&quot;形式体现的</p>
<p>Key是固定名字</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>服务器向浏览器进行响应时</p>
<ul>
<li>
<p>浏览器按照固定的格式进行解析</p>
<blockquote>
<p>响应行</p>
<p>……</p>
<p>响应头</p>
<p>响应头是以&quot;Key: value&quot;形式体现的</p>
<p>Key是固定名字</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p><strong><u>学习HTTP主要就是学习请求和响应数据的具体格式内容</u></strong></p>
</li>
</ul>
<h5 id="HTTP协议特点"><a class="header-anchor" href="#HTTP协议特点">¶</a>HTTP协议特点</h5>
<ul>
<li>
<p><strong><u>基于TCP协议</u></strong>：面向连接，安全</p>
<blockquote>
<p>TCP是一种面向连接的(建立连接之前是需要经过三次握手)、可靠的、基于字节流的传输层通信协议，在数据传输方面更安全</p>
</blockquote>
</li>
<li>
<p><strong><u>基于请求-响应模型</u></strong>：一次请求对应一次响应，先请求后响应</p>
<blockquote>
<p>请求和响应是一一对应关系，没有请求，就没有响应</p>
</blockquote>
</li>
<li>
<p><strong><u>HTTP协议是无状态协议</u></strong>：对于数据没有记忆能力，每次请求-响应都是独立的</p>
<blockquote>
<p>指的是客户端发送HTTP请求给服务端之后，服务端根据请求响应数据，响应完后，不会记录任何信息。</p>
<ul>
<li>缺点:  多次请求间不能共享数据</li>
<li>优点:  速度快</li>
</ul>
<p>请求之间无法共享数据会引发的问题：</p>
<ul>
<li>如：京东购物。加入购物车和去购物车结算是两次请求</li>
<li>由于HTTP协议的无状态特性，加入购物车请求响应结束后，并未记录加入购物车是何商品</li>
</ul>
<p>解决：使用会话技术(Cookie、Session)来解决这个问题</p>
</blockquote>
</li>
</ul>
<h5 id="HTTP-请求协议-2-2-2"><a class="header-anchor" href="#HTTP-请求协议-2-2-2">¶</a>HTTP-请求协议 2.2.2</h5>
<ul>
<li>
<p>HTTP协议分为：<strong><u>请求协议</u><strong>和</strong><u>响应协议</u></strong></p>
</li>
<li>
<p><strong><u>请求协议</u></strong>：浏览器将数据以请求格式发送到服务器</p>
<ul>
<li>包括：<strong>请求行</strong>、<strong>请求头</strong>、<strong>请求体</strong></li>
</ul>
</li>
<li>
<p><strong><u>响应协议</u></strong>：服务器将数据以响应格式返回给浏览器</p>
</li>
<li>
<p>包括：<strong>响应行</strong>、<strong>响应头</strong>、<strong>响应体</strong></p>
</li>
<li>
<p>浏览器访问服务器的几种方式</p>
<table>
<thead>
<tr>
<th>请求方式</th>
<th>请求说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>获取资源。<br>向特定的资源发出请求。例：<a target="_blank" rel="noopener" href="http://www.baidu.com/s?wd=itheima">http://www.baidu.com/s?wd=itheima</a></td>
</tr>
<tr>
<td>POST</td>
<td>传输实体主体。<br>向指定资源提交数据进行处理请求（例：上传文件），数据被包含在请求体中。</td>
</tr>
<tr>
<td></td>
<td>还有OPTIONS、HEAD、PUT、DELETE、TRACE、CONNECT几种方式</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h6 id="GET方式的请求协议"><a class="header-anchor" href="#GET方式的请求协议">¶</a>GET方式的请求协议</h6>
<ul>
<li>
<p><strong><u>请求行</u></strong> ：HTTP请求中的第一行数据。</p>
</li>
<li>
<p>由：<code>请求方式</code>、<code>资源路径</code>、<code>协议/版本</code>组成（之间使用空格分隔）</p>
<ul>
<li>请求方式：GET</li>
<li>资源路径：/brand/findAll?name=OPPO&amp;status=1
<ul>
<li>请求路径：/brand/findAll</li>
<li>请求参数：name=OPPO&amp;status=1
<ul>
<li>请求参数是以key=value形式出现</li>
<li>多个请求参数之间使用<code>&amp;</code>连接
<ul>
<li>请求路径和请求参数之间使用<code>?</code>连接</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>协议/版本：HTTP/1.1</li>
</ul>
</li>
<li>
<p><strong><u>请求头</u></strong> ：第二行开始，格式为<code>key: value</code>形式</p>
<ul>
<li>http是个无状态的协议，所以在请求头设置浏览器的一些自身信息和想要响应的形式。</li>
<li>这样服务器在收到信息后，就可以知道是谁，想干什么了</li>
</ul>
</li>
<li>
<p><strong><u>常见HTTP请求头</u></strong></p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Host: 表示请求的主机名</span><br><span class="line"></span><br><span class="line">User-Agent: 浏览器版本。 例如：Chrome浏览器的标识类似Mozilla/5.0 ...Chrome/79 ，IE浏览器的标识类似Mozilla/5.0 (Windows NT ...)like Gecko</span><br><span class="line"></span><br><span class="line">Accept：表示浏览器能接收的资源类型，如text/*，image/*或者*/*表示所有</span><br><span class="line"></span><br><span class="line">Accept-Language：表示浏览器偏好的语言，服务器可以据此返回不同语言的网页</span><br><span class="line"></span><br><span class="line">Accept-Encoding：表示浏览器可以支持的压缩类型，例如gzip, deflate等</span><br><span class="line"></span><br><span class="line">Content-Type：请求主体的数据类型</span><br><span class="line"></span><br><span class="line">Content-Length：数据主体的大小（单位：字节）</span><br></pre></td></tr></table></figure>
<blockquote>
<p>举例说明：服务端可以根据请求头中的内容来获取客户端的相关信息，有了这些信息服务端就可以处理不同的业务需求。</p>
<p>比如:</p>
<ul>
<li>不同浏览器解析HTML和CSS标签的结果会有不一致，所以就会导致相同的代码在不同的浏览器会出现不同的效果</li>
<li>服务端根据客户端请求头中的数据获取到客户端的浏览器类型，就可以根据不同的浏览器设置不同的代码来达到一致的效果（浏览器兼容问题）</li>
</ul>
</blockquote>
<ul>
<li><strong><u>请求体</u></strong>：存储请求参数
<ul>
<li>GET请求的请求参数在请求行中，故不需要设置请求体</li>
</ul>
</li>
</ul>
<h6 id="POST方式的请求协议"><a class="header-anchor" href="#POST方式的请求协议">¶</a>POST方式的请求协议</h6>
<ul>
<li><strong><u>请求行</u></strong>：包含请求方式、资源路径、协议/版本
<ul>
<li>请求方式：POST</li>
<li>资源路径：/brand</li>
<li>协议/版本：HTTP/1.1</li>
</ul>
</li>
<li><strong><u>请求头</u></strong></li>
<li><strong><u>请求体</u></strong>：存储请求参数
<ul>
<li>请求体和请求头之间是有一个空行隔开</li>
<li>作用：用于标记请求头结束</li>
</ul>
</li>
</ul>
<h6 id="GET请求和POST请求的区别"><a class="header-anchor" href="#GET请求和POST请求的区别">¶</a>GET请求和POST请求的区别</h6>
<table>
<thead>
<tr>
<th>区别方式</th>
<th>GET请求</th>
<th>POST请求</th>
</tr>
</thead>
<tbody>
<tr>
<td>请求参数</td>
<td>请求参数在请求行中。<br>例：/brand/findAll?name=OPPO&amp;status=1</td>
<td>请求参数在请求体中</td>
</tr>
<tr>
<td>请求参数长度</td>
<td>请求参数长度有限制(浏览器不同限制也不同)</td>
<td>请求参数长度没有限制</td>
</tr>
<tr>
<td>安全性</td>
<td>安全性低。原因：请求参数暴露在浏览器地址栏中。</td>
<td>安全性相对高</td>
</tr>
</tbody>
</table>
<h5 id="HTTP-响应协议"><a class="header-anchor" href="#HTTP-响应协议">¶</a>HTTP-响应协议</h5>
<ul>
<li>HTTP响应的数据也分为3部分：<strong>响应行</strong>、<strong>响应头</strong> 、<strong>响应体</strong></li>
<li>响应行：响应数据的第一行。
<ul>
<li>响应行由<code>协议及版本</code>、<code>响应状态码</code>、<code>状态码描述</code>组成</li>
<li>协议/版本：HTTP/1.1</li>
<li>响应状态码：200</li>
<li>状态码描述：OK</li>
</ul>
</li>
<li>响应头：响应数据的第二行开始。
<ul>
<li>格式为key：value形式</li>
<li>http是个无状态的协议，所以可以在请求头和响应头中设置一些信息和想要执行的动作，这样对方在收到信息后，就可以知道你是谁，你想干什么</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Content-Type：表示该响应内容的类型，例如text/html，image/jpeg ；</span><br><span class="line"></span><br><span class="line">Content-Length：表示该响应内容的长度（字节数）；</span><br><span class="line"></span><br><span class="line">Content-Encoding：表示该响应压缩算法，例如gzip ；</span><br><span class="line"></span><br><span class="line">Cache-Control：指示客户端应如何缓存，例如max-age=300表示可以最多缓存300秒 ;</span><br><span class="line"></span><br><span class="line">Set-Cookie: 告诉浏览器为当前页面所在的域设置cookie ;</span><br></pre></td></tr></table></figure>
<ul>
<li>响应体： 响应数据的最后一部分。存储响应的数据
<ul>
<li>响应体和响应头之间有一个空行隔开</li>
<li>作用：用于标记响应头结束</li>
</ul>
</li>
</ul>
<h6 id="响应状态码"><a class="header-anchor" href="#响应状态码">¶</a>响应状态码</h6>
<ul>
<li>
<p>1xx</p>
<blockquote>
<p>响应中 — 临时状态码。表示请求已经接受，告诉客户端应该继续请求或者如果已经完成则忽略</p>
</blockquote>
</li>
<li>
<p>2xx</p>
<blockquote>
<p>成功 — 表示请求已经被成功接收，处理已完成</p>
</blockquote>
</li>
<li>
<p>3xx</p>
<blockquote>
<p>重定向 — 重定向到其它地方，让客户端再发起一个请求以完成整个处理</p>
</blockquote>
</li>
<li>
<p>4xx</p>
<blockquote>
<p>客户端错误 — 处理发生错误，责任在客户端，如：客户端的请求一个不存在的资源，客户端未被授权，禁止访问等</p>
</blockquote>
</li>
<li>
<p>5xx</p>
<blockquote>
<p>服务器端错误 — 处理发生错误，责任在服务端，如：服务端抛出异常，路由出错，HTTP版本不支持等</p>
</blockquote>
</li>
<li>
<p>需要认识的：</p>
<ul>
<li><code>200</code>    ok   客户端请求成功</li>
<li><code>404</code>  Not Found  请求资源不存在</li>
<li><code>500</code>  Internal Server Error  服务端发生不可预期的错误</li>
</ul>
</li>
</ul>
<h5 id="HTTP-协议解析"><a class="header-anchor" href="#HTTP-协议解析">¶</a>HTTP-协议解析</h5>
<ul>
<li>Demo工程中有一个<code>Server.java</code>类</li>
<li>主要用到：<code>ServerSocket</code>和<code>Socket</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">package com.itheima;</span><br><span class="line"></span><br><span class="line">import java.io.*;</span><br><span class="line">import java.net.ServerSocket;</span><br><span class="line">import java.net.Socket;</span><br><span class="line">import java.nio.charset.StandardCharsets;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">自定义web服务器</span><br><span class="line">*/</span><br><span class="line">public class Server &#123;</span><br><span class="line">    public static void main(String[] args) throws IOException &#123;</span><br><span class="line">		// 浏览器输入：http://localhost:8080  就会访问到ServerSocket程序</span><br><span class="line">        ServerSocket ss = new ServerSocket(8080); // 监听指定端口</span><br><span class="line"></span><br><span class="line">		/*</span><br><span class="line">		- ServerSocket程序，会读取服务器上html/a.html文件，并把文件数据发送给浏览器</span><br><span class="line">		- 浏览器接收到a.html文件中的数据后进行解析，显示网页内容</span><br><span class="line">		*/</span><br><span class="line">        System.out.println(&quot;server is running...&quot;);</span><br><span class="line"></span><br><span class="line">        while (true)&#123;</span><br><span class="line">            Socket sock = ss.accept();</span><br><span class="line">            System.out.println(&quot;connected from &quot; + sock.getRemoteSocketAddress());</span><br><span class="line">            Thread t = new Handler(sock);</span><br><span class="line">            t.start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Handler extends Thread &#123;</span><br><span class="line">    Socket sock;</span><br><span class="line"></span><br><span class="line">    public Handler(Socket sock) &#123;</span><br><span class="line">        this.sock = sock;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void run() &#123;</span><br><span class="line">        try (InputStream input = this.sock.getInputStream();</span><br><span class="line">             OutputStream output = this.sock.getOutputStream()) &#123;</span><br><span class="line">                handle(input, output);</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                this.sock.close();</span><br><span class="line">            &#125; catch (IOException ioe) &#123;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(&quot;client disconnected.&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void handle(InputStream input, OutputStream output) throws IOException &#123;</span><br><span class="line">        BufferedReader reader = new BufferedReader(new InputStreamReader(input, StandardCharsets.UTF_8));</span><br><span class="line">        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(output, StandardCharsets.UTF_8));</span><br><span class="line">        // 读取HTTP请求:</span><br><span class="line">        boolean requestOk = false;</span><br><span class="line">        String first = reader.readLine();</span><br><span class="line">        if (first.startsWith(&quot;GET / HTTP/1.&quot;)) &#123;</span><br><span class="line">            requestOk = true;</span><br><span class="line">        &#125;</span><br><span class="line">        for (;;) &#123;</span><br><span class="line">            String header = reader.readLine();</span><br><span class="line">            if (header.isEmpty()) &#123; // 读取到空行时, HTTP Header读取完毕</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(header);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(requestOk ? &quot;Response OK&quot; : &quot;Response Error&quot;);</span><br><span class="line"></span><br><span class="line">        if (!requestOk) &#123;// 发送错误响应:</span><br><span class="line">            writer.write(&quot;HTTP/1.0 404 Not Found\r\n&quot;);</span><br><span class="line">            writer.write(&quot;Content-Length: 0\r\n&quot;);</span><br><span class="line">            writer.write(&quot;\r\n&quot;);</span><br><span class="line">            writer.flush();</span><br><span class="line">        &#125; else &#123;// 发送成功响应:</span><br><span class="line">            //读取html文件，转换为字符串</span><br><span class="line">            InputStream is = Server.class.getClassLoader().getResourceAsStream(&quot;html/a.html&quot;);</span><br><span class="line">            BufferedReader br = new BufferedReader(new InputStreamReader(is));</span><br><span class="line">            StringBuilder data = new StringBuilder();</span><br><span class="line">            String line = null;</span><br><span class="line">            while ((line = br.readLine()) != null)&#123;</span><br><span class="line">                data.append(line);</span><br><span class="line">            &#125;</span><br><span class="line">            br.close();</span><br><span class="line">            int length = data.toString().getBytes(StandardCharsets.UTF_8).length;</span><br><span class="line"></span><br><span class="line">            writer.write(&quot;HTTP/1.1 200 OK\r\n&quot;);</span><br><span class="line">            writer.write(&quot;Connection: keep-alive\r\n&quot;);</span><br><span class="line">            writer.write(&quot;Content-Type: text/html\r\n&quot;);</span><br><span class="line">            writer.write(&quot;Content-Length: &quot; + length + &quot;\r\n&quot;);</span><br><span class="line">            writer.write(&quot;\r\n&quot;); // 空行标识Header和Body的分隔</span><br><span class="line">            writer.write(data.toString());</span><br><span class="line">            writer.flush();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>在开发中真正用到的，都是使用目前比较流行的web服务器。如：<strong>Tomcat</strong></li>
</ul>
<h4 id="Web服务器-Tomcat"><a class="header-anchor" href="#Web服务器-Tomcat">¶</a>Web服务器-Tomcat</h4>
<h5 id="服务器概述"><a class="header-anchor" href="#服务器概述">¶</a>服务器概述</h5>
<ul>
<li>
<p>服务器，也称伺服器。是提供计算服务的设备</p>
</li>
<li>
<p>由于服务器需要<strong>响应服务请求，并进行处理</strong>，因此一般来说服务器应具备<u>承担服务并且保障服务的能力</u></p>
</li>
<li>
<p>服务器的<strong>构成</strong>包括处理器、硬盘、内存、系统总线等，和通用的计算机架构类似，但是由于需要<strong>提供高可靠的服务</strong>，因此<u>在处理能力、稳定性、可靠性、安全性、可扩展性、可管理性等方面要求较高</u></p>
</li>
<li>
<p>在网络环境下，根据服务器提供的<strong>服务类型不同</strong>，可分为：<u>文件服务器，数据库服务器，应用程序服务器，WEB服务器等</u></p>
</li>
<li>
<p>服务器只是一台设备，必须安装<u>服务器软件</u>才能提供相应的服务</p>
</li>
</ul>
<h5 id="Web服务器"><a class="header-anchor" href="#Web服务器">¶</a>Web服务器</h5>
<ul>
<li>
<p>Web服务器是一个应用程序(软件)</p>
<ul>
<li>①对HTTP协议的操作进行封装</li>
<li>②使得程序员不必直接对协议进行操作(不用程序员自己写代码去解析http协议规则)，让Web开发更加便捷。</li>
<li>③主要功能是&quot;提供网上信息浏览服务&quot;</li>
</ul>
</li>
<li>
<p>Web服务器是安装在<strong>服务器端</strong>的一款软件，将来把自己写的<strong>Web项目</strong>部署到<strong>Tomcat服务器软件</strong>中</p>
<ul>
<li>当Web服务器软件启动后，部署在Web服务器软件中的页面就可以直接通过<strong>浏览器</strong>来访问了</li>
</ul>
</li>
<li>
<p><strong>Web服务器软件使用步骤</strong></p>
<ul>
<li>准备静态资源</li>
<li>下载安装Web服务器软件</li>
<li>将<strong>静态资源</strong>部署到Web服务器上</li>
<li>启动Web服务器<strong>使用浏览器访问</strong>对应的资源</li>
</ul>
</li>
</ul>
<h5 id="Tomcat"><a class="header-anchor" href="#Tomcat">¶</a>Tomcat</h5>
<blockquote>
<p>学习方向</p>
<ul>
<li>初步认识Tomcat</li>
<li>Tomcat的基本使用：安装、卸载、启动、关闭、配置和项目部署</li>
<li>IDEA创建Maven Web项目</li>
<li>IDEA使用Tomcat</li>
</ul>
</blockquote>
<ul>
<li>JavaWeb程序需要依赖Tomcat才能运行</li>
<li><a target="_blank" rel="noopener" href="https://tomcat.apache.org/">Tomcat官网</a></li>
</ul>
<h6 id="Tomcat目录结构和基本使用"><a class="header-anchor" href="#Tomcat目录结构和基本使用">¶</a>Tomcat目录结构和基本使用</h6>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">bin			可执行文件</span><br><span class="line">conf			配置文件</span><br><span class="line">lib			Tomcat依赖的jar包</span><br><span class="line">logs			日志文件</span><br><span class="line">temp			临时文件</span><br><span class="line">webapps			应用发布目录</span><br><span class="line">work			工作目录</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p><code>bin</code>：目录下有两类文件，一种是以<code>.bat</code>结尾的，是Windows系统的可执行文件，一种是以<code>.sh</code>结尾的，是Linux系统的可执行文件</p>
</li>
<li>
<p><code>webapps</code>：之后项目部署的目录</p>
</li>
<li>
<p><code>卸载</code>：直接删除目录</p>
</li>
<li>
<p><code>启动Tomcat</code>：双击<code>/bin/startup.bat</code></p>
<blockquote>
<p>Tomcat服务器启动后，黑窗口不关闭，就说明tomcat服务器正在运行</p>
</blockquote>
</li>
<li>
<p><code>关闭Tomcat</code>：</p>
<ul>
<li>不建议：直接×掉窗口</li>
<li>正常关闭：<code>bin/shutdown.bat</code></li>
<li>正常关闭：在Tomcat启动窗口按下Ctrl+C</li>
</ul>
</li>
</ul>
<h6 id="Tomcat常见问题"><a class="header-anchor" href="#Tomcat常见问题">¶</a>Tomcat常见问题</h6>
<ol>
<li>Tomcat启动时，窗口一闪而过</li>
</ol>
<ul>
<li>检查环境变量<code>JAVA_HOME</code>环境变量是否正确配置</li>
</ul>
<ol start="2">
<li>端口号冲突</li>
</ol>
<ul>
<li>换Tomcat端口号
<ul>
<li>修改<code>conf/server.xml</code>    <code>&lt;Connector port=&quot;8080&quot; ...... /&gt;</code></li>
</ul>
</li>
<li>注： HTTP协议默认端口号为80，如果将Tomcat端口号改为80，则将来访问Tomcat时，将不用输入端口号</li>
</ul>
<h4 id="SpringBoot入门程序解析"><a class="header-anchor" href="#SpringBoot入门程序解析">¶</a>SpringBoot入门程序解析</h4>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="https://start.spring.io/">Spring官方骨架</a>    Spring官方为程序员提供一个搭建项目的模板</p>
</li>
<li>
<p>Spring官方生成的SpringBoot项目，解压缩后，就会得到一个SpringBoot项目工程</p>
</li>
<li>
<p>打开pom.xml文件，可以看到springboot项目中引入了<code>web依赖</code>和<code>test依赖</code></p>
</li>
<li>
<p><code>起步依赖</code>：</p>
<ul>
<li>
<p>以<code>spring-boot-starter-</code>作为开头</p>
</li>
<li>
<p><code>spring-boot-starter-web</code>：包含了web应用开发所需要的常见依赖</p>
</li>
<li>
<p><code>spring-boot-starter-test</code>：包含了单元测试所需要的常见依赖</p>
</li>
<li>
<p>Spring官方提供很多现成的starter (起步依赖)</p>
</li>
<li>
<p>每一个起步依赖，都用于开发一个特定的功能</p>
<blockquote>
<p>举例：当我们开发中需要使用redis数据库时，只需要在SpringBoot项目中，引入：spring-boot-starter-redis ，即可导入redis开发所需要的依赖</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/2.7.2/reference/htmlsingle/#using.build-systems.starters">Spring Boot Reference Documentation</a>  SpringBoot官方文档</p>
</li>
<li>
<p><strong>SpringBoot父工程</strong></p>
<ul>
<li>通过maven引入的依赖，没有指定具体的依赖版本号，但是没有指定<version>版本号仍能正常使用</version></li>
<li>∵每一个SpringBoot工程，都有一个父工程</li>
<li>依赖的版本号，在父工程中统一管理</li>
</ul>
</li>
<li>
<p><strong>内嵌Tomcat</strong></p>
<ul>
<li>在SpringBoot中引入了web运行环境（也就是引入spring-boot-starter-web起步依赖），其内部已经集成了内置的Tomcat服务器</li>
<li>可通过IDEA开发工具右侧的maven面板看到当前工程引入的依赖。</li>
<li>其中已将Tomcat的相关依赖传递下来，即在SpringBoot中可以直接使用Tomcat服务器</li>
<li>内嵌Tomcat：<code>Dependencies→org.springframework.boot:spring-boot-starter-web→org.springframework.boot:spring-boot-starter-tomcat</code></li>
<li>运行SpringBoot的引导类时（运行main方法），就会看到命令行输出的日志</li>
</ul>
</li>
</ul>
<h3 id="Day04-作业"><a class="header-anchor" href="#Day04-作业">¶</a>Day04-作业</h3>
<ul>
<li><a target="_blank" rel="noopener" href="https://heuqqdmbyk.feishu.cn/docx/OEyKdHzt1oZuCtxuChBcoKqWnlb">‍⁠⁠‬‍⁠﻿‬﻿﻿‍﻿‬‬‍‍⁠‌‍﻿‌‬‍‬‍‍Day04-作业 - 飞书云文档 (feishu.cn)</a></li>
</ul>
<h2 id="Day05-SpringBootWeb请求响应"><a class="header-anchor" href="#Day05-SpringBootWeb请求响应">¶</a>Day05-SpringBootWeb请求响应</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://heuqqdmbyk.feishu.cn/docx/K5mRdtkvKoxyDNxyXUxchx4vn8c">‌‬‍﻿﻿‬‌⁠﻿‍⁠‍‍⁠‬‌‌﻿‍⁠‬‍‍‍⁠‍‍‬‬⁠⁠‬﻿‍‌Day05-作业 - 飞书云文档 (feishu.cn)</a></li>
</ul>
<h3 id="前言-BS架构"><a class="header-anchor" href="#前言-BS架构">¶</a>前言-BS架构</h3>
<ul>
<li>
<p><u>浏览器</u>发起请求，<u>请求</u>了我们的后端web<u>服务器</u><strong>(也就是内置的Tomcat)</strong></p>
</li>
<li>
<p>在开发web程序时呢，定义一个控制器类Controller，请求被部署在<strong>Tomcat中的Controller</strong>接收</p>
</li>
<li>
<p>然后Controller再给浏览器一个<strong>响应</strong>，响应一个字符串 “Hello World”。 而在请求响应的过程中是<strong>遵循HTTP协议</strong>的</p>
</li>
<li>
<p>但Tomcat这类Web服务器中，不识别自己定义的Controller</p>
</li>
<li>
<p>Tomcat是一个Servlet容器，支持Serlvet规范</p>
</li>
<li>
<p>SpringBoot进行web程序开发时，它内置了一个核心的Servlet程序 DispatcherServlet，称之为 <strong>核心控制器</strong></p>
<ul>
<li>DispatcherServlet 负责接收页面发送的请求，然后根据执行的规则，将请求再转发给后面的请求处理器Controller</li>
<li>请求处理器处理完请求之后，最终再由DispatcherServlet给浏览器响应数据</li>
</ul>
</li>
<li>
<p>浏览器发送请求，会携带请求数据，包括：请求行、请求头；</p>
<ul>
<li>请求到达tomcat之后，tomcat会负责<u>解析请求数据</u>，然后将解析后的请求数据传递给Servlet程序的HttpServletRequest对象， <u>HttpServletRequest</u> 对象就可以获取到请求数据。</li>
<li>Tomcat还给Servlet程序传递了一个参数 <u>HttpServletResponse</u>，通过这个对象，就可以给浏览器设置响应数据</li>
</ul>
</li>
<li>
<p><strong><u>浏览器/服务器的架构模式→BS架构</u></strong></p>
<ul>
<li>
<p><strong>Browser / Server</strong></p>
</li>
<li>
<p><strong>浏览器 / 服务器架构模式</strong></p>
</li>
<li>
<p><strong>客户端只需要浏览器，应用程序的逻辑和数据都存储在服务端</strong></p>
<blockquote>
<p>请求</p>
<p>响应</p>
<p>分层解耦</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="请求"><a class="header-anchor" href="#请求">¶</a>请求</h3>
<ul>
<li>如何接收页面传递的请求</li>
</ul>
<h4 id="Postman"><a class="header-anchor" href="#Postman">¶</a>Postman</h4>
<ul>
<li>
<p>专业的接口测试工具</p>
</li>
<li>
<p>功能强大的网页调试与发送网页HTTP请求的Chrome插件</p>
</li>
<li>
<p>此处缺图  1.1.2  Postman界面介绍</p>
</li>
<li>
<p>需要保存测试信息：登陆账号→创建工作空间（有点像创建代码仓库）→创建请求→点击<code>Save</code>保存当前请求→给请求起个别名+创建分类（保存请求时指定保存在哪个分类下）→</p>
</li>
</ul>
<h5 id="简单参数"><a class="header-anchor" href="#简单参数">¶</a>简单参数</h5>
<ul>
<li>在向服务器发起请求时，向服务器传递的是一些普通的请求数据</li>
<li>两种接收参数的方式：
<ul>
<li>原始方式</li>
<li>Springboot方式</li>
</ul>
</li>
</ul>
<h6 id="原始方式"><a class="header-anchor" href="#原始方式">¶</a>原始方式</h6>
<ul>
<li>
<p>通过Servlet中提供的API：HttpServletRequest（请求对象），获取请求的相关信息</p>
<blockquote>
<p>Tomcat接收到http请求时：把请求的相关信息封装到HttpServletRequest对象中</p>
</blockquote>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根据指定的参数名获取请求参数的数据值</span></span><br><span class="line">String  request.getParameter(<span class="string">&quot;参数名&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">    <span class="comment">//原始方式</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/simpleParam&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">simpleParam</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">        <span class="comment">// http://localhost:8080/simpleParam?name=Tom&amp;age=10</span></span><br><span class="line">        <span class="comment">// 请求参数： name=Tom&amp;age=10   （有2个请求参数）</span></span><br><span class="line">        <span class="comment">// 第1个请求参数： name=Tom   参数名:name，参数值:Tom</span></span><br><span class="line">        <span class="comment">// 第2个请求参数： age=10     参数名:age , 参数值:10</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;name&quot;</span>);<span class="comment">//name就是请求参数名</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">ageStr</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;age&quot;</span>);<span class="comment">//age就是请求参数名</span></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> Integer.parseInt(ageStr);<span class="comment">//需要手动进行类型转换</span></span><br><span class="line">        System.out.println(name+<span class="string">&quot;  :  &quot;</span>+age);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 仅了解，开发中用不到</span></span><br></pre></td></tr></table></figure>
<h6 id="SpringBoot方式"><a class="header-anchor" href="#SpringBoot方式">¶</a>SpringBoot方式</h6>
<ul>
<li>改进：对原始的API进行了封装，接收参数的形式更加简单</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">    <span class="comment">// http://localhost:8080/simpleParam?name=Tom&amp;age=10</span></span><br><span class="line">    <span class="comment">// 第1个请求参数： name=Tom   参数名:name，参数值:Tom</span></span><br><span class="line">    <span class="comment">// 第2个请求参数： age=10     参数名:age , 参数值:10</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//springboot方式</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/simpleParam&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">simpleParam</span><span class="params">(String name , Integer age )</span>&#123;<span class="comment">//形参名和请求参数名保持一致</span></span><br><span class="line">        System.out.println(name+<span class="string">&quot;  :  &quot;</span>+age);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="GET和POST在Postman中的测试方式"><a class="header-anchor" href="#GET和POST在Postman中的测试方式">¶</a>GET和POST在Postman中的测试方式</h6>
<ul>
<li><code>GET请求</code>：点击<code>Params</code>，在<code>KEY</code>中输入参数名，在<code>VALUE</code>中输入参数值</li>
<li><code>POST请求</code>：<code>Body</code> → <code>x-www-form-urlencoded</code>→在<code>KEY</code>中输入参数名，在<code>VALUE</code>中输入参数值</li>
</ul>
<blockquote>
<p>不论是GET请求还是POST请求，对于简单参数来讲，只要保证==请求参数名和Controller方法中的形参名保持一致==，就可以获取到请求参数中的数据值</p>
</blockquote>
<h6 id="参数名不一致"><a class="header-anchor" href="#参数名不一致">¶</a>参数名不一致</h6>
<ul>
<li>对于简单参数来讲，请求参数名和controller方法中的形参名不一致时，无法接收到请求数据</li>
<li>解决方案：可以使用Spring提供的<code>@RequestParam</code>注解完成映射</li>
<li>在方法形参前面加上 <code>@RequestParam</code> 然后通过<code>value</code>属性执行请求参数名，从而完成映射</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">    <span class="comment">// http://localhost:8080/simpleParam?name=Tom&amp;age=20</span></span><br><span class="line">    <span class="comment">// 请求参数名：name</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//springboot方式</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/simpleParam&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">simpleParam</span><span class="params">(<span class="meta">@RequestParam(&quot;name&quot;)</span> String username , Integer age )</span>&#123;</span><br><span class="line">        System.out.println(username+<span class="string">&quot;  :  &quot;</span>+age);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>@RequestParam中的required属性默认为true（默认值也是true），代表该请求参数必须传递，如果不传递将报错</p>
<p>如果该参数可选，可将required属性设置为false</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/simpleParam&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">simpleParam</span><span class="params">(<span class="meta">@RequestParam(name = &quot;name&quot;, required = false)</span> String username, Integer age)</span>&#123;</span><br><span class="line"> System.out.println(username+ <span class="string">&quot;:&quot;</span> + age);</span><br><span class="line"> <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="实体参数"><a class="header-anchor" href="#实体参数">¶</a>实体参数</h5>
<ul>
<li>简单参数：前端传递了多少个请求参数，后端controller方法中的形参就要书写多少个</li>
<li>改进：将请求参数封装到一个实体类对象中
<ul>
<li>遵守：<strong>请求参数名与实体类的属性名相同</strong></li>
</ul>
</li>
</ul>
<h6 id="简单实体对象"><a class="header-anchor" href="#简单实体对象">¶</a>简单实体对象</h6>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义POJO实体类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;  <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="comment">// 一堆getter和setter函数</span></span><br><span class="line">	<span class="comment">// 重载toString()方法</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Controller方法</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">    <span class="comment">//实体参数：简单实体对象</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/simplePojo&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">simplePojo</span><span class="params">(User user)</span>&#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">// Postman测试</span></span><br><span class="line">- 参数名和实体类属性名一致时：正确返回数据值</span><br><span class="line">- 参数名和实体类属性名不一致时：不对应的项返回值为<span class="literal">null</span></span><br></pre></td></tr></table></figure>
<h6 id="复杂实体对象"><a class="header-anchor" href="#复杂实体对象">¶</a>复杂实体对象</h6>
<ul>
<li>在实体类中有一个或多个属性，也是实体对象类型的</li>
<li>需遵循：<strong>请求参数名与形参对象属性名相同，按照对象层次结构关系即可接收嵌套实体类属性参数</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义POJO实体类</span></span><br><span class="line">	<span class="comment">// 定义 Address 实体类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Address</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String province;  <span class="keyword">private</span> String city;</span><br><span class="line">    <span class="comment">// 一堆的getter和setter函数</span></span><br><span class="line">	<span class="comment">// 重载toString()方法</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// User实体类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Address address; <span class="comment">//地址对象</span></span><br><span class="line">	<span class="comment">// 一堆的getter和setter函数</span></span><br><span class="line">	<span class="comment">// 重载toString()方法</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Controller方法</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">    <span class="comment">//实体参数：复杂实体对象</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/complexPojo&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">complexPojo</span><span class="params">(User user)</span>&#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="数组集合参数"><a class="header-anchor" href="#数组集合参数">¶</a>数组集合参数</h5>
<ul>
<li>使用场景：在HTML的表单中，有一个表单项是支持多选的(复选框)，可以提交选择的多个值</li>
<li>后端接收多个值的两种方式：
<ul>
<li>数组</li>
<li>集合</li>
</ul>
</li>
</ul>
<h6 id="数组"><a class="header-anchor" href="#数组">¶</a>数组</h6>
<ul>
<li><strong>请求参数名与形参数组名称相同且请求参数为多个，定义数组类型形参即可接收参数</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">    <span class="comment">//数组集合参数</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/arrayParam&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">arrayParam</span><span class="params">(String[] hobby)</span>&#123;</span><br><span class="line">        System.out.println(Arrays.toString(hobby));</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>前端请求时有两种传递形式
<ul>
<li>方式1：<code> xxxxxxxxxx?hobby=game&amp;hobby=java</code></li>
<li>方式2：<code>xxxxxxxxxxxxx?hobby=game,java</code></li>
</ul>
</li>
</ul>
<h6 id="集合"><a class="header-anchor" href="#集合">¶</a>集合</h6>
<ul>
<li>
<p><strong>请求参数名与形参集合对象名相同且请求参数为多个，@RequestParam 绑定参数关系</strong></p>
<blockquote>
<p>默认情况下，请求中参数名相同的多个值，是封装到数组。如果要封装到集合，要使用@RequestParam绑定参数关系</p>
</blockquote>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">    <span class="comment">//数组集合参数</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/listParam&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">listParam</span><span class="params">(<span class="meta">@RequestParam</span> List&lt;String&gt; hobby)</span>&#123;</span><br><span class="line">        System.out.println(hobby);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="日期参数"><a class="header-anchor" href="#日期参数">¶</a>日期参数</h5>
<ul>
<li>日期的格式多样，对日期类型的参数进行封装时，需要通过<code>@DateTimeFormat</code>注解，以及其<code>pattern</code>属性来<strong>设置日期的格式</strong></li>
<li><code>@DateTimeFormat</code>注解的<code>pattern</code>属性中指定了哪种日期格式，前端的日期参数就必须按照指定的格式传递。</li>
<li>后端<code>controller</code>方法中，需要使用<code>Date</code>类型或<code>LocalDateTime</code>类型，来封装传递的参数。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">    <span class="comment">//日期时间参数</span></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/dateParam&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">dateParam</span><span class="params">(<span class="meta">@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</span> LocalDateTime updateTime)</span>&#123;</span><br><span class="line">        System.out.println(updateTime);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="JSON参数"><a class="header-anchor" href="#JSON参数">¶</a>JSON参数</h5>
<ul>
<li>前后端进行交互时，前后端通过会使用JSON格式的数据传输比较复杂的参数</li>
</ul>
<ol>
<li>Postman在发送请求时，如何传递json格式的请求参数</li>
<li>在服务端的controller方法中，如何接收json格式的请求参数</li>
</ol>
<ul>
<li>
<p>Postman发送JSON格式数据</p>
<ul>
<li>JSON格式数据需要放在请求体中，使用<code>POST</code>方式</li>
<li><code>Body</code>→<code>raw</code>→选<code>JSON</code>→输入<code>JSON</code>格式数据</li>
</ul>
</li>
<li>
<p>服务端Controller方法接收JSON格式数据</p>
<ul>
<li>传递json格式的参数，在Controller中会使用实体类进行封装</li>
<li>封装规则：<strong>JSON数据键名与形参对象属性名相同，定义POJO类型形参即可接收参数。需要使用 @RequestBody标识</strong></li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实体类Address</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Address address;</span><br><span class="line">    <span class="comment">//省略GET , SET 方法</span></span><br><span class="line">&#125;   </span><br><span class="line"></span><br><span class="line"><span class="comment">// 实体类User</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Address address;</span><br><span class="line">    <span class="comment">//省略GET , SET 方法</span></span><br><span class="line">&#125;    </span><br><span class="line"></span><br><span class="line"><span class="comment">// Controller方法</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">    <span class="comment">//JSON参数</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/jsonParam&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">jsonParam</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span>&#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="路径参数"><a class="header-anchor" href="#路径参数">¶</a>路径参数</h5>
<ul>
<li>
<p>传统开发中请求参数：<code>放在请求体(POST请求)传递</code>或<code>跟在URL后面通过?key=value的形式传递(GET请求)</code></p>
</li>
<li>
<p>现在的开发：直接在请求的URL中传递参数→路径参数</p>
</li>
<li>
<p>路径参数：</p>
<ul>
<li><code>前端</code>：通过请求URL直接传递参数</li>
<li><code>后端</code>：使用{…}来标识该路径参数，需要使用<code>@PathVariable</code>获取路径参数
<ul>
<li>因为前端传递的路径参数值是可变的，所以后端接收到路径参数时，使用<code>&quot;&#123;key&#125;&quot;</code>方式来标记路径参数</li>
<li><code>@PathVariable</code>注解：
<ul>
<li>获取到路径参数<code>&#123;id&#125;</code></li>
<li>把路径参数绑定到形参变量id</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">    <span class="comment">//路径参数</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/path/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">pathParam</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span>&#123;</span><br><span class="line">        System.out.println(id);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>传递多个路径参数</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">    <span class="comment">//路径参数</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/path/&#123;id&#125;/&#123;name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">pathParam2</span><span class="params">(<span class="meta">@PathVariable</span> Integer id, <span class="meta">@PathVariable</span> String name)</span>&#123;</span><br><span class="line">        System.out.println(id+ <span class="string">&quot; : &quot;</span> +name);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="响应"><a class="header-anchor" href="#响应">¶</a>响应</h3>
<ul>
<li>Controller程序可以接收请求，还可以进行响应</li>
</ul>
<h4 id="ResponseBody"><a class="header-anchor" href="#ResponseBody">¶</a>@ResponseBody</h4>
<ul>
<li>
<p>注解：</p>
<ul>
<li><code>类型</code>：方法注解、类注解</li>
<li><code>位置</code>：书写在Controller方法上或类上</li>
<li><code>作用</code>：将方法返回值直接响应给浏览器
<ul>
<li>如果返回值类型是<code>实体对象/集合</code>，将会转换为JSON格式后在响应给浏览器</li>
</ul>
</li>
</ul>
</li>
<li>
<p>@<code>RestController</code>注解是一个组合注解</p>
<ul>
<li><code>@RestController = @Controller + @ResponseBody</code></li>
<li>∴即使只有<code>@RestController</code>注解和<code>@RequestMapping</code>注解，即使没有<code>@ResponseBody</code>注解，也可以给浏览器响应</li>
</ul>
</li>
<li>
<p>@RestController源码</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE&#125;)</span>   <span class="comment">//元注解（修饰注解的注解）</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span>  <span class="comment">//元注解</span></span><br><span class="line"><span class="meta">@Documented</span>    <span class="comment">//元注解</span></span><br><span class="line"><span class="meta">@Controller</span>   </span><br><span class="line"><span class="meta">@ResponseBody</span> </span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> RestController &#123;</span><br><span class="line">    <span class="meta">@AliasFor(</span></span><br><span class="line"><span class="meta">        annotation = Controller.class</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p><code>结论</code>：在类上添加<code>@RestController</code>就相当于添加了<code>@ResponseBody</code>注解</p>
</li>
<li>
<p>类上有@RestController注解或@ResponseBody注解时：表示当前类下所有的方法返回值做为响应数据</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ResponseController</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//响应字符串</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World ~&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello World ~&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//响应实体对象</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/getAddr&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Address <span class="title function_">getAddr</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Address</span> <span class="variable">addr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Address</span>();<span class="comment">//创建实体类对象</span></span><br><span class="line">        addr.setProvince(<span class="string">&quot;广东&quot;</span>);</span><br><span class="line">        addr.setCity(<span class="string">&quot;深圳&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> addr;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//响应集合数据</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/listAddr&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Address&gt; <span class="title function_">listAddr</span><span class="params">()</span>&#123;</span><br><span class="line">        List&lt;Address&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();<span class="comment">//集合对象</span></span><br><span class="line">        <span class="type">Address</span> <span class="variable">addr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Address</span>();</span><br><span class="line">        addr.setProvince(<span class="string">&quot;广东&quot;</span>);</span><br><span class="line">        addr.setCity(<span class="string">&quot;深圳&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Address</span> <span class="variable">addr2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Address</span>();</span><br><span class="line">        addr2.setProvince(<span class="string">&quot;陕西&quot;</span>);</span><br><span class="line">        addr2.setCity(<span class="string">&quot;西安&quot;</span>);</span><br><span class="line"></span><br><span class="line">        list.add(addr);</span><br><span class="line">        list.add(addr2);</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="统一响应结果"><a class="header-anchor" href="#统一响应结果">¶</a>统一响应结果</h4>
<ul>
<li>在真实的项目开发中：无论使用哪种方法，定义一个统一的返回结果</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Result</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 响应码，1 代表成功；0 代表失败</span></span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 提示信息</span></span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 返回的数据</span></span><br><span class="line">    <span class="keyword">private</span> Object data;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体例子</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;code&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;操作成功&quot;</span>,</span><br><span class="line">    <span class="string">&quot;data&quot;</span>: ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>前端：只需要按照统一格式的返回结果进行解析(仅一种解析方案)，就可以拿到数据</p>
</blockquote>
<ul>
<li>
<p>统一的返回结果使用<strong>类</strong>来描述，这个结果中包含：</p>
<ul>
<li><strong>响应状态码</strong>：当前请求是成功，还是失败</li>
<li><strong>状态码信息</strong>：给页面的提示信息</li>
<li><strong>返回的数据</strong>：给前端响应的数据（字符串、对象、集合）</li>
</ul>
</li>
<li>
<p>定义在一个实体类Result来包含以上信息</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Result</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer code;<span class="comment">//响应码，1 代表成功; 0 代表失败</span></span><br><span class="line">    <span class="keyword">private</span> String msg;  <span class="comment">//响应码 描述字符串</span></span><br><span class="line">    <span class="keyword">private</span> Object data; <span class="comment">//返回的数据</span></span><br><span class="line">	<span class="comment">// Result类构造方法</span></span><br><span class="line">    <span class="comment">// 一堆getter和setter方法</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//增删改 成功响应(不需要给前端返回数据)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">success</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(<span class="number">1</span>,<span class="string">&quot;success&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//查询 成功响应(把查询结果做为返回数据响应给前端)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">success</span><span class="params">(Object data)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(<span class="number">1</span>,<span class="string">&quot;success&quot;</span>,data);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//失败响应</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">error</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(<span class="number">0</span>,msg,<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>改造Controller</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ResponseController</span> &#123;</span><br><span class="line">    <span class="comment">// 响应统一格式的结果</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World ~&quot;</span>);</span><br><span class="line">        <span class="comment">//return new Result(1,&quot;success&quot;,&quot;Hello World ~&quot;);</span></span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;Hello World ~&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 响应统一格式的结果</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/getAddr&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">getAddr</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Address</span> <span class="variable">addr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Address</span>();</span><br><span class="line">        addr.setProvince(<span class="string">&quot;广东&quot;</span>);</span><br><span class="line">        addr.setCity(<span class="string">&quot;深圳&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> Result.success(addr);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//响应统一格式的结果</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/listAddr&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">listAddr</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;Address&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="type">Address</span> <span class="variable">addr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Address</span>();</span><br><span class="line">        addr.setProvince(<span class="string">&quot;广东&quot;</span>);</span><br><span class="line">        addr.setCity(<span class="string">&quot;深圳&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Address</span> <span class="variable">addr2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Address</span>();</span><br><span class="line">        addr2.setProvince(<span class="string">&quot;陕西&quot;</span>);</span><br><span class="line">        addr2.setCity(<span class="string">&quot;西安&quot;</span>);</span><br><span class="line"></span><br><span class="line">        list.add(addr);</span><br><span class="line">        list.add(addr2);</span><br><span class="line">        <span class="keyword">return</span> Result.success(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="案例-v2"><a class="header-anchor" href="#案例-v2">¶</a>案例</h4>
<h5 id="需求"><a class="header-anchor" href="#需求">¶</a>需求</h5>
<ul>
<li>加载并解析<code>xml文件</code>中的数据，完成数据处理，并在页面展示</li>
<li>获取员工数据，返回统一响应结果，在页面渲染展示</li>
</ul>
<h5 id="准备工作"><a class="header-anchor" href="#准备工作">¶</a>准备工作</h5>
<ul>
<li>
<p><code>XML文件</code>，放在<code>src/main/resources</code>目录下</p>
</li>
<li>
<p>XML文件的工具类</p>
</li>
<li>
<p>前端页面资源，放在<code>src/main/resources</code>下的<code>static</code>目录下</p>
<blockquote>
<p>在SpringBoot项目中，静态资源默认可以存放的目录：</p>
<ul>
<li>classpath:/static/</li>
<li>classpath:/public/</li>
<li>classpath:/resources/</li>
<li>classpath:/META-INF/resources/</li>
</ul>
<p>classpath：</p>
<ul>
<li>代表的是类路径，在maven的项目中，其实指的就是 src/main/resources 或者 src/main/java，但是java目录是存放java代码的，所以相关的配置文件及静态资源文档，就放在 src/main/resources下。</li>
</ul>
</blockquote>
</li>
</ul>
<h5 id="实现步骤"><a class="header-anchor" href="#实现步骤">¶</a>实现步骤</h5>
<ol>
<li>在pom.xml文件中引入dom4j的依赖，用于解析XML文件</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.dom4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dom4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>
<p>引入：解析XML的工具类<code>XMLParserUtils</code>、实体类<code>Emp</code>、XML文件<code>emp.xml</code></p>
</li>
<li>
<p>引入：静态页面文件，放在<code>resources</code>下的<code>static</code>目录下</p>
</li>
<li>
<p>创建<code>EmpController</code>类，编写<code>Controller</code>程序，处理请求，响应数据</p>
</li>
</ol>
<h5 id="代码实现"><a class="header-anchor" href="#代码实现">¶</a>代码实现</h5>
<ul>
<li><code>Controller</code>代码</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpController</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/listEmp&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">list</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//1. 加载并解析emp.xml</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">file</span> <span class="operator">=</span> <span class="built_in">this</span>.getClass().getClassLoader().getResource(<span class="string">&quot;emp.xml&quot;</span>).getFile();</span><br><span class="line">        <span class="comment">//System.out.println(file);</span></span><br><span class="line">        List&lt;Emp&gt; empList = XmlParserUtils.parse(file, Emp.class);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. 对数据进行转换处理 - gender, job</span></span><br><span class="line">        empList.stream().forEach(emp -&gt; &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//处理 gender 1: 男, 2: 女</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">gender</span> <span class="operator">=</span> emp.getGender();</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;1&quot;</span>.equals(gender))&#123;</span><br><span class="line">                emp.setGender(<span class="string">&quot;男&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;2&quot;</span>.equals(gender))&#123;</span><br><span class="line">                emp.setGender(<span class="string">&quot;女&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//处理job - 1: 讲师, 2: 班主任 , 3: 就业指导</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">job</span> <span class="operator">=</span> emp.getJob();</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;1&quot;</span>.equals(job))&#123;</span><br><span class="line">                emp.setJob(<span class="string">&quot;讲师&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;2&quot;</span>.equals(job))&#123;</span><br><span class="line">                emp.setJob(<span class="string">&quot;班主任&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;3&quot;</span>.equals(job))&#123;</span><br><span class="line">                emp.setJob(<span class="string">&quot;就业指导&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//3. 响应数据</span></span><br><span class="line">        <span class="keyword">return</span> Result.success(empList);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>统一返回结果实体类<code>Result</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Result</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer code ;<span class="comment">//1 成功 , 0 失败</span></span><br><span class="line">    <span class="keyword">private</span> String msg; <span class="comment">//提示信息</span></span><br><span class="line">    <span class="keyword">private</span> Object data; <span class="comment">//数据 date</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造方法Result()</span></span><br><span class="line">    <span class="comment">// getter和setter方法</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//查询 成功响应(把查询结果做为返回数据响应给前端)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">success</span><span class="params">(Object data)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(<span class="number">1</span>, <span class="string">&quot;success&quot;</span>, data);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//增删改 成功响应(不需要给前端返回数据)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">success</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(<span class="number">1</span>, <span class="string">&quot;success&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//失败响应</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">error</span><span class="params">(String msg)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(<span class="number">0</span>, msg, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="测试"><a class="header-anchor" href="#测试">¶</a>测试</h5>
<ul>
<li>运行启动类，启动服务进行测试</li>
<li>用Postman测试</li>
<li>浏览器输入：<code>http://localhost:8080/emp.html</code></li>
</ul>
<h5 id="问题分析"><a class="header-anchor" href="#问题分析">¶</a>问题分析</h5>
<ul>
<li><strong>解析XML数据</strong>，<strong>获取数据</strong>，<strong>处理数据的逻辑</strong>，<strong>给页面响应</strong>的代码全部堆积一起，写在<code>controller</code>方法内</li>
<li>造成的问题：当业务逻辑变复杂，无论是：<strong>修改操作数据部分的代码</strong>、<strong>完善逻辑处理部分的代码</strong>、<strong>修改数据响应的代码</strong>，都需要改动Controller</li>
<li>导致结果：工程代码复用性较差+代码难以维护</li>
<li>解决方案：分层开发</li>
</ul>
<h3 id="分层解耦"><a class="header-anchor" href="#分层解耦">¶</a>分层解耦</h3>
<h4 id="三层架构"><a class="header-anchor" href="#三层架构">¶</a>三层架构</h4>
<ul>
<li>
<p>尽可能让每一个接口、类、方法的职责更单一些（<strong>单一职责原则</strong>）</p>
<blockquote>
<p>单一职责原则：</p>
<p>一个类或一个方法，就只做一件事情，只管一块功能</p>
<p>这样就可以让类、接口、方法的复杂度更低，可读性更强，扩展性更好，也更利用后期的维护</p>
</blockquote>
</li>
<li>
<p>上述代码的处理逻辑组成：</p>
<ul>
<li><strong><u>数据访问</u></strong>：负责业务数据的维护操作，包括增、删、改、查等操作</li>
<li><strong><u>逻辑处理</u></strong>：负责业务逻辑处理的代码</li>
<li><strong><u>请求处理、响应数据</u></strong>：负责，接收页面的请求，给页面响应数据</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>Controller</th>
<th>→</th>
<th>Service</th>
<th>→</th>
<th>Dao</th>
</tr>
</thead>
<tbody>
<tr>
<td>接收请求、响应数据</td>
<td></td>
<td>逻辑处理</td>
<td></td>
<td>数据访问层(Data Access Object)</td>
</tr>
<tr>
<td>控制层。接收前端发送的请求，对请求进行处理，并响应数据</td>
<td>←</td>
<td>业务逻辑层。处理具体的业务逻辑。</td>
<td>←</td>
<td>也称为持久层。负责数据访问操作，包括数据的增、删、改、查</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>基于**<u>三层架构</u>**的程序执行流程</p>
<ul>
<li>前端发起的<strong>请求</strong>，由<strong>Controller层接收</strong>（Controller<strong>响应</strong>数据给前端）</li>
<li>Controller层<strong>调用Service层</strong>来进行<strong>逻辑处理</strong>（Service层处理完后，把处理结果返回给Controller层）</li>
<li>Serivce层<strong>调用Dao层</strong>（逻辑处理过程中需要用到的一些数据要从Dao层获取）</li>
<li>Dao层<strong>操作文件中的数据</strong>（Dao拿到的数据会返回给Service层）</li>
</ul>
<blockquote>
<p>按照三层架构的思想，对业务逻辑(Service层)进行变更，不会影响到Controller层和Dao层</p>
<p>程序的扩展性、维护性↑↑↑</p>
</blockquote>
</li>
</ul>
<h5 id="代码拆分"><a class="header-anchor" href="#代码拆分">¶</a>代码拆分</h5>
<ul>
<li>用三层架构思想改造程序
<ul>
<li>控制层包名：xxxx.controller</li>
<li>业务逻辑层包名：xxxx.service</li>
<li>数据访问层包名：xxxx.dao</li>
</ul>
</li>
</ul>
<h6 id="控制层"><a class="header-anchor" href="#控制层">¶</a>控制层</h6>
<ul>
<li><strong>接收</strong>前端发送的<strong>请求</strong>，对请求进行处理，并<strong>响应</strong>数据</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpController</span> &#123;</span><br><span class="line">    <span class="comment">//业务层对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">EmpService</span> <span class="variable">empService</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">EmpServiceA</span>();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/listEmp&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">list</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//1. 调用service层, 获取数据</span></span><br><span class="line">        List&lt;Emp&gt; empList = empService.listEmp();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3. 响应数据</span></span><br><span class="line">        <span class="keyword">return</span> Result.success(empList);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="业务逻辑层"><a class="header-anchor" href="#业务逻辑层">¶</a>业务逻辑层</h6>
<ul>
<li>处理具体的业务逻辑</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 业务逻辑接口（制定业务标准）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmpService</span> &#123;</span><br><span class="line">    <span class="comment">//获取员工列表</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">listEmp</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 业务逻辑实现类（按照业务标准实现）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpServiceA</span> <span class="keyword">implements</span> <span class="title class_">EmpService</span> &#123;</span><br><span class="line">    <span class="comment">//dao层对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">EmpDao</span> <span class="variable">empDao</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">EmpDaoA</span>();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">listEmp</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//1. 调用dao, 获取数据</span></span><br><span class="line">        List&lt;Emp&gt; empList = empDao.listEmp();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. 对数据进行转换处理 - gender, job</span></span><br><span class="line">        empList.stream().forEach(emp -&gt; &#123;</span><br><span class="line">            <span class="comment">//处理 gender 1: 男, 2: 女</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">gender</span> <span class="operator">=</span> emp.getGender();</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;1&quot;</span>.equals(gender))&#123;</span><br><span class="line">                emp.setGender(<span class="string">&quot;男&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;2&quot;</span>.equals(gender))&#123;</span><br><span class="line">                emp.setGender(<span class="string">&quot;女&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//处理job - 1: 讲师, 2: 班主任 , 3: 就业指导</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">job</span> <span class="operator">=</span> emp.getJob();</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;1&quot;</span>.equals(job))&#123;</span><br><span class="line">                emp.setJob(<span class="string">&quot;讲师&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;2&quot;</span>.equals(job))&#123;</span><br><span class="line">                emp.setJob(<span class="string">&quot;班主任&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;3&quot;</span>.equals(job))&#123;</span><br><span class="line">                emp.setJob(<span class="string">&quot;就业指导&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> empList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="数据访问层"><a class="header-anchor" href="#数据访问层">¶</a>数据访问层</h6>
<ul>
<li>负责数据的访问操作，包含数据的增、删、改、查</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">///数据访问层接口（制定标准）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmpDao</span> &#123;</span><br><span class="line">    <span class="comment">//获取员工列表数据</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">listEmp</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//数据访问实现类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpDaoA</span> <span class="keyword">implements</span> <span class="title class_">EmpDao</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">listEmp</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//1. 加载并解析emp.xml</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">file</span> <span class="operator">=</span> <span class="built_in">this</span>.getClass().getClassLoader().getResource(<span class="string">&quot;emp.xml&quot;</span>).getFile();</span><br><span class="line">        System.out.println(file);</span><br><span class="line">        List&lt;Emp&gt; empList = XmlParserUtils.parse(file, Emp.class);</span><br><span class="line">        <span class="keyword">return</span> empList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>三层架构的好处
<ul>
<li>复用性强</li>
<li>便于维护</li>
<li>利用扩展</li>
</ul>
</li>
</ul>
<h4 id="分层解耦-v2"><a class="header-anchor" href="#分层解耦-v2">¶</a>分层解耦</h4>
<h5 id="耦合问题"><a class="header-anchor" href="#耦合问题">¶</a>耦合问题</h5>
<ul>
<li>
<p><strong>内聚</strong></p>
<blockquote>
<p>软件中各个功能模块内部的功能联系</p>
</blockquote>
</li>
<li>
<p><strong>耦合</strong></p>
<blockquote>
<p>衡量软件中各个层/模块之间的依赖、关联的程度</p>
</blockquote>
</li>
<li>
<p>软件设计原则：高内聚低耦合</p>
<blockquote>
<p>高内聚：一个模块中各个元素之间的联系的紧密程度，如果各个元素(语句、程序段)之间的联系程度越高，则内聚性越高，即 “高内聚”</p>
<p>低耦合：软件中各个层、模块之间的依赖关联程序越低越好</p>
</blockquote>
</li>
<li>
<p>高内聚的体现：</p>
<ul>
<li>在当前的Service类中，只编写了和员工相关的逻辑处理，和员工无关的逻辑处理在当前类中没有体现</li>
</ul>
</li>
<li>
<p>程序中耦合代码的体现：</p>
<ul>
<li>变更业务类，需要修改controller层中的代码</li>
</ul>
</li>
<li>
<p>高内聚、低耦合的目的：</p>
<ul>
<li>使程序模块的可重用性、移植性大大增强</li>
</ul>
</li>
</ul>
<h5 id="解耦思路"><a class="header-anchor" href="#解耦思路">¶</a>解耦思路</h5>
<ul>
<li>
<p>之前的做法：创建对象，new一个→层与层之间的代码耦合→当service层的实现变化，还需要修改controller层的代码</p>
</li>
<li>
<p>解耦：</p>
<ul>
<li>首先不能在EmpController中使用new对象→没有业务层对象（程序运行就报错）</li>
<li>解决思路：
<ul>
<li>提供一个容器，容器中存储一些对象(例：EmpService对象)</li>
<li>controller程序从容器中获取EmpService类型的对象</li>
</ul>
</li>
</ul>
</li>
</ul>
<h6 id="Spring中的两个核心概念"><a class="header-anchor" href="#Spring中的两个核心概念">¶</a>Spring中的两个核心概念</h6>
<ul>
<li>
<p><strong>控制反转：</strong> Inversion Of Control，简称IOC。对象的创建控制权由程序自身转移到外部（容器），这种思想称为控制反转</p>
<blockquote>
<p>对象的创建权由程序员主动创建转移到容器(由容器创建、管理对象)。这个容器称为：IOC容器或Spring容器</p>
</blockquote>
</li>
<li>
<p><strong>依赖注入：</strong> Dependency Injection，简称DI。容器为应用程序提供运行时，所依赖的资源，称之为依赖注入</p>
<blockquote>
<p>程序运行时需要某个资源，此时容器就为其提供这个资源</p>
<p>例：EmpController程序运行时需要EmpService对象，Spring容器就为其提供并注入EmpService对象</p>
</blockquote>
</li>
</ul>
<h4 id="IOC-DI"><a class="header-anchor" href="#IOC-DI">¶</a>IOC&amp;DI</h4>
<h5 id="IOC-DI入门"><a class="header-anchor" href="#IOC-DI入门">¶</a>IOC&amp;DI入门</h5>
<ul>
<li>任务：完成Controller层、Service层、Dao层的<strong>代码解耦</strong></li>
<li>思路：
<ul>
<li>删除Controller层、Service层中new对象的代码</li>
<li>Service层及Dao层的实现类，交给IOC容器管理</li>
<li>为Controller及Service注入运行时依赖的对象
<ol>
<li>Controller程序中注入依赖的Service层对象</li>
<li>Service程序中注入依赖的Dao层对象</li>
</ol>
</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">第1步：删除Controller层、Service层中new对象的代码</span><br><span class="line"></span><br><span class="line">第2步：Service层及Dao层的实现类，交给IOC容器管理</span><br><span class="line">- 使用Spring提供的注解：@Component ，就可以实现类交给IOC容器管理</span><br><span class="line"></span><br><span class="line">第3步：为Controller及Service注入运行时依赖的对象</span><br><span class="line">- 使用Spring提供的注解：@Autowired ，就可以实现程序运行时IOC容器自动注入需要的依赖对象</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 完整的三层代码</span></span><br><span class="line"><span class="comment">// Controller层</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span> <span class="comment">//运行时,从IOC容器中获取该类型对象,赋值给该变量</span></span><br><span class="line">    <span class="keyword">private</span> EmpService empService ;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/listEmp&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">list</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//1. 调用service, 获取数据</span></span><br><span class="line">        List&lt;Emp&gt; empList = empService.listEmp();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3. 响应数据</span></span><br><span class="line">        <span class="keyword">return</span> Result.success(empList);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Service层</span></span><br><span class="line"><span class="meta">@Component</span> <span class="comment">//将当前对象交给IOC容器管理,成为IOC容器的bean</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpServiceA</span> <span class="keyword">implements</span> <span class="title class_">EmpService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span> <span class="comment">//运行时,从IOC容器中获取该类型对象,赋值给该变量</span></span><br><span class="line">    <span class="keyword">private</span> EmpDao empDao ;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">listEmp</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//1. 调用dao, 获取数据</span></span><br><span class="line">        List&lt;Emp&gt; empList = empDao.listEmp();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. 对数据进行转换处理 - gender, job</span></span><br><span class="line">        empList.stream().forEach(emp -&gt; &#123;</span><br><span class="line">            <span class="comment">//处理 gender 1: 男, 2: 女</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">gender</span> <span class="operator">=</span> emp.getGender();</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;1&quot;</span>.equals(gender))&#123;</span><br><span class="line">                emp.setGender(<span class="string">&quot;男&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;2&quot;</span>.equals(gender))&#123;</span><br><span class="line">                emp.setGender(<span class="string">&quot;女&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//处理job - 1: 讲师, 2: 班主任 , 3: 就业指导</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">job</span> <span class="operator">=</span> emp.getJob();</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;1&quot;</span>.equals(job))&#123;</span><br><span class="line">                emp.setJob(<span class="string">&quot;讲师&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;2&quot;</span>.equals(job))&#123;</span><br><span class="line">                emp.setJob(<span class="string">&quot;班主任&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;3&quot;</span>.equals(job))&#123;</span><br><span class="line">                emp.setJob(<span class="string">&quot;就业指导&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> empList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Dao层</span></span><br><span class="line"><span class="meta">@Component</span> <span class="comment">//将当前对象交给IOC容器管理,成为IOC容器的bean</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpDaoA</span> <span class="keyword">implements</span> <span class="title class_">EmpDao</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">listEmp</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//1. 加载并解析emp.xml</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">file</span> <span class="operator">=</span> <span class="built_in">this</span>.getClass().getClassLoader().getResource(<span class="string">&quot;emp.xml&quot;</span>).getFile();</span><br><span class="line">        System.out.println(file);</span><br><span class="line">        List&lt;Emp&gt; empList = XmlParserUtils.parse(file, Emp.class);</span><br><span class="line">        <span class="keyword">return</span> empList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="IOC详解"><a class="header-anchor" href="#IOC详解">¶</a>IOC详解</h5>
<ul>
<li>IOC控制反转和DI依赖注入</li>
</ul>
<h6 id="bean的声明"><a class="header-anchor" href="#bean的声明">¶</a>bean的声明</h6>
<ul>
<li><strong><u>IOC控制反转</u></strong>：将对象的控制权交给Spring的IOC容器，由IOC容器创建及管理对象</li>
<li>IOC容器创建的对象称为<strong>bean对象</strong></li>
<li>将某个对象交给IOC容器管理，需要在类上添加注释：<code>@Component</code></li>
<li><code>@Component</code>的衍生注释
<ul>
<li><code>@Controller</code>    （标注在控制层类上）</li>
<li><code>@Service</code>          （标注在业务层类上）</li>
<li><code>@Repository</code>    （标注在数据访问层类上）</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 修改入门案例代码</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span>  <span class="comment">//@RestController = @Controller + @ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span> <span class="comment">//运行时,从IOC容器中获取该类型对象,赋值给该变量</span></span><br><span class="line">    <span class="keyword">private</span> EmpService empService ;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/listEmp&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">list</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//1. 调用service, 获取数据</span></span><br><span class="line">        List&lt;Emp&gt; empList = empService.listEmp();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3. 响应数据</span></span><br><span class="line">        <span class="keyword">return</span> Result.success(empList);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span>  <span class="comment">// 原来是@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpServiceA</span> <span class="keyword">implements</span> <span class="title class_">EmpService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span> <span class="comment">//运行时,从IOC容器中获取该类型对象,赋值给该变量</span></span><br><span class="line">    <span class="keyword">private</span> EmpDao empDao ;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">listEmp</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//1. 调用dao, 获取数据</span></span><br><span class="line">        List&lt;Emp&gt; empList = empDao.listEmp();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. 对数据进行转换处理 - gender, job</span></span><br><span class="line">        empList.stream().forEach(emp -&gt; &#123;</span><br><span class="line">            <span class="comment">//处理 gender 1: 男, 2: 女</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">gender</span> <span class="operator">=</span> emp.getGender();</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;1&quot;</span>.equals(gender))&#123;</span><br><span class="line">                emp.setGender(<span class="string">&quot;男&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;2&quot;</span>.equals(gender))&#123;</span><br><span class="line">                emp.setGender(<span class="string">&quot;女&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//处理job - 1: 讲师, 2: 班主任 , 3: 就业指导</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">job</span> <span class="operator">=</span> emp.getJob();</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;1&quot;</span>.equals(job))&#123;</span><br><span class="line">                emp.setJob(<span class="string">&quot;讲师&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;2&quot;</span>.equals(job))&#123;</span><br><span class="line">                emp.setJob(<span class="string">&quot;班主任&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;3&quot;</span>.equals(job))&#123;</span><br><span class="line">                emp.setJob(<span class="string">&quot;就业指导&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> empList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;    </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="meta">@Repository</span>  <span class="comment">// 原来是@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpDaoA</span> <span class="keyword">implements</span> <span class="title class_">EmpDao</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">listEmp</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//1. 加载并解析emp.xml</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">file</span> <span class="operator">=</span> <span class="built_in">this</span>.getClass().getClassLoader().getResource(<span class="string">&quot;emp.xml&quot;</span>).getFile();</span><br><span class="line">        System.out.println(file);</span><br><span class="line">        List&lt;Emp&gt; empList = XmlParserUtils.parse(file, Emp.class);</span><br><span class="line">        <span class="keyword">return</span> empList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>要把某个对象交给IOC容器管理，需要在对应的类上加上对应注解</li>
</ul>
<table>
<thead>
<tr>
<th>注解</th>
<th>说明</th>
<th>位置</th>
</tr>
</thead>
<tbody>
<tr>
<td>@Controller</td>
<td>@Component的衍生注解</td>
<td>标注在控制器类上</td>
</tr>
<tr>
<td>@Service</td>
<td>@Component的衍生注解</td>
<td>标注在业务类上</td>
</tr>
<tr>
<td>@Repository</td>
<td>@Component的衍生注解</td>
<td>标注在数据访问类上（由于与mybatis整合，用的少）</td>
</tr>
<tr>
<td>@Component</td>
<td>声明bean的基础注解</td>
<td>不属于以上三类时，用此注解</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>在IOC容器中，每一个Bean都有一个属于自己的名字，可以通过注解的value属性指定bean的名字</p>
<ul>
<li>如果没有指定，默认为类名首字母小写</li>
</ul>
<blockquote>
<p>注意事项:</p>
<ul>
<li>声明bean的时候，可以通过value属性指定bean的名字，如果没有指定，默认为类名首字母小写</li>
<li>使用以上四个注解都可以声明bean，但是在springboot集成web开发中，声明控制器bean只能用@Controller</li>
</ul>
</blockquote>
</li>
</ul>
<h6 id="组件扫描"><a class="header-anchor" href="#组件扫描">¶</a>组件扫描</h6>
<ul>
<li>
<p>bean生效，还需要被组件扫描</p>
</li>
<li>
<p>测试bean对象是否生效：</p>
<ul>
<li>将<code>dao</code>和包调整为平级关系，将测试类放到包内</li>
<li>运行后报错，显示没有找到<code>bean</code>对象</li>
</ul>
</li>
<li>
<p>使用四大注解声明的bean，要想生效，还需要被组件扫描注解@ComponentScan扫描</p>
<blockquote>
<p>@ComponentScan注解虽然没有显式配置，但是实际上已经包含在了引导类声明注解 @SpringBootApplication 中，==<strong>默认扫描的范围是SpringBoot启动类所在包及其子包</strong>==</p>
</blockquote>
</li>
<li>
<p>解决方案1（不推荐）：手动添加<code>@ComponentScan</code>注解，指定要扫描的包</p>
</li>
<li>
<p>解决方案2（推荐）：将定义的<code>controller</code>，<code>service</code>，<code>dao</code>这些包都放在引导类所在包的子包下，这样定义的<code>bean</code>会被自动扫描到</p>
</li>
</ul>
<h5 id="DI详解"><a class="header-anchor" href="#DI详解">¶</a>DI详解</h5>
<ul>
<li>
<p>依赖注解DI</p>
</li>
<li>
<p>依赖注入：指IOC容器要为应用程序去提供运行时所依赖的资源</p>
<ul>
<li>资源指的就是对象</li>
</ul>
</li>
<li>
<p><code>@Autowired</code>：自动装配</p>
<ul>
<li>默认是按照<strong>类型</strong>进行自动装配的（去IOC容器中找某个类型的对象，然后完成注入操作）</li>
</ul>
<blockquote>
<p>入门程序举例：</p>
<p>在EmpController运行的时候，就要到IOC容器当中去查找EmpService这个类型的对象，而IOC容器中刚好有一个EmpService类型的对象，完成注入操作</p>
</blockquote>
</li>
<li>
<p>在IOC容器中，存在多个相同类型的bean对象→会报错</p>
</li>
<li>
<p>解决方案：<code>@Primary</code>  <code>@Qualifier</code>  <code>@Resource</code></p>
</li>
</ul>
<h6 id="Primary"><a class="header-anchor" href="#Primary">¶</a>@Primary</h6>
<ul>
<li>当存在多个相同类型的<code>Bean</code>注入时，加上<code>@Primary</code>注解，来确定默认的实现</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Primary</span>  <span class="comment">// 让当前bean生效</span></span><br><span class="line"><span class="meta">@Service</span>  <span class="comment">// IOC使用当前bean对象进行注入</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpServiceA</span> <span class="keyword">implements</span> <span class="title class_">EmpService</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="Qualifier"><a class="header-anchor" href="#Qualifier">¶</a>@Qualifier</h6>
<ul>
<li>指定当前要注入的bean对象</li>
<li>在<code>@Qualifier</code>的<code>value</code>属性中，指定注入的<code>bean</code>的名称</li>
<li><code>@Qualifier</code>注解不能单独使用，必须配合<code>@Autowired</code>使用</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(&quot;empServiceA&quot;)</span>  <span class="comment">// 指定使用IOC容器中名字叫empServiceA的bean对象，进行注入</span></span><br><span class="line">    <span class="keyword">private</span> EmpService empService;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="Resource"><a class="header-anchor" href="#Resource">¶</a>@Resource</h6>
<ul>
<li>按照bean的名称进行注入</li>
<li>通过name属性指定要注入的bean的名称</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpController</span> &#123;</span><br><span class="line">    <span class="meta">@Resource(name=&quot;empServiceB&quot;)</span>  <span class="comment">// 指定使用IOC容器中名字叫做empServiceB的bean对象，进行注入</span></span><br><span class="line">    <span class="keyword">private</span> EmpService empService;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>面试题 ： @Autowird 与 @Resource的区别</p>
<p>@Autowired 是spring框架提供的注解，而@Resource是JDK提供的注解</p>
<p>@Autowired 默认是按照类型注入，而@Resource是按照名称注入</p>
</blockquote>
<h3 id="Day5-总结"><a class="header-anchor" href="#Day5-总结">¶</a>Day5-总结</h3>
<ul>
<li>三层架构和解耦合没懂</li>
</ul>
<h3 id="Day05作业"><a class="header-anchor" href="#Day05作业">¶</a>Day05作业</h3>
<ul>
<li><a target="_blank" rel="noopener" href="https://heuqqdmbyk.feishu.cn/docx/K5mRdtkvKoxyDNxyXUxchx4vn8c">‌‬‍﻿﻿‬‌⁠﻿‍⁠‍‍⁠‬‌‌﻿‍⁠‬‍‍‍⁠‍‍‬‬⁠⁠‬﻿‍‌Day05-作业 - 飞书云文档 (feishu.cn)</a></li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        share
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://brocademaple.github.io/2024/08/21/CS_Notes/Java/%E3%80%90%E5%BC%80%E5%8F%91%E3%80%91JavaWeb/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CS-Notes/" rel="tag">CS Notes</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
      <a href="/2024/08/23/CS_Notes/Linux/%E3%80%90saveMyLinux%E3%80%91Linux%E8%80%83%E5%89%8D%E7%9A%84%E5%A4%8D%E4%B9%A0ing/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            【saveMyLinux】Linux考前的复习ing
          
        </div>
      </a>
    
    
      <a href="/2024/08/11/CS_Notes/AI/%E3%80%90DataWhale--%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91%E3%80%91%E5%8A%A8%E6%89%8B%E5%AD%A6%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">【DataWhale--大模型应用开发】动手学大模型应用全栈开发</div>
      </a>
    
  </nav>

  
   
  
   
    <script src="https://cdn.staticfile.org/twikoo/1.4.18/twikoo.all.min.js"></script>
    <div id="twikoo" class="twikoo"></div>
    <script>
        twikoo.init({
            envId: ""
        })
    </script>
 
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2024
        <i class="ri-heart-fill heart_icon"></i> brocademaple
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer.png" alt="私の宝庫です"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">友链</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/aboutMe">自分</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->
 
<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: ".tocbot",
    contentSelector: ".article-entry",
    headingSelector: "h1, h2, h3, h4, h5, h6",
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: "main",
    positionFixedSelector: ".tocbot",
    positionFixedClass: "is-position-fixed",
    fixedSidebarOffset: "auto",
  });
</script>

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->
 <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.staticfile.org/mathjax/2.7.7/MathJax.js"></script>
<script src="https://cdn.staticfile.org/mathjax/2.7.7/config/TeX-AMS-MML_HTMLorMML-full.js"></script>
<script>
  var ayerConfig = {
    mathjax: true,
  };
</script>

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>
 
<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->
 
<script src="/js/dz.js"></script>
 
<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    <div id="music">
    
    
    
    <iframe frameborder="no" border="1" marginwidth="0" marginheight="0" width="200" height="52"
        src="//music.163.com/outchain/player?type=2&id=1983763439&auto=1&height=32"></iframe>
</div>

<style>
    #music {
        position: fixed;
        right: 15px;
        bottom: 0;
        z-index: 998;
    }
</style>
    
    

  </div>
</body>

</html>