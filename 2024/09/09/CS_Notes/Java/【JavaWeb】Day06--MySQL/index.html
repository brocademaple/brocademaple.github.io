<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title>【JavaWeb】Day06--MySQL |  私の宝庫です</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/images/ayer.png" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-CS_Notes/Java/【JavaWeb】Day06--MySQL"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  【JavaWeb】Day06--MySQL
</h1>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2024/09/09/CS_Notes/Java/%E3%80%90JavaWeb%E3%80%91Day06--MySQL/" class="article-date">
  <time datetime="2024-09-08T16:00:00.000Z" itemprop="datePublished">2024-09-09</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/notes/">notes</a> / <a class="article-category-link" href="/categories/notes/Java-notes/">Java notes</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字数统计:</span>
            <span class="post-count">5.3k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 阅读时长≈</span>
            <span class="post-count">20 分钟</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <h3 id="写在前面"><a class="header-anchor" href="#写在前面">¶</a>写在前面</h3>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="https://aigz8jy30yo.feishu.cn/docx/BtbOd3c5aotnpdxYTVDcnqQanxd">‍‌‍‍‬‬‌﻿﻿‌‌‬‬‌﻿⁠⁠‍‌⁠‬‍‍⁠‍‬⁠﻿‍JavaWeb 开发教程 - 飞书云文档 (feishu.cn)</a></p>
</li>
<li>
<p>需要记录的内容的标准：</p>
<ul>
<li>已掌握的概念不记</li>
<li>太长的缩短记</li>
</ul>
</li>
<li>
<p>按照期末考前的笔记选择标准来记：</p>
<ul>
<li>只记关键核心内容，有助于复习笔记时快速重温掌握</li>
<li>对于较长的内容，尽可能用自己的话复述</li>
</ul>
</li>
<li>
<p>努力克服完美强迫症</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/vue3/vue3-tutorial.html">Vue3 教程 | 菜鸟教程 (runoob.com)</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN">Element - 网站快速成型工具</a></p>
</li>
</ul>
<h2 id="Day06-MySQL"><a class="header-anchor" href="#Day06-MySQL">¶</a>Day06-MySQL</h2>
<ul>
<li>
<p>连接：<code>mysql -u用户名 -p密码 [-h数据库服务器的IP地址 -P端口号]</code></p>
<blockquote>
<p>-h  参数不加，默认连接的是本地 127.0.0.1 的MySQL服务器</p>
<p>-P  参数不加，默认连接的端口号是 3306</p>
</blockquote>
</li>
</ul>
<h3 id="MySQL概述"><a class="header-anchor" href="#MySQL概述">¶</a>MySQL概述</h3>
<h4 id="了解一下：企业使用方式"><a class="header-anchor" href="#了解一下：企业使用方式">¶</a>了解一下：企业使用方式</h4>
<ul>
<li>
<p>在真实的企业开发中，MySQL数据库服务器是不在我们本地安装，在公司的服务器上安装的，服务器还需要放置在专门的IDC机房中</p>
</li>
<li>
<p>IDC机房需要保证恒温、恒湿、恒压，而且还要保证网络、电源的可靠性(备用电源及网络)</p>
</li>
<li>
<p>要使用服务器上的这台MySQL服务器，就需要在pc上去远程连接这台MySQL</p>
</li>
<li>
<p>服务器上安装的MySQL数据库，项目组的其他开发人员也访问</p>
</li>
<li>
<p>提前体验一下企业中数据库的使用方式：借助于VMware虚拟机</p>
<ul>
<li>在Vmware虚拟机上在安装一个服务器操作系统Linux，然后再在Linux服务器上安装各种企业级软件</li>
</ul>
</li>
</ul>
<h4 id="数据模型"><a class="header-anchor" href="#数据模型">¶</a>数据模型</h4>
<h5 id="关系型数据库"><a class="header-anchor" href="#关系型数据库">¶</a>关系型数据库</h5>
<ul>
<li><strong>概念</strong>：建立在关系模型基础上，由多张相互连接的<strong>二维表</strong>组成的数据库</li>
</ul>
<h5 id="二维表的优点"><a class="header-anchor" href="#二维表的优点">¶</a>二维表的优点</h5>
<ul>
<li>使用表存储数据，格式统一，便于<strong>维护</strong></li>
<li>使用SQL语言操作，标准统一，使用方便，可用于<strong>复杂查询</strong></li>
</ul>
<blockquote>
<p>MySQL、Oracle、DB2、SQLServer都属于关系型数据库，都基于二维表存储数据</p>
<p>结论：基于二维表存储数据的数据库就成为关系型数据库</p>
<p>非基于二维表存储数据的数据库，就是非关系型数据库（如Redis）</p>
</blockquote>
<h5 id="数据模型-v2"><a class="header-anchor" href="#数据模型-v2">¶</a>数据模型</h5>
<ul>
<li>通过<code>MySQL</code>客户端连接<strong>数据库管理系统</strong><code>DBMS</code>，然后通过<code>DBMS</code>操作<strong>数据库</strong></li>
<li>使用<code>MySQL</code>客户端，向数据库管理系统发送一条<code>SQL</code>语句，由数据库管理系统根据<code>SQL</code>语句指令去操作数据库中的表结构及数据</li>
<li>一个数据<strong>库</strong>服务器中可以创建多个数据库，一个数据库中也可以包含多张<strong>表</strong>，而一张表中又可以包含多行<strong>记录</strong></li>
</ul>
<blockquote>
<p>在Mysql数据库服务器当中存储数据：</p>
<ol>
<li>创建数据库（可以创建多个数据库，之间相互独立）</li>
<li>数据库下再创建数据表（一个数据库下可以创建多张表）</li>
<li>将数据存放在数据表中（一张表可以存储多行数据）</li>
</ol>
</blockquote>
<h4 id="SQL简介"><a class="header-anchor" href="#SQL简介">¶</a>SQL简介</h4>
<ul>
<li>SQL</li>
</ul>
<blockquote>
<p>结构化查询语言</p>
<p>一门操作关系型数据库的编程语言，定义操作所有关系型数据库的统一标准</p>
</blockquote>
<h5 id="SQL通用语法"><a class="header-anchor" href="#SQL通用语法">¶</a>SQL通用语法</h5>
<ul>
<li>SQL语句可以单行或多行书写，以分号结尾</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span></span><br><span class="line">database</span><br><span class="line">ahahahahah</span><br><span class="line">;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> database ahahahahah;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>SQL语句可以使用空格/缩进来增强语句的可读性</p>
</li>
<li>
<p>MySQL数据库的SQL语句不区分大小写</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> databases;</span><br><span class="line"><span class="keyword">SHOW</span> DATABASES;</span><br></pre></td></tr></table></figure>
<ul>
<li>注释：
<ul>
<li>单行注释：<code>-- 注释内容</code>   或   <code># 注释内容</code>(MySQL特有)</li>
<li>多行注释：<code>/* 注释内容 */</code></li>
</ul>
</li>
</ul>
<h5 id="分类"><a class="header-anchor" href="#分类">¶</a>分类</h5>
<ul>
<li>SQL语句根据其功能被分为四大类：<code>DDL</code>、<code>DML</code>、<code>DQL</code>、<code>DCL</code></li>
</ul>
<table>
<thead>
<tr>
<th>分类</th>
<th>全称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>DDL</td>
<td>Data Definition Language</td>
<td>数据定义语言，用来定义数据库对象(数据库，表，字段)</td>
</tr>
<tr>
<td>DML</td>
<td>Data Manipulation Language</td>
<td>数据操作语言，用来对数据库表中的数据进行增删改</td>
</tr>
<tr>
<td>DQL</td>
<td>Data Query Language</td>
<td>数据查询语言，用来查询数据库中表的记录</td>
</tr>
<tr>
<td>DCL</td>
<td>Data Control Language</td>
<td>数据控制语言，用来创建数据库用户、控制数据库的访问权限</td>
</tr>
</tbody>
</table>
<h3 id="数据库设计-DDL"><a class="header-anchor" href="#数据库设计-DDL">¶</a>数据库设计-DDL</h3>
<h4 id="项目开发流程"><a class="header-anchor" href="#项目开发流程">¶</a>项目开发流程</h4>
<ol>
<li>
<p>需求文档</p>
<ol>
<li>开发一个项目 / 项目当中的某个模块之前，会先会拿到产品经理提供的<strong>页面原型及需求文档</strong></li>
</ol>
</li>
<li>
<p>设计</p>
<ol>
<li>拿到产品原型和需求文档之后，首先不是编码，而是先进行项目的设计
<ol>
<li>包括：<strong>概要设计</strong>、<strong>详细设计</strong>、<strong>接口设计</strong>、<strong>数据库设计</strong>等</li>
</ol>
</li>
<li>数据库设计根据产品原型以及需求文档，要分析<strong>各个模块涉及到的表结构</strong>以及<strong>表结构之间的关系</strong>，以及<strong>表结构的详细信息</strong>。</li>
<li>最终将数据库以及数据库当中的表结构设计<strong>创建</strong>出来</li>
</ol>
</li>
<li>
<p>开发 / 测试</p>
<ol>
<li>参照页面原型和需求进行编码，<strong>实现业务功能</strong></li>
<li>操作设计出来的<strong>数据库表结构</strong>，完成业务的<strong>增删改查操作</strong>等</li>
</ol>
</li>
<li>
<p>部署上线</p>
<ol>
<li>项目的<strong>功能开发测试</strong>完成之后，项目可以上线运行</li>
<li>后期如果项目遇到<strong>性能瓶颈</strong>，还需要对项目进行<strong>优化</strong></li>
<li>优化很重要的一个部分就是<strong>数据库的优化</strong></li>
<li>包括：数据库中<strong>索引的建立</strong>、<strong>SQL 的优化</strong>、<strong>分库分表</strong>等操作</li>
</ol>
</li>
</ol>
<h5 id="项目开发流程中数据库的三个阶段"><a class="header-anchor" href="#项目开发流程中数据库的三个阶段">¶</a>项目开发流程中数据库的三个阶段</h5>
<ol>
<li>数据库<strong>设计</strong>阶段</li>
</ol>
<ul>
<li>参照页面原型以及需求文档<u>设计数据库表结构</u></li>
</ul>
<ol start="2">
<li>数据库<strong>操作</strong>阶段</li>
</ol>
<ul>
<li>根据业务功能的实现，<u>编写SQL语句</u>对数据表中的数据<u>进行增删改查操作</u></li>
</ul>
<ol start="3">
<li>数据库<strong>优化</strong>阶段</li>
</ol>
<ul>
<li>通过数据库的优化来提高数据库的访问性能</li>
<li>优化手段：<u>索引</u>、<u>SQL优化</u>、<u>分库分表</u>等</li>
</ul>
<h4 id="数据库操作"><a class="header-anchor" href="#数据库操作">¶</a>数据库操作</h4>
<ul>
<li>进行数据库设计，使用DDL语句</li>
<li>全称：Data Definition Language(数据定义语言)，用来<strong>定义</strong>数据库对象(数据库、表)</li>
<li>常见操作：<u>查询、创建、使用、删除</u></li>
</ul>
<h5 id="查询数据库"><a class="header-anchor" href="#查询数据库">¶</a>查询数据库</h5>
<h6 id="查询所有数据库"><a class="header-anchor" href="#查询所有数据库">¶</a>查询所有数据库</h6>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> databases;</span><br></pre></td></tr></table></figure>
<h6 id="查询当前数据库"><a class="header-anchor" href="#查询当前数据库">¶</a>查询当前数据库</h6>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> database();</span><br></pre></td></tr></table></figure>
<ul>
<li>执行效果
<ul>
<li>返回<code>NULL</code>：表示当前没有使用任何数据库</li>
<li>返回<code>xxx数据库</code>：正在使用xxx数据库</li>
</ul>
</li>
</ul>
<blockquote>
<p>操作某一个数据库，必须要切换到对应的数据库中。</p>
<p>通过：select  database() ，就可查询到当前所处的数据库</p>
</blockquote>
<h5 id="创建数据库"><a class="header-anchor" href="#创建数据库">¶</a>创建数据库</h5>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 数据库不存在,则创建该数据库；如果存在则不创建</span></span><br><span class="line"><span class="keyword">create</span> database [ if <span class="keyword">not</span> <span class="keyword">exists</span> ] 数据库名;</span><br></pre></td></tr></table></figure>
<ul>
<li>在同一个数据库服务器中，不能创建两个名称相同的数据库，否则将会报错</li>
</ul>
<h5 id="使用数据库"><a class="header-anchor" href="#使用数据库">¶</a>使用数据库</h5>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use 数据库名;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>要操作某一个数据库下的表时，就需要通过该指令，切换到对应的数据库下，否则不能操作</p>
</blockquote>
<h5 id="删除数据库"><a class="header-anchor" href="#删除数据库">¶</a>删除数据库</h5>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> database [ if <span class="keyword">exists</span> ] 数据库名;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果删除一个不存在的数据库，将会报错</p>
<p>可以加上参数 if exists ，如果数据库存在，再执行删除，否则不执行删除</p>
</blockquote>
<blockquote>
<p>说明：上述语法中的database，也可以替换成 schema</p>
<p>如：create schema db01;</p>
<p>如：show schemas;</p>
</blockquote>
<h4 id="图形化工具"><a class="header-anchor" href="#图形化工具">¶</a>图形化工具</h4>
<ul>
<li>目前主流图形化界面工具：
<ul>
<li>SQLyog</li>
<li>Navicat</li>
<li>DataGrip</li>
<li>IDEA</li>
</ul>
</li>
</ul>
<h5 id="连接数据库"><a class="header-anchor" href="#连接数据库">¶</a>连接数据库</h5>
<ul>
<li>因为DataGrip已经集成到IDEA，所以直接用IDEA作为操作MySQL的图形化界面工具</li>
</ul>
<ol>
<li>
<p><code>IDEA</code>→<code>View</code>→<code>Tool Windows</code>→<code>Database</code></p>
</li>
<li>
<p>配置MySQL</p>
<ol>
<li><code>+</code>→<code>Data Source</code>→<code>MySQL</code></li>
</ol>
</li>
<li>
<p>输入相关信息</p>
<ol>
<li>当前连接名字、备注信息、数据库服务器的IP地址、端口号、<code>MySQL</code>登录名、登录密码</li>
<li>点击<code>Download</code>下载<code>MySQL</code>连接驱动</li>
</ol>
</li>
<li>
<p>测试数据库连接</p>
<ol>
<li>点击<code>Test Connection</code></li>
</ol>
</li>
<li>
<p>连接测试通过后保存配置</p>
</li>
</ol>
<h5 id="操作数据库"><a class="header-anchor" href="#操作数据库">¶</a>操作数据库</h5>
<h6 id="创建数据库-v2"><a class="header-anchor" href="#创建数据库-v2">¶</a>创建数据库</h6>
<ol>
<li>右键数据库</li>
<li><code>New</code>→<code>Schema</code></li>
<li>设置数据库名字</li>
</ol>
<blockquote>
<p>有了图形化界面工具后，就可以方便的使用图形化工具：创建数据库，创建表、修改表等DDL操作</p>
<p>工具底层也是通过DDL语句操作的数据库，只不过这些SQL语句是图形化界面工具自动完成的</p>
</blockquote>
<h6 id="查看所有数据库"><a class="header-anchor" href="#查看所有数据库">¶</a>查看所有数据库</h6>
<ul>
<li>在console中输入：<code>show databases;</code></li>
</ul>
<h4 id="表操作"><a class="header-anchor" href="#表操作">¶</a>表操作</h4>
<ul>
<li>包含四个部分：<code>创建表</code>、<code>查询表</code>、<code>修改表</code>、<code>删除表</code></li>
</ul>
<h5 id="创建"><a class="header-anchor" href="#创建">¶</a>创建</h5>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span>  表名(</span><br><span class="line">    字段<span class="number">1</span>  字段<span class="number">1</span>类型 [约束]  [comment  字段<span class="number">1</span>注释 ],</span><br><span class="line">    字段<span class="number">2</span>  字段<span class="number">2</span>类型 [约束]  [comment  字段<span class="number">2</span>注释 ],</span><br><span class="line">    ......</span><br><span class="line">    字段n  字段n类型 [约束]  [comment  字段n注释 ] </span><br><span class="line">) [ comment  表注释 ] ;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意： [ ] 中的内容为可选参数； 最后一个字段后面没有逗号</p>
</blockquote>
<h6 id="示例"><a class="header-anchor" href="#示例">¶</a>示例</h6>
<table>
<thead>
<tr>
<th>id</th>
<th>username</th>
<th>name</th>
<th>age</th>
<th>gender</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>qingyifuwang</td>
<td>韦一笑</td>
<td>45</td>
<td>男</td>
</tr>
<tr>
<td>2</td>
<td>baimeiyingwang</td>
<td>殷天正</td>
<td>55</td>
<td>男</td>
</tr>
<tr>
<td>3</td>
<td>jinmaoshiwang</td>
<td>谢逊</td>
<td>50</td>
<td>男</td>
</tr>
<tr>
<td>4</td>
<td>zishanlongwang</td>
<td>黛绮丝</td>
<td>38</td>
<td>女</td>
</tr>
</tbody>
</table>
<ul>
<li>建表语句</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tb_user (</span><br><span class="line">	id <span class="type">int</span> comment <span class="string">&#x27;ID,唯一标识&#x27;</span>,  <span class="comment">-- id是一行数据的唯一标识（不能重复）</span></span><br><span class="line">    username <span class="type">varchar</span>(<span class="number">20</span>) comment <span class="string">&#x27;用户名&#x27;</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">10</span>) comment <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">    age <span class="type">int</span> comment <span class="string">&#x27;年龄&#x27;</span>,</span><br><span class="line">    gender <span class="type">char</span>(<span class="number">1</span>) comment <span class="string">&#x27;性别&#x27;</span></span><br><span class="line">) comment <span class="string">&#x27;用户表&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>数据表创建完成后，再测试能否往表中存储数据</li>
</ul>
<h6 id="约束"><a class="header-anchor" href="#约束">¶</a>约束</h6>
<ul>
<li>
<p>作用在表中字段上的规则，用于限制存储在表中的数据</p>
</li>
<li>
<p>保证数据库当中数据的正确性、有效性和完整性</p>
</li>
<li>
<p>MySQL提供了5种约束：</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>约束</th>
<th>描述</th>
<th>关键字</th>
</tr>
</thead>
<tbody>
<tr>
<td>非空约束</td>
<td>限制该字段值不能为null</td>
<td>not null</td>
</tr>
<tr>
<td>唯一约束</td>
<td>保证所有字段的所有数据都是唯一、不重复的</td>
<td>unique</td>
</tr>
<tr>
<td>主键约束</td>
<td>主键是一行数据的唯一标识，要求非空且唯一</td>
<td>primary key</td>
</tr>
<tr>
<td>默认约束</td>
<td>保存数据时，如果未指定该字段值，则采用默认值</td>
<td>default</td>
</tr>
<tr>
<td>外键约束</td>
<td>让两张表的数据建立连接，保证数据的一致性和完整性</td>
<td>foreign key</td>
</tr>
</tbody>
</table>
<blockquote>
<p>约束是作用于表中字段上的，可以在创建表/修改表的时候添加约束</p>
</blockquote>
<ul>
<li>使用约束后重新创建上表</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tb_user (</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key comment <span class="string">&#x27;ID,唯一标识&#x27;</span>),</span><br><span class="line">	username <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">unique</span> comment <span class="string">&#x27;用户名&#x27;</span>,</span><br><span class="line">	name <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">	age <span class="type">int</span> comment <span class="string">&#x27;年龄&#x27;</span>,</span><br><span class="line">	gender <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">default</span> <span class="string">&#x27;男&#x27;</span> comment <span class="string">&#x27;性别&#x27;</span></span><br><span class="line">) comment <span class="string">&#x27;用户表&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>主键自增：<code>auto_increment</code> 自动增长</p>
<blockquote>
<p>每次插入新的行记录时，数据库自动生成id字段(主键)下的值</p>
<p>具有auto_increment的数据列是一个正数序列开始增长(从1开始自增)</p>
</blockquote>
</li>
<li>
<p>使用主键自增后调整创建表语句</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tb_user (</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment comment <span class="string">&#x27;ID,唯一标识&#x27;</span>), <span class="comment">-- 主键自动增长</span></span><br><span class="line">	<span class="comment">-- ......同上</span></span><br></pre></td></tr></table></figure>
<h6 id="数据类型"><a class="header-anchor" href="#数据类型">¶</a>数据类型</h6>
<ul>
<li>
<p>MySQL中数据类型主要分为三类：<code>数值类型</code>、<code>字符串类型</code>、<code>日期时间类型</code></p>
</li>
<li>
<p>数值类型</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>类型</th>
<th>大小</th>
<th>有符号(SIGNED)范围</th>
<th>无符号(UNSIGNED)范围</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>TINYINT</td>
<td>1byte</td>
<td>(-128，127)</td>
<td>(0，255)</td>
<td>小整数值</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>2bytes</td>
<td>(-32768，32767)</td>
<td>(0，65535)</td>
<td>大整数值</td>
</tr>
<tr>
<td>MEDIUMINT</td>
<td>3bytes</td>
<td>(-8388608，8388607)</td>
<td>(0，16777215)</td>
<td>大整数值</td>
</tr>
<tr>
<td>INT/INTEGER</td>
<td>4bytes</td>
<td>(-2147483648，2147483647)</td>
<td>(0，4294967295)</td>
<td>大整数值</td>
</tr>
<tr>
<td>BIGINT</td>
<td>8bytes</td>
<td>(-2^63， 2^63-1)</td>
<td>(0，2^64-1)</td>
<td>极大整数值</td>
</tr>
<tr>
<td>FLOAT</td>
<td>4bytes</td>
<td>(-3.402823466 E+38，3.402823466351 E+38)</td>
<td>0 和 (1.175494351 E-38，3.402823466 E+38)</td>
<td>单精度浮点数值</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>8bytes</td>
<td>(-1.7976931348623157 E+308，1.7976931348623157 E+308)</td>
<td>0 和 (2.2250738585072014 E-308，1.7976931348623157 E+308)</td>
<td>双精度浮点数值</td>
</tr>
<tr>
<td>DECIMAL</td>
<td></td>
<td>依赖于M(精度)和D(标度)的值</td>
<td>依赖于M(精度)和D(标度)的值</td>
<td>小数值(精确定点数)</td>
</tr>
</tbody>
</table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 示例</span></span><br><span class="line">	<span class="comment">-- 年龄字段 → 不会出现负数，且人的年龄不会太大</span></span><br><span class="line">	age tinyint unsigned</span><br><span class="line">	</span><br><span class="line">	<span class="comment">-- 分数 → 总分100分，最多出现一位小数</span></span><br><span class="line">	score <span class="keyword">double</span>(<span class="number">4</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>字符串类型</li>
</ul>
<table>
<thead>
<tr>
<th>类型</th>
<th>大小</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>CHAR</td>
<td>0-255 bytes</td>
<td>定长字符串(需要指定长度)</td>
</tr>
<tr>
<td>VARCHAR</td>
<td>0-65535 bytes</td>
<td>变长字符串(需要指定长度)</td>
</tr>
<tr>
<td>TINYBLOB</td>
<td>0-255 bytes</td>
<td>不超过255个字符的二进制数据</td>
</tr>
<tr>
<td>TINYTEXT</td>
<td>0-255 bytes</td>
<td>短文本字符串</td>
</tr>
<tr>
<td>BLOB</td>
<td>0-65 535 bytes</td>
<td>二进制形式的长文本数据</td>
</tr>
<tr>
<td>TEXT</td>
<td>0-65 535 bytes</td>
<td>长文本数据</td>
</tr>
<tr>
<td>MEDIUMBLOB</td>
<td>0-16 777 215 bytes</td>
<td>二进制形式的中等长度文本数据</td>
</tr>
<tr>
<td>MEDIUMTEXT</td>
<td>0-16 777 215 bytes</td>
<td>中等长度文本数据</td>
</tr>
<tr>
<td>LONGBLOB</td>
<td>0-4 294 967 295 bytes</td>
<td>二进制形式的极大文本数据</td>
</tr>
<tr>
<td>LONGTEXT</td>
<td>0-4 294 967 295 bytes</td>
<td>极大文本数据</td>
</tr>
</tbody>
</table>
<blockquote>
<p>char 与 varchar 都可以描述字符串</p>
<p>char是定长字符串，指定长度多长，就占用多少个字符，和字段值的长度无关</p>
<p>varchar是变长字符串，指定的长度为最大占用长度</p>
<p>相对来说，char的性能会更高些</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 示例：</span></span><br><span class="line">	<span class="comment">-- 用户名 username → 长度不足，最长不会超过50</span></span><br><span class="line">	username <span class="type">varchar</span>(<span class="number">50</span>)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">-- 手机号 phone → 固定长度为11</span></span><br><span class="line">	phone <span class="type">char</span>(<span class="number">11</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>日期时间类型</li>
</ul>
<table>
<thead>
<tr>
<th>类型</th>
<th>大小</th>
<th>范围</th>
<th>格式</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>DATE</td>
<td>3</td>
<td>1000-01-01 至 9999-12-31</td>
<td>YYYY-MM-DD</td>
<td>日期值</td>
</tr>
<tr>
<td>TIME</td>
<td>3</td>
<td>-838:59:59 至 838:59:59</td>
<td>HH:MM:SS</td>
<td>时间值或持续时间</td>
</tr>
<tr>
<td>YEAR</td>
<td>1</td>
<td>1901 至 2155</td>
<td>YYYY</td>
<td>年份值</td>
</tr>
<tr>
<td>DATETIME</td>
<td>8</td>
<td>1000-01-01 00:00:00 至 9999-12-31 23:59:59</td>
<td>YYYY-MM-DD HH:MM:SS</td>
<td>混合日期和时间值</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>4</td>
<td>1970-01-01 00:00:01 至 2038-01-19 03:14:07</td>
<td>YYYY-MM-DD HH:MM:SS</td>
<td>混合日期和时间值，时间戳</td>
</tr>
</tbody>
</table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 示例</span></span><br><span class="line">	<span class="comment">-- 生日字段 birthday 生日只需要年月日</span></span><br><span class="line">	birthday <span class="type">date</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">-- 创建时间 creatime 需要精确到时分秒</span></span><br><span class="line">	createtime datetime</span><br></pre></td></tr></table></figure>
<h6 id="案例"><a class="header-anchor" href="#案例">¶</a>案例</h6>
<ul>
<li>
<p>需求：根据产品原型/需求创建表((设计合理的数据类型、长度、约束)</p>
</li>
<li>
<p>2 新增员工</p>
</li>
<li>
<p>2.1 点击新增员工，会打开新增员工的页面</p>
</li>
<li>
<p>2.2 字段限制说明</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>必填/选填</th>
<th>类型</th>
<th>长度限制</th>
<th>输入限制</th>
<th>是否唯一</th>
<th>提示话术</th>
</tr>
</thead>
<tbody>
<tr>
<td>用户名</td>
<td>必填</td>
<td>输入框</td>
<td>2-20</td>
<td>数字、字母</td>
<td>是</td>
<td>当前用户名已存在，请重新输入</td>
</tr>
<tr>
<td>员工姓名</td>
<td>必填</td>
<td>输入框</td>
<td>2-10</td>
<td>汉字</td>
<td>否</td>
<td>-</td>
</tr>
<tr>
<td>性别</td>
<td>必填</td>
<td>下拉框</td>
<td>-</td>
<td>选择 男/女</td>
<td>否</td>
<td>-</td>
</tr>
<tr>
<td>图像</td>
<td>选填</td>
<td>图片上传</td>
<td>2M</td>
<td>图片大小不能超过2M</td>
<td>否</td>
<td>图片过大，上传失败</td>
</tr>
<tr>
<td>职位</td>
<td>选填</td>
<td>下拉框</td>
<td>-</td>
<td>选择 班主任/讲师/学工主管/教研主管</td>
<td>否</td>
<td>-</td>
</tr>
<tr>
<td>入职日期</td>
<td>选填</td>
<td>日期选择组件</td>
<td>-</td>
<td>格式为：xxxx-xx-xx</td>
<td>否</td>
<td>-</td>
</tr>
<tr>
<td>归属部门</td>
<td>选填</td>
<td>下拉框</td>
<td>-</td>
<td>选择该员工所属的部门，关联的是部门表的数据</td>
<td>否</td>
<td>-</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>2.3 保存：判断必填项，是否填写，以及字段值是否符合要求，进行校验</p>
<ul>
<li>是→弹窗关闭，添加成功</li>
<li>否→红字提示未填写项</li>
</ul>
</li>
<li>
<p>2.4 员工图像上传</p>
<ul>
<li>选填；点击上传图片，上传本地图片；再次点击，修改图片</li>
<li>2.4.1 图片限制
<ul>
<li>图片大小不超过2M，仅能上传PNG JPG JPEG类型图片，建议上传200 * 200或300 * 300尺寸的图片</li>
</ul>
</li>
<li>2.4.2 异常提示
<ul>
<li>图片过大，上传失败</li>
<li>格式错误，上传失败</li>
</ul>
</li>
</ul>
</li>
<li>
<p>2.5 添加员工时，会给员工设置一个默认的密码 123456，添加完成后，员工就可以通过该密码登陆该后台管理系统</p>
</li>
<li>
<p>步骤：</p>
<ol>
<li>阅读产品原型及需求文档，看里面涉及到哪些字段</li>
<li>查看需求文档说明，确认各个<strong>字段的类型</strong>以及<strong>字段存储数据的长度限制</strong></li>
<li>在页面原型中描述的基础字段的基础上，再增加<strong>额外的基础字段</strong></li>
</ol>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp (</span><br><span class="line">	id <span class="type">int</span> unsigned <span class="keyword">primary</span> key auto_increment comment <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">    username <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">unique</span> comment <span class="string">&#x27;用户名&#x27;</span>,</span><br><span class="line">    password <span class="type">varchar</span>(<span class="number">32</span>) <span class="keyword">default</span> <span class="string">&#x27;123456&#x27;</span> comment <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">    gender tinyint unsigned <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;性别，说明：1 男，2 女&#x27;</span>,</span><br><span class="line">    image <span class="type">varchar</span>(<span class="number">300</span>) commment <span class="string">&#x27;图像&#x27;</span>,</span><br><span class="line">    job tinyint unsigned comment <span class="string">&#x27;职位，说明：1 班主任，2 讲师，3 学工主管，4 教研主管&#x27;</span>,</span><br><span class="line">    entrydate <span class="type">date</span> comment <span class="string">&#x27;入职时间&#x27;</span>,</span><br><span class="line">    create_time datetime <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;创建时间&#x27;</span>,</span><br><span class="line">    update_time datetime <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;修改时间&#x27;</span></span><br><span class="line">) comment <span class="string">&#x27;员工表&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>图形化界面创建表结构的步骤
<ol>
<li>在指定操作的数据库上，右键<code>New ==&gt; Table</code></li>
<li>编辑表结构的相关信息</li>
</ol>
</li>
</ul>
<h6 id="设计表流程"><a class="header-anchor" href="#设计表流程">¶</a>设计表流程</h6>
<ul>
<li>阅读页面<strong>原型及需求文档</strong></li>
<li>基于页面原则和需求文档，<strong>确定原型字段</strong>(类型、长度限制、约束)</li>
<li>再增加表设计所需要的<strong>业务基础字段</strong>(id主键、插入时间、修改时间)</li>
</ul>
<blockquote>
<p>说明：</p>
<p>create_time：记录的是当前这条数据插入的时间</p>
<p>update_time：记录当前这条数据最后更新的时间</p>
</blockquote>
<h5 id="查询"><a class="header-anchor" href="#查询">¶</a>查询</h5>
<h6 id="查询当前数据库所有表"><a class="header-anchor" href="#查询当前数据库所有表">¶</a>查询当前数据库所有表</h6>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> tables;</span><br></pre></td></tr></table></figure>
<h6 id="查看指定表结构"><a class="header-anchor" href="#查看指定表结构">¶</a>查看指定表结构</h6>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">desc</span> 表名; <span class="comment">-- 可以查看指定表的字段、字段的类型、是否可以为NULL、是否存在默认值信息等</span></span><br></pre></td></tr></table></figure>
<h6 id="查询指定表的建表语句"><a class="header-anchor" href="#查询指定表的建表语句">¶</a>查询指定表的建表语句</h6>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> 表名;</span><br></pre></td></tr></table></figure>
<h5 id="修改"><a class="header-anchor" href="#修改">¶</a>修改</h5>
<h6 id="添加字段"><a class="header-anchor" href="#添加字段">¶</a>添加字段</h6>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">add</span> 字段名 类型（长度） [comment 注释] [约束];</span><br></pre></td></tr></table></figure>
<ul>
<li>案例：为tb_emp表添加字段qq，字段类型为varchar(11)</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tb_emp <span class="keyword">add</span> qq <span class="type">varchar</span>(<span class="number">11</span>) comment <span class="string">&#x27;QQ号码&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>图形化操作：添加字段
<ul>
<li>选择一张表→右键→<code>Modify Table</code></li>
</ul>
</li>
</ul>
<h6 id="修改数据类型"><a class="header-anchor" href="#修改数据类型">¶</a>修改数据类型</h6>
<ul>
<li>两种方式都可以</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 modify 字段名 新数据类型（长度）;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 change 旧字段名 新字段名 类型(长度) [comment 注释] [约束];</span><br></pre></td></tr></table></figure>
<ul>
<li>案例：修改qq字段的字段类型，将其长度由11修改为13</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tb_emp modify qq <span class="type">varchar</span>(<span class="number">13</span>) comment <span class="string">&#x27;QQ号码&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>案例：修改qq字段名为qq_num，字段类型varchar(13)</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tb_emp change qq qq_num <span class="type">varchar</span>(<span class="number">13</span>) comment <span class="string">&#x27;QQ号码&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>图形化操作：修改数据类型和字段名</p>
</li>
<li>
<p>右键表名→<code>Modify Table</code>→选择字段双击→可以修改字段名或类型→<code>Execute</code></p>
</li>
</ul>
<h6 id="删除字段"><a class="header-anchor" href="#删除字段">¶</a>删除字段</h6>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">drop</span> 字段名;</span><br></pre></td></tr></table></figure>
<ul>
<li>案例：删除<code>tb_emp</code>表中的<code>qq_num</code>字段</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tb_emp <span class="keyword">drop</span> qq_num;</span><br></pre></td></tr></table></figure>
<ul>
<li>图形化操作：
<ul>
<li><code>Modify Table</code>→选择字段，按<code>-</code>删除→<code>Execute</code></li>
</ul>
</li>
</ul>
<h6 id="修改表名"><a class="header-anchor" href="#修改表名">¶</a>修改表名</h6>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="keyword">table</span> 表名 <span class="keyword">to</span> 新表名;</span><br></pre></td></tr></table></figure>
<ul>
<li>案例：将当前的<code>tb_emp</code>表的表名修改为<code>emp</code></li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="keyword">table</span> tb_emp <span class="keyword">to</span> emp;</span><br></pre></td></tr></table></figure>
<ul>
<li>图形化操作：修改表名
<ul>
<li>右键某个表→<code>Rename</code>→输入新表名→<code>Refactor</code></li>
</ul>
</li>
</ul>
<h5 id="删除"><a class="header-anchor" href="#删除">¶</a>删除</h5>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> [ if <span class="keyword">exists</span> ] 表名;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>if exists ：只有表名存在时才会删除该表，表名不存在，则不执行删除操作(如果不加该参数项，删除一张不存在的表，执行将会报错)</p>
</blockquote>
<ul>
<li>案例：如果<code>tb_emp</code>表存在，则删除<code>tb_emp</code>表</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> tb_emp;  <span class="comment">-- 在删除表时，表中的全部数据也会被删除</span></span><br></pre></td></tr></table></figure>
<ul>
<li>图形化操作：删除表
<ul>
<li>右键某个表→<code>Drop</code>→删除成功</li>
</ul>
</li>
</ul>
<h4 id="数据库操作-DML"><a class="header-anchor" href="#数据库操作-DML">¶</a>数据库操作-DML</h4>
<ul>
<li>Data Manipulation Language(数据操作语言)</li>
<li>用来对数据库中表的数据记录进行<strong>增、删、改</strong>操作</li>
<li>添加数据（INSERT）</li>
<li>修改数据（UPDATE）</li>
<li>删除数据（DELETE）</li>
</ul>
<h5 id="增加（Insert）"><a class="header-anchor" href="#增加（Insert）">¶</a>增加（Insert）</h5>
<ul>
<li>向指定字段添加数据</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名 (字段名<span class="number">1</span>, 字段名<span class="number">2</span>) <span class="keyword">values</span> (值<span class="number">1</span>, 值<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>全部字段添加数据</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名 <span class="keyword">values</span> (值<span class="number">1</span>, 值<span class="number">2</span>, ...);</span><br></pre></td></tr></table></figure>
<ul>
<li>批量添加数据（指定字段）</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名 (字段名<span class="number">1</span>, 字段名<span class="number">2</span>) <span class="keyword">values</span> (值<span class="number">1</span>, 值<span class="number">2</span>), (值<span class="number">1</span>, 值<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>批量添加数据（全部字段）</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名 <span class="keyword">values</span> (值<span class="number">1</span>, 值<span class="number">2</span>, ...), (值<span class="number">1</span>, 值<span class="number">2</span>, ...);</span><br></pre></td></tr></table></figure>
<ul>
<li>案例1：向tb_emp表的username、name、gender字段插入数据</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 因为设计表时create_time, update_time两个字段不能为NULL，所以也要作为要插入的字段</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_emp(username, name, gender, create_time, update_time) <span class="keyword">values</span> (<span class="string">&#x27;wuji&#x27;</span>, <span class="string">&#x27;张无忌&#x27;</span>, <span class="number">1</span>, now(), now());</span><br></pre></td></tr></table></figure>
<ul>
<li>案例2：向tb_emp表的所有字段插入数据</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_emp(id, username, password, name, gender, image, job, entrydate, create_time, update_time) <span class="keyword">values</span> (<span class="keyword">null</span>, <span class="string">&#x27;zhirou&#x27;</span>, <span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;周芷若&#x27;</span>, <span class="number">2</span>, <span class="string">&#x27;i.jpg&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;2010-01-01&#x27;</span>, now(), now());</span><br></pre></td></tr></table></figure>
<ul>
<li>案例3：批量向tb_emp表的username、name、gender字段插入数据</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_emp(username, name, gender, create_time, update_time) <span class="keyword">values</span> (<span class="string">&#x27;weifuwang&#x27;</span>, <span class="string">&#x27;韦一笑&#x27;</span>, <span class="number">1</span>, now(), now()), (<span class="string">&#x27;fengzi&#x27;</span>, <span class="string">&#x27;张三疯&#x27;</span>, <span class="number">1</span>, now(), now()); </span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>图形化操作：双击<code>tb_emp</code>表查看数据</p>
</li>
<li>
<p>Insert操作的注意事项：</p>
<ol>
<li>插入数据时，指定的字段顺序需要与值的<strong>顺序是一一对应</strong>的</li>
<li>字符串和日期型数据应该<strong>包含在引号中</strong></li>
<li>插入的<strong>数据大小</strong>，应该在字段的<strong>规定范围</strong>内</li>
</ol>
</li>
</ul>
<h5 id="修改（update）"><a class="header-anchor" href="#修改（update）">¶</a>修改（update）</h5>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> 表名 <span class="keyword">set</span> 字段名<span class="number">1</span> <span class="operator">=</span> 值<span class="number">1</span>, 字段名<span class="number">2</span> <span class="operator">=</span> 值<span class="number">2</span>, ... [<span class="keyword">where</span> 条件];</span><br></pre></td></tr></table></figure>
<ul>
<li>案例1：将<code>tb_emp</code>表中<code>id</code>为<code>1</code>的员工，姓名<code>name</code>字段更新为’张三’</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> tb_emp <span class="keyword">set</span> name<span class="operator">=</span><span class="string">&#x27;张三&#x27;</span>, update_time<span class="operator">=</span>now() <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>案例2：将<code>tb_emp</code>表的所有员工入职日期更新为’2010-01-01’</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> tb_emp <span class="keyword">set</span> entrydate <span class="operator">=</span> <span class="string">&#x27;2010-01-01&#x27;</span>, update_time <span class="operator">=</span> now();</span><br></pre></td></tr></table></figure>
<blockquote>
<p>提示：update语句没有书写where条件，会更新表中的所有数据，点击确认执行</p>
<p>注意事项:</p>
<ol>
<li>修改语句的条件可以有，也可以没有，<strong>【如果没有条件，则会修改整张表的所有数据】</strong></li>
<li>在修改数据时，一般需要同时修改公共字段update_time，将其修改为当前操作时间。</li>
</ol>
</blockquote>
<h5 id="删除（delete）"><a class="header-anchor" href="#删除（delete）">¶</a>删除（delete）</h5>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名 [<span class="keyword">where</span> 条件];</span><br></pre></td></tr></table></figure>
<ul>
<li>案例1：删除tb_emp表中id为1的员工</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> tb_emp <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>案例2：删除tb_emp表中的所有员工</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> tb_emp;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意事项:</p>
<p>DELETE 语句的条件可以有，也可以没有，如果没有条件，则会删除整张表的所有数据</p>
<p>DELETE 语句不能删除某一个字段的值(可以使用UPDATE，将该字段值置为NULL即可)</p>
<p>当进行删除全部数据操作时，会提示询问是否确认删除所有数据，直接点击Execute即可</p>
</blockquote>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        share
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://brocademaple.github.io/2024/09/09/CS_Notes/Java/%E3%80%90JavaWeb%E3%80%91Day06--MySQL/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CS-Notes/" rel="tag">CS Notes</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaWeb/" rel="tag">JavaWeb</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
      <a href="/2024/09/09/CS_Notes/Java/%E3%80%90JavaWeb%E3%80%91Day07--MySQL/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            【JavaWeb】Day07--MySQL
          
        </div>
      </a>
    
    
      <a href="/2024/09/09/CS_Notes/Java/%E3%80%90JavaWeb%E3%80%91Day05--SpringBootWeb%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">【JavaWeb】Day05--SpringBootWeb请求响应</div>
      </a>
    
  </nav>

  
   
  
   
    <script src="https://cdn.staticfile.org/twikoo/1.4.18/twikoo.all.min.js"></script>
    <div id="twikoo" class="twikoo"></div>
    <script>
        twikoo.init({
            envId: ""
        })
    </script>
 
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2024
        <i class="ri-heart-fill heart_icon"></i> brocademaple
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer.png" alt="私の宝庫です"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">友链</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/aboutMe">自分</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->
 
<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: ".tocbot",
    contentSelector: ".article-entry",
    headingSelector: "h1, h2, h3, h4, h5, h6",
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: "main",
    positionFixedSelector: ".tocbot",
    positionFixedClass: "is-position-fixed",
    fixedSidebarOffset: "auto",
  });
</script>

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->
 <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.staticfile.org/mathjax/2.7.7/MathJax.js"></script>
<script src="https://cdn.staticfile.org/mathjax/2.7.7/config/TeX-AMS-MML_HTMLorMML-full.js"></script>
<script>
  var ayerConfig = {
    mathjax: true,
  };
</script>

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>
 
<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->
 
<script src="/js/dz.js"></script>
 
<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    <div id="music">
    
    
    
    <iframe frameborder="no" border="1" marginwidth="0" marginheight="0" width="200" height="52"
        src="//music.163.com/outchain/player?type=2&id=1983763439&auto=1&height=32"></iframe>
</div>

<style>
    #music {
        position: fixed;
        right: 15px;
        bottom: 0;
        z-index: 998;
    }
</style>
    
    

  </div>
</body>

</html>