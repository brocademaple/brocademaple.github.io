<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="Hexo Theme Redefine"><meta name="author" content="bcmp"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="canonical" href="https://brocademaple.github.io/2024/10/09/cs_notes/wenlv_project/【文旅大模型应用-知识整理】评论数据的爬取和处理/"><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="revisit-after" content="1 days"><meta name="description" content="【文旅大模型应用-知识整理】评论数据的爬取和处理 ¶版本一：从html内容提取内容【百度百科】 ¶1.1 爬取html内容 12345678910111213141516171819# 成功爬取大唐不夜城-百度百科静态网页html内容import requestsimport urlliburl1 &#x3D; &#x27;https:&#x2F;&#x2F;baike.baidu.com&#x2F;item&#x2F;&#x27;key_wor"><meta property="og:type" content="article"><meta property="og:title" content="【文旅大模型应用-知识整理】景点评论数据的爬取和处理"><meta property="og:url" content="https://brocademaple.github.io/2024/10/09/CS_Notes/wenlv_Project/%E3%80%90%E6%96%87%E6%97%85%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8-%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86%E3%80%91%E8%AF%84%E8%AE%BA%E6%95%B0%E6%8D%AE%E7%9A%84%E7%88%AC%E5%8F%96%E5%92%8C%E5%A4%84%E7%90%86/index.html"><meta property="og:site_name" content="私の宝庫です"><meta property="og:description" content="【文旅大模型应用-知识整理】评论数据的爬取和处理 ¶版本一：从html内容提取内容【百度百科】 ¶1.1 爬取html内容 12345678910111213141516171819# 成功爬取大唐不夜城-百度百科静态网页html内容import requestsimport urlliburl1 &#x3D; &#x27;https:&#x2F;&#x2F;baike.baidu.com&#x2F;item&#x2F;&#x27;key_wor"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://brocademaple.github.io/2024/10/09/CS_Notes/wenlv_Project/%E3%80%90%E6%96%87%E6%97%85%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8-%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86%E3%80%91%E8%AF%84%E8%AE%BA%E6%95%B0%E6%8D%AE%E7%9A%84%E7%88%AC%E5%8F%96%E5%92%8C%E5%A4%84%E7%90%86/image-20241009105706484.png"><meta property="og:image" content="https://brocademaple.github.io/2024/10/09/CS_Notes/wenlv_Project/%E3%80%90%E6%96%87%E6%97%85%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8-%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86%E3%80%91%E8%AF%84%E8%AE%BA%E6%95%B0%E6%8D%AE%E7%9A%84%E7%88%AC%E5%8F%96%E5%92%8C%E5%A4%84%E7%90%86/image-20241009105631344.png"><meta property="og:image" content="https://brocademaple.github.io/2024/10/09/CS_Notes/wenlv_Project/%E3%80%90%E6%96%87%E6%97%85%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8-%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86%E3%80%91%E8%AF%84%E8%AE%BA%E6%95%B0%E6%8D%AE%E7%9A%84%E7%88%AC%E5%8F%96%E5%92%8C%E5%A4%84%E7%90%86/image-20241009170156841.png"><meta property="og:image" content="https://brocademaple.github.io/2024/10/09/CS_Notes/wenlv_Project/%E3%80%90%E6%96%87%E6%97%85%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8-%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86%E3%80%91%E8%AF%84%E8%AE%BA%E6%95%B0%E6%8D%AE%E7%9A%84%E7%88%AC%E5%8F%96%E5%92%8C%E5%A4%84%E7%90%86/image-20241009170314609.png"><meta property="og:image" content="https://brocademaple.github.io/2024/10/09/CS_Notes/wenlv_Project/%E3%80%90%E6%96%87%E6%97%85%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8-%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86%E3%80%91%E8%AF%84%E8%AE%BA%E6%95%B0%E6%8D%AE%E7%9A%84%E7%88%AC%E5%8F%96%E5%92%8C%E5%A4%84%E7%90%86/image-20241009171810650.png"><meta property="og:image" content="https://brocademaple.github.io/2024/10/09/CS_Notes/wenlv_Project/%E3%80%90%E6%96%87%E6%97%85%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8-%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86%E3%80%91%E8%AF%84%E8%AE%BA%E6%95%B0%E6%8D%AE%E7%9A%84%E7%88%AC%E5%8F%96%E5%92%8C%E5%A4%84%E7%90%86/image-20241009172114172.png"><meta property="article:published_time" content="2024-10-08T16:00:00.000Z"><meta property="article:modified_time" content="2024-10-09T09:28:47.797Z"><meta property="article:author" content="brocademaple"><meta property="article:tag" content="CS Notes"><meta property="article:tag" content="Database"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://brocademaple.github.io/2024/10/09/CS_Notes/wenlv_Project/%E3%80%90%E6%96%87%E6%97%85%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8-%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86%E3%80%91%E8%AF%84%E8%AE%BA%E6%95%B0%E6%8D%AE%E7%9A%84%E7%88%AC%E5%8F%96%E5%92%8C%E5%A4%84%E7%90%86/image-20241009105706484.png"><link rel="icon" type="image/png" href="/images/goose.png" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="/images/goose.png"><meta name="theme-color" content="#A31F34"><link rel="shortcut icon" href="/images/goose.png"><title>【文旅大模型应用-知识整理】景点评论数据的爬取和处理 - BROCADEMAPLE</title><link rel="stylesheet" href="/fonts/Chillax/chillax.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/assets/build/styles.css"><link rel="stylesheet" href="/fonts/GeistMono/geist-mono.css"><link rel="stylesheet" href="/fonts/Geist/geist.css"><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Farsan&display=swap" rel="stylesheet"><script src="/js/libs/anime.min.js"></script><script id="hexo-configurations">window.config={hostname:"brocademaple.github.io",root:"/",language:"zh-CN",path:"search.xml"},window.theme={articles:{style:{font_size:"20px",line_height:1.5,image_border_radius:"14px",image_alignment:"center",image_caption:!1,link_icon:!0,title_alignment:"left",headings_top_spacing:{h1:"3.2rem",h2:"2.4rem",h3:"1.9rem",h4:"1.6rem",h5:"1.4rem",h6:"1.3rem"}},word_count:{enable:!0,count:!0,min2read:!0},author_label:{enable:!0,auto:!1,list:[]},code_block:{copy:!0,style:"mac",highlight_theme:{light:"github",dark:"vs2015"},font:{enable:!1,family:null,url:null}},toc:{enable:!0,max_depth:6,number:!1,expand:!0,init_open:!0},copyright:{enable:!0,default:"cc_by_nc_sa"},lazyload:!0,recommendation:{enable:!1,title:"推荐阅读",limit:3,mobile_limit:2,placeholder:"/images/wallhaven-wqery6-light.webp",skip_dirs:[]}},colors:{primary:"#A31F34",secondary:null,default_mode:"light"},global:{fonts:{chinese:{enable:!0,family:"Noto  Sans SC",url:"https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap"},english:{enable:!0,family:"Farsan",url:"https://fonts.googleapis.com/css2?family=Farsan&display=swap"},title:{enable:!1,family:null,url:null}},content_max_width:"1000px",sidebar_width:"210px",hover:{shadow:!0,scale:!0},scroll_progress:{bar:!0,percentage:!0},website_counter:{url:"https://cn.v ercount.one/js",enable:!0,site_pv:!0,site_uv:!0,post_pv:!0},single_page:!0,preloader:{enable:!0,custom_message:"live, love, life"},open_graph:!0,google_analytics:{enable:!1,id:null}},home_banner:{enable:!0,style:"fixed",image:{light:"/images/wallhaven-wqery6-light.webp",dark:"/images/wallhaven-wqery6-dark.webp"},title:"BROCADEMAPLE",subtitle:{text:["云淡风轻近午天，傍花随柳过前川","青山不墨千秋画，绿水无弦万古琴","同来不得同归去，故国逢春一寂寥"],hitokoto:{enable:!1,show_author:!1,api:"https://v1.hitokoto.cn"},typing_speed:100,backing_speed:80,starting_delay:500,backing_delay:1500,loop:!0,smart_backspace:!0},text_color:{light:"#fff",dark:"#d1d1b6"},text_style:{title_size:"2.8rem",subtitle_size:"1.5rem",line_height:1.2},custom_font:{enable:!1,family:null,url:null},social_links:{enable:!1,style:"default",links:{github:"https://github.com/brocademaple",instagram:null,zhihu:null,twitter:null,email:null},qrs:{weixin:null}}},plugins:{feed:{enable:!1},aplayer:{meting:!0,enable:!0,type:"fixed",audios:[{name:"Imagine",artist:"John Lennon",url:"https://evan.beee.top/music/Imagine%20-%20John%20Lennon.mp3",cover:"https://evan.beee.top/music/covers/Lennon_Imagine_Sleeve_1975.jpg"},{name:"Something Just Like This",artist:"Coldplay",url:"https://evan.beee.top/music/Something%20Just%20Like%20This%20-%20The%20Chainsmokers%E3%80%81Coldplay.mp3",cover:"https://evan.beee.top/music/covers/Something_Just_Like_This.png"}]},mermaid:{enable:!1,version:"9.3.0"}},version:"2.7.1",navbar:{auto_hide:!1,color:{left:"#f78736",right:"#367df7",transparency:35},width:{home:"1200px",pages:"1000px"},links:{Home:{path:"/",icon:"fa-solid fa-house"},Archives:{path:"/archives",icon:"fa-solid fa-archive"},Categories:{path:"/categories",icon:"fa-solid fa-list"},Tags:{path:"/tags/",icon:"fa-solid fa-tags"},Friends:{path:"/friends/",icon:"fa-solid fa-user-group"},About:{icon:"fa-regular fa-user",submenus:{Me:"/aboutMe",Github:"https://github.com/brocademaple"}},Links:{icon:"fa-solid fa-tags",submenus:{Friends:"/links",Link2:"/link2"}}},search:{enable:!0,preload:!0}},page_templates:{friends_column:3,tags_style:"cloud"},home:{sidebar:{enable:!0,position:"left",first_item:"menu",announcement:null,show_on_mobile:!0,links:{Home:{path:"/",icon:"fa-solid fa-house"},Archives:{path:"/archives",icon:"fa-solid fa-archive"},Categories:{path:"/categories",icon:"fa-solid fa-list"},Tags:{path:"/tags",icon:"fa-solid fa-tags"},Friends:{path:"/links",icon:"fa-solid fa-user-group"},About:{path:"/aboutMe",icon:"fa-regular fa-user"}}},article_date_format:"auto",excerpt_length:200,categories:{enable:!0,limit:3},tags:{enable:!0,limit:3}},footerStart:"2024/7/1 21:44:00"},window.lang_ago={second:"%s 秒前",minute:"%s 分钟前",hour:"%s 小时前",day:"%s 天前",week:"%s 周前",month:"%s 个月前",year:"%s 年前"},window.data={masonry:!1}</script><link rel="stylesheet" href="/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/fontawesome/brands.min.css"><link rel="stylesheet" href="/fontawesome/solid.min.css"><link rel="stylesheet" href="/fontawesome/regular.min.css"><meta name="generator" content="Hexo 7.2.0"></head><body><div class="progress-bar-container"><span class="scroll-progress-bar"></span> <span class="pjax-progress-bar"></span></div><style>:root{--preloader-background-color:#fff;--preloader-text-color:#000}@media (prefers-color-scheme:dark){:root{--preloader-background-color:#202124;--preloader-text-color:#fff}}@media (prefers-color-scheme:light){:root{--preloader-background-color:#fff;--preloader-text-color:#000}}@media (max-width:600px){.ml13{font-size:2.6rem!important}}.preloader{display:flex;flex-direction:column;gap:1rem;align-items:center;justify-content:center;position:fixed;padding:12px;top:0;right:0;bottom:0;left:0;width:100vw;height:100vh;background-color:var(--preloader-background-color);z-index:1100;transition:opacity .2s ease-in-out}.ml13{font-size:3.2rem;color:var(--preloader-text-color);letter-spacing:-1px;font-weight:500;font-family:Chillax-Variable,sans-serif;text-align:center}.ml13 .word{display:inline-flex;flex-wrap:wrap;white-space:nowrap}.ml13 .letter{display:inline-block;line-height:1em}</style><div class="preloader"><h2 class="ml13">live, love, life</h2><script>var textWrapper = document.querySelector('.ml13');
        // Split text into words
        var words = textWrapper.textContent.trim().split(' ');

        // Clear the existing content
        textWrapper.innerHTML = '';

        // Wrap each word and its letters in spans
        words.forEach(function(word) {
            var wordSpan = document.createElement('span');
            wordSpan.classList.add('word');
            wordSpan.innerHTML = word.replace(/\S/g, "<span class='letter'>$&</span>");
            textWrapper.appendChild(wordSpan);
            textWrapper.appendChild(document.createTextNode(' ')); // Add space between words
        });

        var animation = anime.timeline({loop: true})
            .add({
                targets: '.ml13 .letter',
                translateY: [40,0],
                translateZ: 0,
                opacity: [0,1],
                filter: ['blur(5px)', 'blur(0px)'], // Starting from blurred to unblurred
                easing: "easeOutExpo",
                duration: 1400,
                delay: (el, i) => 300 + 30 * i,
            }).add({
                targets: '.ml13 .letter',
                translateY: [0,-40],
                opacity: [1,0],
                filter: ['blur(0px)', 'blur(5px)'], // Ending from unblurred to blurred
                easing: "easeInExpo",
                duration: 1200,
                delay: (el, i) => 100 + 30 * i,
                complete: function() {
                    hidePreloader(); // Call hidePreloader after the animation completes
                }
            });

        let themeStatus = JSON.parse(localStorage.getItem('REDEFINE-THEME-STATUS'))?.isDark;

        // If the theme status is not found in local storage, check the preferred color scheme
        if (themeStatus === undefined || themeStatus === null) {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                themeStatus = 'dark';
            } else {
                themeStatus = 'light';
            }
        }

        // Now you can use the themeStatus variable in your code
        if (themeStatus) {
            document.documentElement.style.setProperty('--preloader-background-color', '#202124');
            document.documentElement.style.setProperty('--preloader-text-color', '#fff');
        } else {
            document.documentElement.style.setProperty('--preloader-background-color', '#fff');
            document.documentElement.style.setProperty('--preloader-text-color', '#000');
        }

        window.addEventListener('load', function () {
            setTimeout(hidePreloader, 5000); // Call hidePreloader after 5000 milliseconds if not already called by animation
        });

        function hidePreloader() {
            var preloader = document.querySelector('.preloader');
            preloader.style.opacity = '0';
            setTimeout(function () {
                preloader.style.display = 'none';
            }, 200);
        }</script></div><main class="page-container" id="swup"><div class="main-content-container"><div class="main-content-header"><header class="navbar-container px-6 md:px-12"><div class="navbar-content"><div class="left"><a class="logo-title" href="/">BROCADEMAPLE</a></div><div class="right"><div class="desktop"><ul class="navbar-list"><li class="navbar-item"><a href="/"><i class="fa-solid fa-house fa-fw"></i> 首页</a></li><li class="navbar-item"><a href="/archives"><i class="fa-solid fa-archive fa-fw"></i> 归档</a></li><li class="navbar-item"><a href="/categories"><i class="fa-solid fa-list fa-fw"></i> 分类</a></li><li class="navbar-item"><a href="/tags/"><i class="fa-solid fa-tags fa-fw"></i> 标签</a></li><li class="navbar-item"><a href="/friends/"><i class="fa-solid fa-user-group fa-fw"></i> 友情链接</a></li><li class="navbar-item"><a class="has-dropdown" href="#" onclick="&#34;return" false;&#34;><i class="fa-regular fa-user fa-fw"></i> 关于 <i class="fa-solid fa-chevron-down fa-fw"></i></a><ul class="sub-menu"><li><a href="/aboutMe">ME</a></li><li><a target="_blank" rel="noopener" href="https://github.com/brocademaple">GITHUB</a></li></ul></li><li class="navbar-item"><a class="has-dropdown" href="#" onclick="&#34;return" false;&#34;><i class="fa-solid fa-tags fa-fw"></i> 链接 <i class="fa-solid fa-chevron-down fa-fw"></i></a><ul class="sub-menu"><li><a href="/links">友情链接</a></li><li><a href="/link2">LINK2</a></li></ul></li><li class="navbar-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div><div class="icon-item navbar-bar"><div class="navbar-bar-middle"></div></div></div></div></div><div class="navbar-drawer h-screen w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between"><ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start"><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/"><span>首页 </span><i class="fa-solid fa-house fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/archives"><span>归档 </span><i class="fa-solid fa-archive fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/categories"><span>分类 </span><i class="fa-solid fa-list fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/tags/"><span>标签 </span><i class="fa-solid fa-tags fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/friends/"><span>友情链接 </span><i class="fa-solid fa-user-group fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item-sub text-base my-1.5 flex flex-col w-full"><div class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary cursor-pointer text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" navbar-data-toggle="submenu-About"><span>关于 </span><i class="fa-solid fa-chevron-right fa-sm fa-fw transition-all"></i></div><div class="flex-col items-start px-2 py-2 hidden" data-target="submenu-About"><div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl"><a class="text-third-text-color text-xl" href="/aboutMe">ME</a></div><div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl"><a class="text-third-text-color text-xl" target="_blank" rel="noopener" href="https://github.com/brocademaple">GITHUB</a></div></div></li><li class="drawer-navbar-item-sub text-base my-1.5 flex flex-col w-full"><div class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary cursor-pointer text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" navbar-data-toggle="submenu-Links"><span>链接 </span><i class="fa-solid fa-chevron-right fa-sm fa-fw transition-all"></i></div><div class="flex-col items-start px-2 py-2 hidden" data-target="submenu-Links"><div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl"><a class="text-third-text-color text-xl" href="/links">友情链接</a></div><div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl"><a class="text-third-text-color text-xl" href="/link2">LINK2</a></div></div></li></ul><div class="statistics flex justify-around my-2.5"><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">42</div><div class="label text-third-text-color text-sm">标签</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">34</div><div class="label text-third-text-color text-sm">分类</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">105</div><div class="label text-third-text-color text-sm">文章</div></a></div></div><div class="window-mask"></div></header></div><div class="main-content-body"><div class="main-content"><div class="post-page-container flex relative justify-between box-border w-full h-full"><div class="article-content-container"><div class="article-title relative w-full"><div class="w-full flex items-center pt-6 justify-start"><h1 class="article-title-regular text-second-text-color tracking-tight text-4xl md:text-6xl font-semibold px-2 sm:px-6 md:px-8 py-3">【文旅大模型应用-知识整理】景点评论数据的爬取和处理</h1></div></div><div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8"><div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]"><img src="/images/goose_bg.png"></div><div class="info flex flex-col justify-between"><div class="author flex items-center"><span class="name text-default-text-color text-lg font-semibold">bcmp</span> <span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">Lv5</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fa-regular fa-pen-fancy"></i>&nbsp; <span class="desktop">2024-10-09</span> <span class="mobile">2024-10-09</span> <span class="hover-info">创建</span> </span><span class="article-date article-meta-item"><i class="fa-regular fa-wrench"></i>&nbsp; <span class="desktop">2024-10-09 17:28:47</span> <span class="mobile">2024-10-09 17:28:47</span> <span class="hover-info">更新</span> </span><span class="article-categories article-meta-item"><i class="fa-regular fa-folders"></i>&nbsp;<ul><li><a href="/categories/notes/">notes</a>&nbsp;</li><li>></li><li><a href="/categories/notes/wenlv-Project-notes/">wenlv Project notes</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fa-regular fa-tags"></i>&nbsp;<ul><li><a href="/tags/CS-Notes/">CS Notes</a>&nbsp;</li><li>| <a href="/tags/Database/">Database</a>&nbsp;</li></ul></span><span class="article-wordcount article-meta-item"><i class="fa-regular fa-typewriter"></i>&nbsp;<span>11.1k 字</span> </span><span class="article-min2read article-meta-item"><i class="fa-regular fa-clock"></i>&nbsp;<span>41 分钟</span> </span><span class="article-pv article-meta-item"><i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8"><h1>【文旅大模型应用-知识整理】评论数据的爬取和处理</h1><h2 id="版本一：从html内容提取内容【百度百科】"><a class="header-anchor" href="#版本一：从html内容提取内容【百度百科】">¶</a>版本一：从html内容提取内容【百度百科】</h2><h3 id="1-1-爬取html内容"><a class="header-anchor" href="#1-1-爬取html内容">¶</a>1.1 爬取html内容</h3><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 成功爬取大唐不夜城-百度百科静态网页html内容</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line">url1 = <span class="string">&#x27;https://baike.baidu.com/item/&#x27;</span></span><br><span class="line">key_word = (<span class="built_in">input</span>())</span><br><span class="line">lens = <span class="built_in">len</span>(key_word)</span><br><span class="line">key_word = urllib.parse.quote(key_word,encoding = <span class="string">&#x27;utf-8&#x27;</span>, errors = <span class="string">&#x27;replace&#x27;</span>)</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="comment"># &#x27;wd&#x27;:key_word,</span></span><br><span class="line">    <span class="comment"># &#x27;Host&#x27;: &#x27;https://baike.baidu.com/item/&#x27;,</span></span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span>:<span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">html = requests.get(url1+key_word,headers = headers)</span><br><span class="line"><span class="built_in">print</span>(url1+key_word)<span class="comment"># 验证链接是否正确</span></span><br><span class="line">html.encoding = html.apparent_encoding</span><br><span class="line">fo = <span class="built_in">open</span>(<span class="string">&quot;bigTangNoNightCity.txt&quot;</span>,<span class="string">&#x27;wb&#x27;</span>)<span class="comment"># 爬取百度百科的内容保存到本地中</span></span><br><span class="line">fo.write((html.content))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;写入文件成功&quot;</span>)</span><br></pre></td></tr></table></figure></div><h3 id="1-2-把html清洗为文本"><a class="header-anchor" href="#1-2-把html清洗为文本">¶</a>1.2 把html清洗为文本</h3><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 成功把html内容提取为文本</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取txt文件内容</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;bigTangNoNightCity.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    html_content = file.read()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解析HTML内容</span></span><br><span class="line">soup = BeautifulSoup(html_content, <span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取文本</span></span><br><span class="line">text = soup.get_text(separator=<span class="string">&#x27;\n&#x27;</span>, strip=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存清理后的文本</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;datang_baike_cleaned.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    file.write(text)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;文本清理完成，保存为 &#x27;datang_baike_cleaned.txt&#x27;&quot;</span>)</span><br></pre></td></tr></table></figure></div><h3 id="1-3-把文本内容转换为xlsx格式"><a class="header-anchor" href="#1-3-把文本内容转换为xlsx格式">¶</a>1.3 把文本内容转换为xlsx格式</h3><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在kimi和ChatGPT的辅助下，将内容提取到xlsx文件中</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 文件路径定义</span></span><br><span class="line">input_file = <span class="string">&#x27;datang_baike_cleaned.txt&#x27;</span></span><br><span class="line">output_file = <span class="string">&#x27;原始数据文件合集/Datang_Everbright_City_Info.xlsx&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 从文件中读取原始内容</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(input_file, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    raw_text = file.read()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 文本清洗函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">clean_text</span>(<span class="params">text</span>):</span><br><span class="line">    <span class="comment"># 去除 [数字] 格式的标记</span></span><br><span class="line">    cleaned_text = re.sub(<span class="string">r&#x27;\[\d+\]&#x27;</span>, <span class="string">&#x27;&#x27;</span>, text)</span><br><span class="line">    <span class="comment"># 去除多余的换行和空格</span></span><br><span class="line">    cleaned_text = re.sub(<span class="string">r&#x27;\n+&#x27;</span>, <span class="string">&#x27;\n&#x27;</span>, cleaned_text).strip()</span><br><span class="line">    <span class="keyword">return</span> cleaned_text</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 清洗文本</span></span><br><span class="line">cleaned_text = clean_text(raw_text)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. 准备要写入 Excel 的数据</span></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&quot;大项&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;历史沿革&quot;</span>, <span class="string">&quot;历史沿革&quot;</span>, <span class="string">&quot;历史沿革&quot;</span>,</span><br><span class="line">        <span class="string">&quot;景区布局&quot;</span>,</span><br><span class="line">        <span class="string">&quot;重要景点&quot;</span>, <span class="string">&quot;重要景点&quot;</span>, <span class="string">&quot;重要景点&quot;</span>, <span class="string">&quot;重要景点&quot;</span>,</span><br><span class="line">        <span class="string">&quot;文化活动&quot;</span>, <span class="string">&quot;文化活动&quot;</span>,</span><br><span class="line">        <span class="string">&quot;其他看点&quot;</span>, <span class="string">&quot;其他看点&quot;</span>,</span><br><span class="line">        <span class="string">&quot;开发与保护&quot;</span>,</span><br><span class="line">        <span class="string">&quot;相关文化&quot;</span>,</span><br><span class="line">        <span class="string">&quot;重要事件&quot;</span>, <span class="string">&quot;重要事件&quot;</span>,</span><br><span class="line">        <span class="string">&quot;价值意义&quot;</span>, <span class="string">&quot;价值意义&quot;</span>, <span class="string">&quot;价值意义&quot;</span>,</span><br><span class="line">        <span class="string">&quot;旅游信息&quot;</span>, <span class="string">&quot;旅游信息&quot;</span>, <span class="string">&quot;旅游信息&quot;</span>, <span class="string">&quot;旅游信息&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;小项&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;初步建造&quot;</span>, <span class="string">&quot;改造发展&quot;</span>, <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;贞观广场&quot;</span>, <span class="string">&quot;开元广场&quot;</span>, <span class="string">&quot;大雁塔南广场&quot;</span>, <span class="string">&quot;主题雕塑&quot;</span>,</span><br><span class="line">        <span class="string">&quot;节目演出&quot;</span>, <span class="string">&quot;其他活动&quot;</span>,</span><br><span class="line">        <span class="string">&quot;长安十二时辰主题街区&quot;</span>, <span class="string">&quot;西安音乐厅&quot;</span>,</span><br><span class="line">        <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;重要荣誉&quot;</span>, <span class="string">&quot;热点事件&quot;</span>,</span><br><span class="line">        <span class="string">&quot;艺术价值&quot;</span>, <span class="string">&quot;社会价值&quot;</span>, <span class="string">&quot;文化价值&quot;</span>,</span><br><span class="line">        <span class="string">&quot;开放时间&quot;</span>, <span class="string">&quot;门票价格&quot;</span>, <span class="string">&quot;酒店住宿&quot;</span>, <span class="string">&quot;交通信息&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;内容&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;20世纪90年代末，西安拟建曲江旅游景区，由中国工程院院士张锦秋规划设计曲江核心区“七园一城一塔”布局，其中“一塔”就是大雁塔，“一城”就是大唐不夜城。2002年8月，大雁塔北广场正式开建，拉开了大唐不夜城建设的序幕。2008年，西安市完成第四次城市发展规划，确定了大唐不夜城在西安文旅产业中的地位。同年12月初，大唐不夜城开始布局招商。2009年4月，大唐不夜城点亮工程启动。5月，大唐不夜城景观大道开始改造建设。次年9月26日，开元广场建成开放，开元盛世及武后行从两大主题雕塑落成，标志着大唐不夜城长2100米、宽500米的中央景观带全线贯通，展现了千年古都的历史命脉和文化轴线。&quot;</span>,</span><br><span class="line">        <span class="string">&quot;2018年按照“中国特色、地方特点、国际水平”的总体要求，充分挖掘城市文化底蕴，大唐不夜城整体以“唐”文化为主线，进行全面提升，构建了“一轴·两市·三核·四区·五内街”总体布局，形成观光游憩、文化休闲、演艺互动、特色餐饮、购物娱乐多位一体的发展模式。2018年6月26日，西安曲江大唐区域宣布将打造融文化、商业、旅游为一体的步行街。11月，中国31个省区市向商务部报送了包括大唐不夜城在内的128条重点培育的步行街。2018年底，商务部在中国启动了11条步行街改造提升试点，大唐不夜城成功入选。12月25日，大唐步行街正式开街。成功入选中国11条商业步行街改造提升试点后，按照商务部关于“中国特色、地方特点、国际水平”的总体要求，曲江新区对街区进行了全面提升，文商旅融合发展的特点日益明显。2019年1月29日，“西安年·最中国”活动核心区大唐不夜城现代唐人街开街盛典暨国家高品位步行街试点揭牌仪式举行。2020年2月21日，包含大唐不夜城在内的西安市室外开放式景区及户外公园全部开放。7月，大唐不夜城步行街入选首批中国示范步行街名单。2022年4月30日，“长安十二时辰”主题街区在西安大唐不夜城曼蒂广场正式开街，标志着历经2年多精心策划打造的中国首个沉浸式唐风市井生活街区向广大市民游客正式开放。近年来，大唐不夜城更以创建旅游休闲街区为核心，不断提升街区品质、丰富文化内涵、创新体验产品、优化消费业态、完善公共服务，致力于打造世界级文化IP旅游休闲街区。&quot;</span>,</span><br><span class="line">        cleaned_text,  <span class="comment"># 将总的历史沿革内容放在此处</span></span><br><span class="line">        <span class="string">&quot;大唐不夜城位于陕西省西安市雁塔区的大雁塔脚下，街区南北长2100米，东西宽500米，总建筑面积65万平方米。其北起大雁塔南广场，南至唐城墙遗址，东起慈恩东路，西至慈恩西路。该街区按照建设有中国特色、地方特点、国际水平步行街的总体要求，以国际化、人文化、特色化为目标，规划形成了大唐不夜城步行街“一轴·两市·三核·四区·五内街”的总体布局。一轴是指“大唐不夜城文化商业轴”；两市是指“贞观新风韵唐市、创领新时代都市”；三核是指“大雁塔广场景观文化核心、贞观文化广场时尚艺术核心、创领新时代广场休闲时尚核心”；四区是指“大雁塔盛唐景观人文风貌展示区、中华传统美食文化生活品鉴区、贞观国际艺术文化交流体验区、创领新时代都市休闲文化区”；五内街是指“慈恩镇——陕西风情小吃文化街、新乐汇——中华传统美食文化街、欧凯罗——潮流音乐酒吧文化街、温德姆—品味生活咖啡文化街、阳光城—SKP时尚青年艺术文化街”。大唐不夜城整体布局为线性布局，以大雁塔南广场到古城墙遗址之间的连线为轴线，分为五个功能区，即商业步行街、贞观广场、文化交流广场、庆典广场及唐城墙遗址公园。&quot;</span>,</span><br><span class="line">        <span class="string">&quot;贞观文化广场是大唐不夜城的核心部分，由西安大剧院、西安音乐厅、曲江美术馆和曲江太平洋影城四组文化艺术性建筑组成。该广场采取立体式设计，以地面层的四个下沉式广场把地面和地下的活动场所联系起来。贞观文化广场在总体设计中，四个主体建筑以正对大雁塔的南北轴线为空间对称关系，主体空间高度接近的电影院与美术展馆布置在用地的北部，两者的大屋顶均设计为重檐歇山；而音乐厅和大剧院布置在用地的南部，两者的大屋顶均设计为重檐庑殿。&quot;</span>,</span><br><span class="line">        <span class="string">&quot;开元广场是大唐不夜城中轴线的景观高潮，南北长161米，东西宽78米，面积约12200平米，其中旱喷泉约1000平米，绿化面积约1300平米。广场上设立了1组“开元盛世”群雕和8根LED灯蟠龙柱。广场上8根朱红LED蟠龙柱高20米，柱头直径8.9米，柱身直径2米，东西两侧各有四柱，取意为四方、四极、四周、四海，与八数相合，意为四面八方、四通八达，诠释了大唐不夜城的建筑美学，使得开元广场成为了一个露天宫殿。当LED灯柱在古城夜色中点亮，不夜城更加焕发出“不夜”之魅。&quot;</span>,</span><br><span class="line">        <span class="string">&quot;大雁塔南广场（玄奘广场）作为西安重要的佛文化主题空间，大雁塔南广场结合大慈恩寺传统建筑群营造兼具社会性与精神性的特色场所，呈现思想、精神、观念、文化和艺术的积累。该地段主题鲜明，尺度宜人，演绎着持续生长的本土文化，是容纳城市居民和外地游客公共活动的重要场所。广场基础设施配套完善，景观环境以纪念性开敞空间为主，连接大面积绿化和景观空间，提供了多样化的活动体验及视觉感受，是历史性与公共性并存的城市公共客厅。&quot;</span>,</span><br><span class="line">        <span class="string">&quot;万国来朝雕塑表现的就是大唐王朝四海成服，万国来朝的盛世景象。武后行从雕塑以唐代仕女画家张萱的《武后行从图》为蓝图，连接在贞观广场和开元广场之间，上承贞观之兴，下启开元之盛，完整地展示大唐盛世气象。唐历史文化浮雕柱位于武后行从雕塑两边的“唐历史文化浮雕柱”，共有24根，它们采用唐代建筑中斗拱的形式，将唐代48个重要的文化事件如“曲江游宴、丝绸之路、上元赏灯”等，以浮雕的形式展现，其中每个事件中的重要人物又以圆雕的形式予以表现，充分体现了大唐文化之勃兴和繁荣。“开元盛世”主题雕塑总高12.95米，最高一层基座上是4.59米高的“唐玄宗李隆基”。4.59米取意为九五之尊，李隆基站立在巨大的圆形龙壁前，帝王风范尽显。第二层是唐玄宗最器重的6位重臣及20个番邦使节。第三层42个乐俑手持各种乐器尽情演奏，壮美恢弘。整个雕塑群由78个人物组成，营造出一种大唐盛世百姓安居乐业的欢乐气氛。贞观纪念碑是不夜城的地标性雕塑，由李世民骑马像组成及周围的附属雕塑组成。中间，为李世民威武端跨高头大马之上，手抖缰绳欲勒马前行，意气风发；四周，号手、旗手各半的24人仪仗队、鼓手2人及文臣武将各3人紧密相随。碑体正面雕刻“贞观之治”四字，背面为贞观政要名录数百字。&quot;</span>,</span><br><span class="line"><span class="string">&quot;大唐不夜城常态演出时间表包括诗歌艺术、花车斗彩、贞观之治、戏演壁画等节目，以及大雁塔水舞光影秀、再回长安等主题演出。各类演出在不同的展演时间在诗歌雕塑群内、团花广场、贞观之治雕塑群南侧、大唐文化柱、大雁塔北广场、开元广场主舞台等地举行。此外，还有开元广场不倒翁、北广场不倒翁、盛唐密盒、旋转的胡旋、华灯太白、乐舞长安、丝路曼舞、民俗荟萃舞台、长安故事舞台、追梦力量舞台等行为艺术和音乐舞台表演。&quot;</span>,</span><br><span class="line"><span class="string">&quot;2019年春节，在为期66天的“西安年·最中国”活动期间，大唐不夜城举办了西商大会、丝绸之路国际电影节、国际模特大赛、国际时尚周、码农集市等时尚文化活动。2021年至2022年，大唐不夜城以唐文化、陕西特色文化及网红潮流文化为三大主题，研发并推出百余种文创产品，打造出“唐食坊”“唐礼坊”“大唐游艺区”等商业业态。大唐不夜城还创新推出了“盛世花开”“霓裳羽衣”等新的行为艺术和表演，全网总曝光率超25亿次；以“不倒翁小姐姐”为代表的系列IP人物火遍中国后，大唐不夜城相继推出“与李白对诗送肉夹馍”活动，点评赞过亿。&quot;</span>,</span><br><span class="line"><span class="string">&quot;长安十二时辰主题街区为一所24000平方米的商业空间，注入了《长安十二时辰》电视剧相关IP与唐文化内容，建造长安城隐市坊的故事体系。街区全天8大类表演，百余场大型演艺。街区充分利用全唐场景，结合原影视剧情和长安城特有的烟火气息，设计NPC互动演绎，以偶遇触发式体验全新沉浸观感，首创游客全维度沉浸式消费体验。街区再现了剧中靖安司、通善坊、安仁坊等场景，同时还汇集了《霓裳羽衣舞》《万邦来朝》《大唐燕乐》等特色演艺。&quot;</span>,</span><br><span class="line"><span class="string">&quot;不夜城内的西安音乐厅作为一个具有国际顶级水准的独立式场馆，由可容纳1300名观众的大型交响音乐厅及两个小型室内音乐厅、流行音乐厅构成。音乐厅内常举行大型音乐盛会和音乐赛事，可让人们领略世界顶级艺术。&quot;</span>,</span><br><span class="line"><span class="string">&quot;大唐不夜城2002年启动建设，2009年9月28日，一期建成开放。建设初期以文化和旅游为主，是西安文化旅游的一张名片。经过多年的发展，周边开发建设不断完善，文商旅融合发展的特点日益明显。2018年，大唐不夜城对标国家5A级旅游景区标准，对街区硬件建设和基础设施配套全面改造升级，集中展现盛唐文化风貌，功能更加完善。在文旅融合方面，《再回大雁塔》《再回长安》等节目将街区的美食、建筑、演出、文创、科技融入到整个盛唐文化氛围中，打造大唐不夜城潮文创，开发了70多种文创产品，唐文化元素为潮玩手办赋予了丰富的文化内涵。街区在保护和还原盛唐文化原生态韵味的同时，不断加强文化创新，推出了“象棋对弈”“秦腔提线木偶”等行为艺术表演。街区入选全国11条商业步行街改造提升试点以来，按照商务部关于“中国特色、地方特点、国际水平”的总体要求，曲江新区对街区进行了全面提升。经过77天的提升改造，2019年元旦前全新亮相。大悦城、银泰等龙头商业相继落户，街区的商业氛围日益浓厚，已经成为西安引领新消费的标志性区域。&quot;</span>,</span><br><span class="line"><span class="string">&quot;大唐不夜城是《长安十二时辰》的取景地，通济坊，范围在雁南二路以北，雁南一路以南。在电视剧播出后，陕西文化产业投资控股有限公司将“长安十二时辰主题街区”项目落地的目标瞄准了坐落在大唐不夜城核心区的曼蒂广场。如今长安十二时辰主题街区在大唐不夜城旁边。大唐不夜城也是《装台》的取景地，张嘉益演绎的“刁大顺”跟着大哥一家人聚餐的餐厅，就在大唐不夜城一家西安老字号——同盛祥，片头部分西安城墙永宁门的大场景，剧中西安护城河景区的镜头。《2024年中央广播电视总台春节联欢晚会》西安分会场设在大唐不夜城开元广场。&quot;</span>,</span><br><span class="line"><span class="string">&quot;自建成后，大唐不夜城被国家部委确认为“国家旅游科技示范园区试点”“第一批国家级夜间文旅消费集聚区”“省级旅游休闲街区”，入选国家文化和旅游部产业发展司发布的“中国沉浸式产业数据库”、进入“中国沉浸式产业项目评选”中国40强、入选西安市2021年度文旅行业科技计划项目。2020年7月，大唐不夜城步行街入选首批中国示范步行街名单。2021年10月，西安市大唐不夜城步行街拟入选第一批国家级夜间文化和旅游消费集聚区名单。2023年1月，文化和旅游部发布2022年度文化和旅游最佳创新成果，由陕文投集团创新打造的“长安十二时辰+大唐不夜城”唐文化全景展示创新实践成果入选。&quot;</span>,</span><br><span class="line"><span class="string">&quot;2019年11月，在大唐不夜城表演不倒翁行为艺术的冯佳晨因为一段“神仙牵手”的短视频在网络上走红。爆红之后，冯佳晨的粉丝从几个人增长至230多万人，她甚至还上了人民网和央视的《新闻周刊》。以“不夜城不倒翁”为代表的系列文化IP，仅2019年网络播放量达23亿次，成为带动人气和商气的全新IP。2019年8月，在大唐不夜城扮演“石头人”马旭阳在做凿“自己”的动作时，不小心用锤子砸到手上。有游客提醒他“砸手了”，一脸严肃的马旭阳瞬间“笑场”。视频一经上传，便在网络上收获有数万条点赞。大量游客专门前往西安大唐不夜城看他表演，并不断“挑逗”，只为博君一笑。2024年2月，西安大唐不夜城的演员刘江涛在台上表演节目时，手中的道具刀意外断裂，却坚持“无实物表演”，这一幕被游客拍摄下来后火遍全网。刘江涛称该节目名为《贞观之治》，自己扮演的是带刀侍卫。从“带‘刀’侍卫”秒变“丢‘刀’侍卫”，刘江涛当时的表情也被做成表情包火遍全网。走红网络后，刘江涛饰演其他角色的工作日常也被剪辑出来。因他曾在《诗歌艺术》中扮演船夫为“李白”撑船，网友笑称其“大刀换船桨，从四品直接被‘贬’到没品”。&quot;</span>,</span><br><span class="line"><span class="string">&quot;大唐不夜城步行街区的仿唐建筑飞檐斗拱、层楼叠榭；华灯初上后灯火璀璨、游人如织。白居易笔下的雁塔题名、诗仙李白的醉酒吟诗、古诗古画中的簪花仕女、青史留名的房谋杜断等散落在史书典籍中的故事遗珠，在大唐不夜城通过现代舞蹈、真人演绎、现场互动等形式呈现于世人面前。千米长街一步一景，传统与时尚精彩碰撞、古老与现代相得益彰。&quot;</span>,</span><br><span class="line"><span class="string">&quot;大唐不夜城的经营收入可观，且处于不断上涨状态。2019年，大唐不夜城接待市民游客达1.01亿人次，同比增长302.3%；营业收入达112.4亿，同比增长74%。2021年可统计口径数据恢复到2019年80%，总客流8000万人次，综合收入达85亿。消费增速全国第一，助力西安进入夜经济全国十强城市，夜经济景区影响力全国排名第一，全网总曝光量百亿，相继登上抖音全国热榜top1，微博全国热榜top1，总计接待中外媒体万余家，创造超1000余个就业岗位。&quot;</span>,</span><br><span class="line"><span class="string">&quot;大唐不夜城聚焦中国传统历史文化，以盛唐文化为背景，提供给游客唐代建筑的视觉享受和唐风市井文化生活的沉浸式体验，即“观一场唐风唐艺、听一段唐音唐乐、演一出唐人唐剧、品一口唐食唐味、玩一回唐俗唐趣、购一份唐物唐礼”。在游览和体验中，增强了群众的“文化自信”。&quot;</span>,</span><br><span class="line"><span class="string">&quot;全天&quot;</span>,  <span class="comment"># 开放时间</span></span><br><span class="line"><span class="string">&quot;免费&quot;</span>,  <span class="comment"># 门票价格</span></span><br><span class="line"><span class="string">&quot;西安威斯汀博物馆酒店位于曲江新区大雁塔南广场西南角，与大唐不夜城隔街相望，人文气息浓厚。酒店设计具有西安特色，立面采用深色的灰泥与石材；运用中国特色的坡屋顶和悬挑屋檐，同时将传统的复杂细节提炼转化为现代建筑的简洁线条。建筑外立面上深凹的洞口有节奏、有序列地转换，趣意盎然。西安豪享来温德姆至尊酒店坐落于西安曲江新区大唐不夜城的核心位置，大雁塔及众多风景名胜、国际购物中心、商业步行街近在咫尺。酒店距离西安国际会议中心及曲江国际会展中心仅5分钟车程。酒店将现代建筑艺术与中国传统建筑文化有机结合，有着565间奢华典雅的客房及套房、特色的全日制餐厅及本地特色美食。国际一流的会议设施更使得西安豪享来温德姆至尊酒店成为高标准公司会议及大型主题派对的首选之地。&quot;</span>,  <span class="comment"># 酒店住宿</span></span><br><span class="line"><span class="string">&quot;大唐不夜城可乘坐地铁4号线在大雁塔站下车，步行即到。夜间地铁接驳线：1、北端408路区间地铁接驳线，由不夜城的最北端（大雁塔南广场）发车，接驳大雁塔地铁站（3号线、4号线）、北池头地铁站（3号线）；2、中段146路区间地铁接驳线，由不夜城中段，长安十二时辰处（雁塔南路雁南一路口）发车，接驳纬一街地铁站（2号线）；3、南端526路区间地铁接驳线，由不夜城最南端（雁塔南路雁南三路口、开元广场）发车，接驳电视塔地铁站（2号线）。&quot;</span>  <span class="comment"># 交通信息</span></span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6. 转换为 Pandas DataFrame</span></span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 7. 将 DataFrame 写入 Excel 文件</span></span><br><span class="line">df.to_excel(output_file, index=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 8. 输出文件路径</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;数据已保存到: <span class="subst">&#123;output_file&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></div><blockquote><p>附：</p><p>这只是小规模的数据，所以采取直接插入的方式</p><p>需要思考：当数据量变大，这种脚本的改进方式</p></blockquote><h2 id="版本二：对数据进行分析，生成图表"><a class="header-anchor" href="#版本二：对数据进行分析，生成图表">¶</a>版本二：对数据进行分析，生成图表</h2><p>参考文章：</p><ul><li><a class="link" target="_blank" rel="noopener" href="https://developer.aliyun.com/article/1434918?spm=a2c6h.12873639.article-detail.7.51665b06EBXQJE">基于词云图+Kmeans聚类+LDA主题分析+社会网络语义分析对大唐不夜城用户评论进行分析（上）-阿里云开发者社区 (aliyun.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li><li><a class="link" target="_blank" rel="noopener" href="https://developer.aliyun.com/article/1434919?spm=a2c6h.12873639.article-detail.9.a92f3d41tITbwv">基于词云图+Kmeans聚类+LDA主题分析+社会网络语义分析对大唐不夜城用户评论进行分析(下)-阿里云开发者社区 (aliyun.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul><h3 id="2-1-饼状图-说不出来什么图-词云图（生成了但无法显示）"><a class="header-anchor" href="#2-1-饼状图-说不出来什么图-词云图（生成了但无法显示）">¶</a>2.1 饼状图+说不出来什么图+词云图（生成了但无法显示）</h3><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入依赖</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入评论文本数据</span></span><br><span class="line">data = pd.read_csv(<span class="string">&#x27;comments.csv&#x27;</span>)</span><br><span class="line">data.head()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用snownlp情感分析模块进行情感打分</span></span><br><span class="line"><span class="keyword">from</span> snownlp <span class="keyword">import</span> SnowNLP</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历每条评论进行预测</span></span><br><span class="line">values = [SnowNLP(i).sentiments <span class="keyword">for</span> i <span class="keyword">in</span> data[<span class="string">&#x27;用户评论&#x27;</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出积极的概率，大于0.5积极的，小于0.5消极的</span></span><br><span class="line"><span class="comment"># myval保存预测值</span></span><br><span class="line">myval = []</span><br><span class="line">good = <span class="number">0</span></span><br><span class="line">mid = <span class="number">0</span></span><br><span class="line">bad = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> values:</span><br><span class="line">    <span class="keyword">if</span> i &gt;= <span class="number">0.6</span>:</span><br><span class="line">        myval.append(<span class="string">&quot;积极&quot;</span>)</span><br><span class="line">        good += <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> <span class="number">0.2</span> &lt; i &lt; <span class="number">0.6</span>:</span><br><span class="line">        myval.append(<span class="string">&quot;中性&quot;</span>)</span><br><span class="line">        mid += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        myval.append(<span class="string">&quot;消极&quot;</span>)</span><br><span class="line">        bad += <span class="number">1</span></span><br><span class="line">data[<span class="string">&#x27;预测值&#x27;</span>] = values</span><br><span class="line">data[<span class="string">&#x27;预测类别&#x27;</span>] = myval</span><br><span class="line">data.head()</span><br><span class="line"></span><br><span class="line"><span class="comment"># # 在控制台打印好评率等</span></span><br><span class="line"><span class="comment"># # ------------------------------------------</span></span><br><span class="line">goodrate = good / (good + bad + mid)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;好评率&#x27;</span>, <span class="string">&#x27;%.f%%&#x27;</span> % (goodrate * <span class="number">100</span>))  <span class="comment"># 格式化为百分比</span></span><br><span class="line"></span><br><span class="line">midrate = mid / (good + bad + mid)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;中评率&#x27;</span>, <span class="string">&#x27;%.f%%&#x27;</span> % (midrate * <span class="number">100</span>))  <span class="comment"># 格式化为百分比</span></span><br><span class="line"></span><br><span class="line">badrate = bad / (good + bad + mid)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;差评率&#x27;</span>, <span class="string">&#x27;%.f%%&#x27;</span> % (badrate * <span class="number">100</span>))  <span class="comment"># 格式化为百分比</span></span><br><span class="line"><span class="comment"># # ------------------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 作图1：好评率差评率饼状图</span></span><br><span class="line"><span class="comment"># -------------------------------</span></span><br><span class="line">y = values</span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]  <span class="comment"># 用黑体显示中文</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span>  <span class="comment"># 正常显示负号</span></span><br><span class="line">plt.rc(<span class="string">&#x27;font&#x27;</span>, family=<span class="string">&#x27;SimHei&#x27;</span>, size=<span class="number">10</span>)</span><br><span class="line">plt.plot(y, marker=<span class="string">&#x27;o&#x27;</span>, mec=<span class="string">&#x27;r&#x27;</span>, mfc=<span class="string">&#x27;w&#x27;</span>, label=<span class="string">u&#x27;评价分值&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;用户&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;预测值&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 让图例生效</span></span><br><span class="line">plt.legend()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加标题</span></span><br><span class="line">plt.title(<span class="string">&#x27;大唐不夜城-携程网评论-情感分析&#x27;</span>, family=<span class="string">&#x27;SimHei&#x27;</span>, size=<span class="number">14</span>, color=<span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"><span class="comment"># -------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 作图2</span></span><br><span class="line">y = data[<span class="string">&#x27;预测类别&#x27;</span>].value_counts().values.tolist()</span><br><span class="line">plt.pie(y,</span><br><span class="line">        labels=[<span class="string">&#x27;积极&#x27;</span>, <span class="string">&#x27;中性&#x27;</span>, <span class="string">&#x27;消极&#x27;</span>],  <span class="comment"># 设置饼图标签</span></span><br><span class="line">        colors=[<span class="string">&quot;#d5695d&quot;</span>, <span class="string">&quot;#5d8ca8&quot;</span>, <span class="string">&quot;#65a479&quot;</span>],  <span class="comment"># 设置饼图颜色</span></span><br><span class="line">        autopct=<span class="string">&#x27;%.2f%%&#x27;</span>,  <span class="comment"># 格式化输出百分比</span></span><br><span class="line">        )</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">一个画词云图的函数，</span></span><br><span class="line"><span class="string">该函数中的功能包括文本预处理、</span></span><br><span class="line"><span class="string">文本分词、去除停用词、词频统计、</span></span><br><span class="line"><span class="string">画出top10词频条形图、画出词云图</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> stylecloud</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"></span><br><span class="line">sns.<span class="built_in">set</span>(font=<span class="string">&#x27;SimHei&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">draw_WordCloud</span>(<span class="params">df, pic_name, color=<span class="string">&#x27;white&#x27;</span></span>):  <span class="comment"># 将默认背景色更改为白色</span></span><br><span class="line">    data = <span class="string">&#x27;&#x27;</span>.join([item <span class="keyword">for</span> item <span class="keyword">in</span> df])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 文本预处理：去除一些无用的字符只提取出中文出来</span></span><br><span class="line">    new_data = re.findall(<span class="string">&#x27;[\u4e00-\u9fa5]+&#x27;</span>, data, re.S)</span><br><span class="line">    new_data = <span class="string">&quot;&quot;</span>.join(new_data)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 文本分词</span></span><br><span class="line">    seg_list_exact = jieba.cut(new_data, cut_all=<span class="literal">True</span>)</span><br><span class="line">    result_list = []</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;停用词库.txt&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:  <span class="comment"># 可根据需要打开停用词库，然后加上不想显示的词语</span></span><br><span class="line">        con = f.readlines()</span><br><span class="line">        stop_words = <span class="built_in">set</span>()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> con:</span><br><span class="line">            i = i.replace(<span class="string">&quot;\n&quot;</span>, <span class="string">&quot;&quot;</span>)  <span class="comment"># 去掉读取每一行的\n</span></span><br><span class="line">            stop_words.add(i)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> seg_list_exact:</span><br><span class="line">        <span class="keyword">if</span> word <span class="keyword">not</span> <span class="keyword">in</span> stop_words <span class="keyword">and</span> <span class="built_in">len</span>(word) &gt; <span class="number">1</span>:</span><br><span class="line">            result_list.append(word)</span><br><span class="line">    word_counts = collections.Counter(result_list)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 调试信息</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;词云词语列表:&quot;</span>, result_list[:<span class="number">10</span>])  <span class="comment"># 打印前10个词语</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 词频统计：获取前100最高频的词</span></span><br><span class="line">    word_counts_top = word_counts.most_common(<span class="number">100</span>)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">f&#x27;<span class="subst">&#123;pic_name&#125;</span>词频统计.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> word_counts_top:</span><br><span class="line">            f.write(<span class="built_in">str</span>(i[<span class="number">0</span>]))</span><br><span class="line">            f.write(<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">            f.write(<span class="built_in">str</span>(i[<span class="number">1</span>]))</span><br><span class="line">            f.write(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(word_counts_top)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># x = [item[0] for item in word_counts_top[:10]]</span></span><br><span class="line">    <span class="comment"># y = [item[1] for item in word_counts_top[:10]]</span></span><br><span class="line">    <span class="comment"># plt.bar(x, y)</span></span><br><span class="line">    <span class="comment"># plt.title(f&#x27;&#123;pic_name&#125;Top10高频词&#x27;)</span></span><br><span class="line">    <span class="comment"># plt.xlabel(&#x27;词语&#x27;)</span></span><br><span class="line">    <span class="comment"># plt.ylabel(&#x27;频次&#x27;)</span></span><br><span class="line">    <span class="comment"># plt.show()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 绘制词云图</span></span><br><span class="line">    stylecloud.gen_stylecloud(text=<span class="string">&#x27;&#x27;</span>.join(result_list[:]),  <span class="comment"># 提取500个词进行绘图</span></span><br><span class="line">                              collocations=<span class="literal">False</span>,  <span class="comment"># 是否包括两个单词的搭配（二字组）</span></span><br><span class="line">                              font_path=<span class="string">r&#x27;C:\Windows\Fonts\simhei.ttf&#x27;</span>,  <span class="comment"># 设置字体，参考位置为 C:\Windows\Fonts\，根据里面的字体编号来设置</span></span><br><span class="line">                              size=<span class="number">8000</span>,  <span class="comment"># stylecloud的大小</span></span><br><span class="line">                              palette=<span class="string">&#x27;cartocolors.qualitative.Bold_7&#x27;</span>,</span><br><span class="line">                              <span class="comment"># 调色板，调色网址 https://jiffyclub.github.io/palettable</span></span><br><span class="line">                              background_color=color,  <span class="comment"># 背景颜色</span></span><br><span class="line">                              icon_name=<span class="string">&#x27;fas fa-circle&#x27;</span>,</span><br><span class="line">                              <span class="comment"># 形状的图标名称  蒙版网址：https://fontawesome.com/icons?d=gallery&amp;p=2&amp;c=chat...</span></span><br><span class="line">                              gradient=<span class="string">&#x27;horizontal&#x27;</span>,  <span class="comment"># 梯度方向</span></span><br><span class="line">                              max_words=<span class="number">2000</span>,  <span class="comment"># stylecloud可包含的最大单词数</span></span><br><span class="line">                              max_font_size=<span class="number">150</span>,  <span class="comment"># stylecloud中的最大字号</span></span><br><span class="line">                              stopwords=<span class="literal">True</span>,</span><br><span class="line">                              output_name=<span class="string">f&#x27;<span class="subst">&#123;pic_name&#125;</span>词云图.png&#x27;</span>)  <span class="comment"># 输出图片</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打开图片展示</span></span><br><span class="line">    img = Image.<span class="built_in">open</span>(<span class="string">f&#x27;<span class="subst">&#123;pic_name&#125;</span>词云图.png&#x27;</span>)</span><br><span class="line">    img.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line"><span class="comment"># 调用函数</span></span><br><span class="line">draw_WordCloud(data[data[<span class="string">&quot;预测类别&quot;</span>] == <span class="string">&quot;积极&quot;</span>][<span class="string">&quot;用户评论&quot;</span>], <span class="string">&quot;积极情绪&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure></div><p><img lazyload src="/images/loading.svg" data-src="image-20241009105706484.png" alt="1-评价饼状图"></p><p><img lazyload src="/images/loading.svg" data-src="image-20241009105631344.png" alt="2-？？图"></p><p><img lazyload src="/images/loading.svg" data-src="image-20241009170156841.png" alt="3-词云图（理想效果）"></p><p><img lazyload src="/images/loading.svg" data-src="image-20241009170314609.png" alt="4-词频统计图"></p><h2 id="版本三：爬取旅游网站的景点评论数据（以携程为例）"><a class="header-anchor" href="#版本三：爬取旅游网站的景点评论数据（以携程为例）">¶</a>版本三：爬取旅游网站的景点评论数据（以携程为例）</h2><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 成功爬取携程网关于大唐不夜城景点的评论</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.edge.service <span class="keyword">import</span> Service</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> Edge, EdgeOptions</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions <span class="keyword">as</span> EC</span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment"># 忽略警告</span></span><br><span class="line">warnings.filterwarnings(<span class="string">&quot;ignore&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    driver.get(<span class="string">&#x27;https://you.ctrip.com/sight/xian7/1446.html&#x27;</span>)  <span class="comment"># 此处为景点的链接地址</span></span><br><span class="line">    sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">200</span>):</span><br><span class="line">        <span class="comment"># 等待评论列表加载完成</span></span><br><span class="line">        comment_list = WebDriverWait(driver, <span class="number">10</span>).until(</span><br><span class="line">            EC.presence_of_all_elements_located((By.XPATH, <span class="string">&#x27;//*[@id=&quot;commentModule&quot;]/div[5]/div/div[2]/div[2]&#x27;</span>))</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 爬取评论内容</span></span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> comment_list:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                comment = item.find_element(By.XPATH, <span class="string">&#x27;.&#x27;</span>).text</span><br><span class="line">                comment = comment.strip().replace(<span class="string">&#x27;\n&#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">                csvwriter.writerow((<span class="string">&#x27;陕西历史博物馆&#x27;</span>, comment))</span><br><span class="line">                f.flush()</span><br><span class="line">                <span class="built_in">print</span>(comment)</span><br><span class="line">            <span class="keyword">except</span>:</span><br><span class="line">                <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 滚动到页面底部</span></span><br><span class="line">        driver.execute_script(<span class="string">&quot;window.scrollTo(0, document.body.scrollHeight);&quot;</span>)</span><br><span class="line">        sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 点击下一页按钮</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            next_button = WebDriverWait(driver, <span class="number">10</span>).until(</span><br><span class="line">                EC.element_to_be_clickable((By.CSS_SELECTOR, <span class="string">&#x27;li.ant-pagination-next&gt;span&#x27;</span>))</span><br><span class="line">            )</span><br><span class="line">            retries = <span class="number">3</span></span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(retries):</span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    next_button.click()</span><br><span class="line">                    <span class="keyword">break</span>  <span class="comment"># 点击成功则跳出重试循环</span></span><br><span class="line">                <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;点击失败，重试中... <span class="subst">&#123;_+<span class="number">1</span>&#125;</span>/<span class="subst">&#123;retries&#125;</span>&quot;</span>)</span><br><span class="line">                    sleep(<span class="number">2</span>)  <span class="comment"># 等待一段时间后重试</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;第<span class="subst">&#123;i+<span class="number">1</span>&#125;</span>页点击下一页失败，跳过该页。&quot;</span>)</span><br><span class="line">                <span class="keyword">continue</span>  <span class="comment"># 如果所有重试都失败，跳过该页</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;第<span class="subst">&#123;i+<span class="number">1</span>&#125;</span>页点击下一页失败: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span>  <span class="comment"># 如果点击下一页失败，退出循环</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;=====================第<span class="subst">&#123;i + <span class="number">1</span>&#125;</span>页爬取完毕！=========================&#x27;</span>)</span><br><span class="line">        sleep(random.random() * <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个驱动</span></span><br><span class="line">service = Service(<span class="string">&#x27;./msedgedriver.exe&#x27;</span>)  <span class="comment"># Edge WebDriver 的路径</span></span><br><span class="line">options = EdgeOptions()  <span class="comment"># 使用 EdgeOptions</span></span><br><span class="line">options.use_chromium = <span class="literal">True</span>  <span class="comment"># Edge 浏览器基于 Chromium</span></span><br><span class="line">options.add_experimental_option(<span class="string">&#x27;excludeSwitches&#x27;</span>, [<span class="string">&#x27;enable-automation&#x27;</span>, <span class="string">&#x27;enable-logging&#x27;</span>])</span><br><span class="line">options.add_experimental_option(<span class="string">&#x27;useAutomationExtension&#x27;</span>, <span class="literal">False</span>)</span><br><span class="line"><span class="comment"># 创建一个浏览器</span></span><br><span class="line">driver = Edge(service=service, options=options)  <span class="comment"># 改为 Edge</span></span><br><span class="line">driver.execute_cdp_cmd(<span class="string">&quot;Page.addScriptToEvaluateOnNewDocument&quot;</span>, &#123;</span><br><span class="line">    <span class="string">&quot;source&quot;</span>: <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Object.defineProperty(navigator, &#x27;webdriver&#x27;, &#123;</span></span><br><span class="line"><span class="string">        get: () =&gt; false</span></span><br><span class="line"><span class="string">        &#125;)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;原始数据文件合集/comments.csv&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>, newline=<span class="string">&#x27;&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    csvwriter = csv.writer(f)</span><br><span class="line">    csvwriter.writerow((<span class="string">&#x27;景点&#x27;</span>, <span class="string">&#x27;用户评论&#x27;</span>))</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure></div><blockquote><p>使用注意事项：</p><p>运行之前要先下载msedgedriver.exe（用edge浏览器的话）</p><p>点击运行之后会弹出一个新的单独的edge浏览器界面进行自动的评论爬取</p><p>爬取当前页面结果会在控制台显示</p><p>需要保持“下一页”按钮在视觉范围内，因为脚本的原理就是查找“下一页”按钮并自动点击，继续爬取评论</p></blockquote><h2 id="版本四：读取和清洗csv中的数据"><a class="header-anchor" href="#版本四：读取和清洗csv中的数据">¶</a>版本四：读取和清洗csv中的数据</h2><blockquote><p>以华清宫为例</p></blockquote><h3 id="4-1-清洗数据"><a class="header-anchor" href="#4-1-清洗数据">¶</a>4.1 清洗数据</h3><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取CSV文件</span></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;原始数据文件合集/comments.csv&#x27;</span>)</span><br><span class="line"><span class="comment"># # 打印所有列名</span></span><br><span class="line"><span class="built_in">print</span>(df.columns)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取负面词汇</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;negative_words.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    negative_words = file.read().splitlines()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取与&quot;华清宫&quot;相关的数据</span></span><br><span class="line">df = df[df[<span class="string">&#x27;景点&#x27;</span>] == <span class="string">&#x27;华清宫&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印提取后的数据前几行</span></span><br><span class="line"><span class="built_in">print</span>(df.head())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 清洗数据：删除无关列（例如C1），并将剩余列合并成单个文本列</span></span><br><span class="line"><span class="comment"># df = df.drop(columns=[&#x27;C1&#x27;])</span></span><br><span class="line">df[<span class="string">&#x27;text&#x27;</span>] = df[<span class="string">&#x27;用户评论&#x27;</span>]</span><br><span class="line">df = df[[<span class="string">&#x27;text&#x27;</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除包含负面评价的行（可根据具体需求调整）</span></span><br><span class="line">negative_words = [<span class="string">&#x27;后悔&#x27;</span>, <span class="string">&#x27;遗憾&#x27;</span>, <span class="string">&#x27;失望&#x27;</span>, <span class="string">&#x27;不好&#x27;</span>, <span class="string">&#x27;不值&#x27;</span>, <span class="string">&#x27;一般&#x27;</span>, <span class="string">&#x27;糟糕&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> negative_words:</span><br><span class="line">    df = df[df[<span class="string">&#x27;text&#x27;</span>].<span class="built_in">str</span>.contains(word, na=<span class="literal">False</span>)==<span class="literal">False</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将清洗后的数据保存为新的CSV文件</span></span><br><span class="line">df.to_csv(<span class="string">&#x27;cleaned_comments_华清宫.csv&#x27;</span>, index=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Success!&quot;</span>)</span><br></pre></td></tr></table></figure></div><h3 id="4-2-将csv文件中部分内容提取到txt文件中"><a class="header-anchor" href="#4-2-将csv文件中部分内容提取到txt文件中">¶</a>4.2 将csv文件中部分内容提取到txt文件中</h3><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取CSV文件</span></span><br><span class="line">csv_file_path = <span class="string">&#x27;华清宫/cleaned_comments_华清宫.csv&#x27;</span>  <span class="comment"># 输入的CSV文件路径</span></span><br><span class="line">txt_file_path = <span class="string">&#x27;华清宫/comments_华清宫.txt&#x27;</span>  <span class="comment"># 输出的TXT文件路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取CSV文件，假设CSV文件只有一列，没有列名</span></span><br><span class="line">df = pd.read_csv(csv_file_path, header=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将DataFrame转换为字符串，并保存到TXT文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(txt_file_path, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> txt_file:</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> df[<span class="number">0</span>]:</span><br><span class="line">        txt_file.write(<span class="string">f&quot;<span class="subst">&#123;item&#125;</span>\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;CSV文件已成功转换为TXT文件，保存路径为: <span class="subst">&#123;txt_file_path&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></div><ul><li>运行效果：</li></ul><p><img lazyload src="/images/loading.svg" data-src="image-20241009171810650.png" alt="将csv中的数据转换到txt中"></p><ul><li>但是这样的数据只是相对整齐一点的评论数据，还没办法作为提供给模型进行中文问题生成的数据集</li><li>于是借助能够分析长文本的大模型进行进一步整理（此处我选用kimi）</li></ul><p><img lazyload src="/images/loading.svg" data-src="image-20241009172114172.png" alt="用kimi进一步整理过后的评论数据"></p><ul><li>这个时候的评论通过使用大模型过滤，保留和整理成更有用的信息</li><li>不过怎么进一步处理（在不进行人工cv的情况下）再提示一下数据质量还有待发掘……</li><li>期待新的想法！！！</li></ul><h2 id="版本五：使用大模型生成一些问答对"><a class="header-anchor" href="#版本五：使用大模型生成一些问答对">¶</a>版本五：使用大模型生成一些问答对</h2><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">华清宫的历史有多悠久？</span><br><span class="line">华清宫的开放时间是什么时候？</span><br><span class="line">华清宫的门票价格是多少？</span><br><span class="line">华清宫有哪些必看的景点？</span><br><span class="line">华清宫和骊山是什么关系？</span><br><span class="line">华清宫的温泉是否对外开放？</span><br><span class="line">华清宫的《长恨歌》表演是什么时间？</span><br><span class="line">华清宫有哪些餐饮设施？</span><br><span class="line">华清宫的交通如何到达？</span><br><span class="line">华清宫有哪些历史文化价值？</span><br><span class="line">华清宫的温泉有什么特别之处？</span><br><span class="line">华清宫的演出需要额外购票吗？</span><br><span class="line">华清宫的游览大概需要多长时间？</span><br><span class="line">华清宫内有没有导游服务？</span><br><span class="line">华清宫的索道是否值得一坐？</span><br><span class="line">华清宫有哪些适合儿童的游玩项目？</span><br><span class="line">华清宫的长恨歌表演在哪里可以购买票？</span><br><span class="line">华清宫的五间厅是什么？</span><br><span class="line">华清宫的兵谏亭有什么历史故事？</span><br><span class="line">华清宫的骊山晚照是怎么一回事？</span><br><span class="line">华清宫的御膳苑有什么特色美食？</span><br><span class="line">华清宫的九龙湖有什么特色？</span><br><span class="line">华清宫的芙蓉湖可以划船吗？</span><br><span class="line">华清宫的唐梨园遗址博物馆有哪些展品？</span><br><span class="line">华清宫的飞霜殿和万寿殿有什么来历？</span><br><span class="line">华清宫的环园和禹王殿有哪些看点？</span><br><span class="line">华清宫的老母殿和老君殿供奉的是谁？</span><br><span class="line">华清宫的烽火台可以上去吗？</span><br><span class="line">华清宫的石瓮寺和遇仙桥有什么传说？</span><br><span class="line">华清宫的骊山索道的运行时间是？</span><br><span class="line">华清宫的骊山有哪些推荐的登山路线？</span><br><span class="line">华清宫的骊山索道票价是多少？</span><br><span class="line">华清宫的骊山有哪些文化遗迹？</span><br><span class="line">华清宫的骊山可以骑马上山吗？</span><br><span class="line">华清宫的骊山有哪些自然景观？</span><br><span class="line">华清宫的骊山可以露营吗？</span><br><span class="line">华清宫的骊山有哪些野生动植物？</span><br><span class="line">华清宫的骊山可以骑自行车上山吗？</span><br><span class="line">华清宫的骊山有哪些推荐的拍照点？</span><br><span class="line">华清宫的骊山有哪些推荐的徒步路线？</span><br><span class="line">华清宫的骊山有哪些推荐的观景台？</span><br><span class="line">华清宫的骊山有哪些推荐的餐厅？</span><br><span class="line">华清宫的骊山有哪些推荐的住宿地点？</span><br><span class="line">华清宫的骊山有哪些推荐的旅游纪念品？</span><br><span class="line">华清宫的骊山有哪些推荐的户外活动？</span><br><span class="line">华清宫的骊山有哪些推荐的旅游季节？</span><br><span class="line">华清宫的骊山有哪些推荐的旅游攻略？</span><br><span class="line">华清宫的骊山有哪些推荐的旅游小贴士？</span><br><span class="line">华清宫的骊山有哪些推荐的旅游路线？</span><br><span class="line">华清宫的骊山有哪些推荐的旅游体验项目？</span><br></pre></td></tr></table></figure></div><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line">- 【问题】华清宫的历史有多悠久？</span><br><span class="line">- 【回答】华清宫有着超过3000年的皇家园林史和6000年的温泉利用史，是历代帝王的游幸之地。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的开放时间是什么时候？</span><br><span class="line">- 【回答】华清宫的开放时间一般为早上8:00至下午5:00，具体时间可能会根据季节调整。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的门票价格是多少？</span><br><span class="line">- 【回答】华清宫的门票价格为120元/人，具体价格可能会有变动，建议提前查询。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫有哪些必看的景点？</span><br><span class="line">- 【回答】必看景点包括唐御汤遗址、五间厅、九龙湖、芙蓉湖以及骊山等。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫和骊山是什么关系？</span><br><span class="line">- 【回答】华清宫位于骊山脚下，两者共同构成了华清宫景区。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的温泉是否对外开放？</span><br><span class="line">- 【回答】华清宫的温泉部分对外开放，游客可以体验泡脚等服务。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的《长恨歌》表演是什么时间？</span><br><span class="line">- 【回答】《长恨歌》表演通常在晚上举行，具体时间需根据景区公告。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫有哪些餐饮设施？</span><br><span class="line">- 【回答】华清宫内有御膳苑等餐饮设施，提供各类餐饮服务。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的交通如何到达？</span><br><span class="line">- 【回答】可以乘坐地铁9号线到达华清池站，然后步行或乘坐公交到达。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫有哪些历史文化价值？</span><br><span class="line">- 【回答】华清宫是唐代皇家园林的代表，见证了唐玄宗与杨贵妃的爱情故事以及西安事变等重大历史事件。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的温泉有什么特别之处？</span><br><span class="line">- 【回答】华清宫的温泉以水质纯净、温度适宜、富含多种矿物质而著称。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的演出需要额外购票吗？</span><br><span class="line">- 【回答】是的，华清宫的《长恨歌》等演出需要额外购票。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的游览大概需要多长时间？</span><br><span class="line">- 【回答】建议安排至少半天到一天的时间游览华清宫。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫内有没有导游服务？</span><br><span class="line">- 【回答】华清宫内有专业的导游服务，也可以租借电子导游设备。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的索道是否值得一坐？</span><br><span class="line">- 【回答】骊山索道可以提供独特的视角，如果时间允许，值得体验。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫有哪些适合儿童的游玩项目？</span><br><span class="line">- 【回答】华清宫有丰富的历史文化可以学习，也有自然景观可以探索，适合亲子游。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的长恨歌表演在哪里可以购买票？</span><br><span class="line">- 【回答】可以在华清宫景区售票处或官方网站上购买《长恨歌》的演出票。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的五间厅是什么？</span><br><span class="line">- 【回答】五间厅是西安事变时蒋介石的居住和办公地点。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的兵谏亭有什么历史故事？</span><br><span class="line">- 【回答】兵谏亭是西安事变时蒋介石被扣留的地方，见证了重要的历史时刻。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山晚照是怎么一回事？</span><br><span class="line">- 【回答】&quot;骊山晚照&quot;是著名的&quot;关中八景&quot;之一，指的是夕阳下骊山的美景。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的御膳苑有什么特色美食？</span><br><span class="line">- 【回答】御膳苑提供具有陕西特色的美食，如凉皮、肉夹馍等。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的九龙湖有什么特色？</span><br><span class="line">- 【回答】九龙湖以雕刻精美的九龙石柱和清澈见底的池水闻名。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的芙蓉湖可以划船吗？</span><br><span class="line">- 【回答】芙蓉湖提供划船服务，游客可以在湖上泛舟。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的唐梨园遗址博物馆有哪些展品？</span><br><span class="line">- 【回答】唐梨园遗址博物馆展示了唐代梨园文化和相关文物。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的飞霜殿和万寿殿有什么来历？</span><br><span class="line">- 【回答】飞霜殿和万寿殿是华清宫的标志性建筑，与唐玄宗和杨贵妃的故事有关。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的环园和禹王殿有哪些看点？</span><br><span class="line">- 【回答】环园和禹王殿展示了唐代园林建筑和大禹治水的传说。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的老母殿和老君殿供奉的是谁？</span><br><span class="line">- 【回答】老母殿供奉的是女娲，老君殿供奉的是老子。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的烽火台可以上去吗？</span><br><span class="line">- 【回答】烽火台是骊山的一处景点，游客可以登上烽火台俯瞰周边景色。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的石瓮寺和遇仙桥有什么传说？</span><br><span class="line">- 【回答】石瓮寺和遇仙桥与一些民间传说和历史故事相关，具体故事建议请导游讲解。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山索道的运行时间是？</span><br><span class="line">- 【回答】骊山索道的运行时间一般与景区开放时间一致，具体需咨询景区。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些推荐的登山路线？</span><br><span class="line">- 【回答】推荐登山路线包括至烽火台、老母殿、老君殿等，可根据体力选择。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山索道票价是多少？</span><br><span class="line">- 【回答】骊山索道的票价为单程30元，往返60元。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些文化遗迹？</span><br><span class="line">- 【回答】骊山有烽火台、老母殿、老君殿等文化遗迹。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山可以骑马上山吗？</span><br><span class="line">- 【回答】骊山提供骑马服务，游客可以选择骑马上山。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些自然景观？</span><br><span class="line">- 【回答】骊山有丰富的自然景观，包括山林、溪流、岩石等。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山可以露营吗？</span><br><span class="line">- 【回答】骊山目前没有官方的露营区域，不建议擅自露营。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些野生动植物？</span><br><span class="line">- 【回答】骊山有多样的野生动植物，具体种类需要实地观察。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山可以骑自行车上山吗？</span><br><span class="line">- 【回答】骊山的山路较陡峭，不建议骑自行车上山。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些推荐的拍照点？</span><br><span class="line">- 【回答】推荐的拍照点包括烽火台、老母殿、骊山晚照等。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些推荐的徒步路线？</span><br><span class="line">- 【回答】推荐的徒步路线包括至烽火台、老母殿、石瓮寺等。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些推荐的观景台？</span><br><span class="line">- 【回答】推荐的观景台包括烽火台、老母殿观景台等。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些推荐的餐厅？</span><br><span class="line">- 【回答】骊山上的餐厅较少，建议在山下用餐或自备食物。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些推荐的住宿地点？</span><br><span class="line">- 【回答】骊山附近有多家酒店和民宿可供选择。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些推荐的旅游纪念品？</span><br><span class="line">- 【回答】推荐购买与华清宫历史文化相关的纪念品，如书籍、工艺品等。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些推荐的户外活动？</span><br><span class="line">- 【回答】推荐的户外活动包括登山、徒步、摄影等。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些推荐的旅游季节？</span><br><span class="line">- 【回答】骊山四季皆宜，春季和秋季气候宜人，是最佳旅游季节。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些推荐的旅游攻略？</span><br><span class="line">- 【回答】建议提前规划好游览路线，避开人流高峰，合理安排时间。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些推荐的旅游小贴士？</span><br><span class="line">- 【回答】建议穿着舒适的衣物和鞋子，携带足够的水和食物，注意防晒。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些推荐的旅游路线？</span><br><span class="line">- 【回答】推荐的旅游路线包括华清宫-骊山-兵谏亭-烽火台等。</span><br><span class="line"></span><br><span class="line">- 【问题】华清宫的骊山有哪些推荐的旅游体验项目？</span><br><span class="line">- 【回答】推荐的体验项目包括泡温泉、观看《长恨歌》演出、骊山索道等。</span><br></pre></td></tr></table></figure></div><ul><li>下一步计划是通过这些问题，再进一步延伸出更多的相似问题，组建问答信息库</li></ul></div><div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8"><div class="article-copyright-info-container"><ul><li><strong>标题:</strong> 【文旅大模型应用-知识整理】景点评论数据的爬取和处理</li><li><strong>作者:</strong> bcmp</li><li><strong>创建于 :</strong> 2024-10-09 00:00:00</li><li><strong>更新于 :</strong> 2024-10-09 17:28:47</li><li><strong>链接:</strong> https://brocademaple.life/2024/10/09/CS_Notes/wenlv_Project/【文旅大模型应用-知识整理】评论数据的爬取和处理/</li><li><strong>版权声明: </strong>本文章采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a> 进行许可。</li></ul></div></div><ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden"><li class="tag-item mx-0.5"><a href="/tags/CS-Notes/">#CS Notes</a>&nbsp;</li><li class="tag-item mx-0.5"><a href="/tags/Database/">#Database</a>&nbsp;</li></ul><div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8"><div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class="prev" rel="prev" href="/2024/10/10/CS_Notes/ProjectDev/Python/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E3%80%90%E9%A1%B9%E7%9B%AE-Python%E5%A4%A7%E6%95%B0%E6%8D%AE%E3%80%91%E4%BF%9D%E9%99%A9Day2/"><span class="left arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-left"></i> </span><span class="title flex justify-center items-center"><span class="post-nav-title-item">【项目-Python大数据】保险Day2</span> <span class="post-nav-item">上一篇</span></span></a></div><div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class="next" rel="next" href="/2024/10/09/CS_Notes/ProjectDev/Python/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E3%80%90%E9%A1%B9%E7%9B%AE-Python%E5%A4%A7%E6%95%B0%E6%8D%AE%E3%80%91%E4%BF%9D%E9%99%A9Day1/"><span class="title flex justify-center items-center"><span class="post-nav-title-item">【项目-Python大数据】保险Day1</span> <span class="post-nav-item">下一篇</span> </span><span class="right arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-right"></i></span></a></div></div></div><div class="toc-content-container"><div class="post-toc-wrap"><div class="post-toc"><div class="toc-title">目录</div><div class="page-title">【文旅大模型应用-知识整理】景点评论数据的爬取和处理</div><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-text">【文旅大模型应用-知识整理】评论数据的爬取和处理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%88%E6%9C%AC%E4%B8%80%EF%BC%9A%E4%BB%8Ehtml%E5%86%85%E5%AE%B9%E6%8F%90%E5%8F%96%E5%86%85%E5%AE%B9%E3%80%90%E7%99%BE%E5%BA%A6%E7%99%BE%E7%A7%91%E3%80%91"><span class="nav-text">版本一：从html内容提取内容【百度百科】</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-%E7%88%AC%E5%8F%96html%E5%86%85%E5%AE%B9"><span class="nav-text">1.1 爬取html内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-%E6%8A%8Ahtml%E6%B8%85%E6%B4%97%E4%B8%BA%E6%96%87%E6%9C%AC"><span class="nav-text">1.2 把html清洗为文本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-%E6%8A%8A%E6%96%87%E6%9C%AC%E5%86%85%E5%AE%B9%E8%BD%AC%E6%8D%A2%E4%B8%BAxlsx%E6%A0%BC%E5%BC%8F"><span class="nav-text">1.3 把文本内容转换为xlsx格式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%88%E6%9C%AC%E4%BA%8C%EF%BC%9A%E5%AF%B9%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E5%88%86%E6%9E%90%EF%BC%8C%E7%94%9F%E6%88%90%E5%9B%BE%E8%A1%A8"><span class="nav-text">版本二：对数据进行分析，生成图表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E9%A5%BC%E7%8A%B6%E5%9B%BE-%E8%AF%B4%E4%B8%8D%E5%87%BA%E6%9D%A5%E4%BB%80%E4%B9%88%E5%9B%BE-%E8%AF%8D%E4%BA%91%E5%9B%BE%EF%BC%88%E7%94%9F%E6%88%90%E4%BA%86%E4%BD%86%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%EF%BC%89"><span class="nav-text">2.1 饼状图+说不出来什么图+词云图（生成了但无法显示）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%88%E6%9C%AC%E4%B8%89%EF%BC%9A%E7%88%AC%E5%8F%96%E6%97%85%E6%B8%B8%E7%BD%91%E7%AB%99%E7%9A%84%E6%99%AF%E7%82%B9%E8%AF%84%E8%AE%BA%E6%95%B0%E6%8D%AE%EF%BC%88%E4%BB%A5%E6%90%BA%E7%A8%8B%E4%B8%BA%E4%BE%8B%EF%BC%89"><span class="nav-text">版本三：爬取旅游网站的景点评论数据（以携程为例）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%88%E6%9C%AC%E5%9B%9B%EF%BC%9A%E8%AF%BB%E5%8F%96%E5%92%8C%E6%B8%85%E6%B4%97csv%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="nav-text">版本四：读取和清洗csv中的数据</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E6%B8%85%E6%B4%97%E6%95%B0%E6%8D%AE"><span class="nav-text">4.1 清洗数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-%E5%B0%86csv%E6%96%87%E4%BB%B6%E4%B8%AD%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9%E6%8F%90%E5%8F%96%E5%88%B0txt%E6%96%87%E4%BB%B6%E4%B8%AD"><span class="nav-text">4.2 将csv文件中部分内容提取到txt文件中</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%88%E6%9C%AC%E4%BA%94%EF%BC%9A%E4%BD%BF%E7%94%A8%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%94%9F%E6%88%90%E4%B8%80%E4%BA%9B%E9%97%AE%E7%AD%94%E5%AF%B9"><span class="nav-text">版本五：使用大模型生成一些问答对</span></a></li></ol></li></ol></div></div></div></div></div></div><div class="main-content-footer"><footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color"><div class="info-container py-3 text-center"><div class="text-center">&copy; <span>2024</span> - 2024&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration:0.5s;color:#f54545"></i>&nbsp;&nbsp;<a href="/">bcmp</a><p class="post-count space-x-0.5"><span>共撰写了 105 篇文章 </span><span>共 373.9k 字</span></p></div><script data-swup-reload-script src="https://cn.v ercount.one/js"></script><div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right"><span id="busuanzi_container_site_uv" class="lg:!block"><span class="text-sm">访问人数</span> <span id="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv" class="lg:!block"><span class="text-sm">总访问量</span> <span id="busuanzi_value_site_pv"></span></span></div><div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left"><span class="lg:block text-sm">由 <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a> 驱动</span> <span class="text-sm lg:block">主题&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.7.1</a></span></div><div>博客已运行 <span class="odometer" id="runtime_days"></span> 天 <span class="odometer" id="runtime_hours"></span> 小时 <span class="odometer" id="runtime_minutes"></span> 分钟 <span class="odometer" id="runtime_seconds"></span> 秒</div><script data-swup-reload-script>try{function odometer_init(){document.querySelectorAll(".odometer").forEach(e=>{new Odometer({el:e,format:"( ddd).dd",duration:200})})}odometer_init()}catch(e){}</script></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="article-tools-list"><li class="right-bottom-tools page-aside-toggle"><i class="fa-regular fa-outdent"></i></li></ul></div></div><div class="right-side-tools-container"><div class="side-tools-container"><ul class="hidden-tools-list"><li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-plus"></i></li><li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-minus"></i></li><li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center"><i class="fa-regular fa-moon"></i></li><li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center"><i class="fa-regular fa-arrow-down"></i></li></ul><ul class="visible-tools-list"><li class="right-bottom-tools toggle-tools-list flex justify-center items-center"><i class="fa-regular fa-cog fa-spin"></i></li><li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><div class="image-viewer-container"><img src=""></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fa-solid fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="站内搜索您需要的内容..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa-solid fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="/js/libs/Swup.min.js"></script><script src="/js/libs/SwupSlideTheme.min.js"></script><script src="/js/libs/SwupScriptsPlugin.min.js"></script><script src="/js/libs/SwupProgressPlugin.min.js"></script><script src="/js/libs/SwupScrollPlugin.min.js"></script><script src="/js/libs/SwupPreloadPlugin.min.js"></script><script>const swup=new Swup({plugins:[new SwupScriptsPlugin({optin:!0}),new SwupProgressPlugin,new SwupScrollPlugin({offset:80}),new SwupSlideTheme({mainElement:".main-content-body"}),new SwupPreloadPlugin],containers:["#swup"]})</script><script src="/js/tools/imageViewer.js" type="module"></script><script src="/js/utils.js" type="module"></script><script src="/js/main.js" type="module"></script><script src="/js/layouts/navbarShrink.js" type="module"></script><script src="/js/tools/scrollTopBottom.js" type="module"></script><script src="/js/tools/lightDarkSwitch.js" type="module"></script><script src="/js/layouts/categoryList.js" type="module"></script><script src="/js/tools/localSearch.js" type="module"></script><script src="/js/tools/codeBlock.js" type="module"></script><script src="/js/layouts/lazyload.js" type="module"></script><script src="/js/tools/runtime.js"></script><script src="/js/libs/odometer.min.js"></script><link rel="stylesheet" href="/assets/odometer-theme-minimal.css"><script src="/js/libs/Typed.min.js"></script><script src="/js/plugins/typed.js" type="module"></script><div class="post-scripts" data-swup-reload-script><script src="/js/tools/tocToggle.js" type="module"></script><script src="/js/layouts/toc.js" type="module"></script><script src="/js/plugins/tabs.js" type="module"></script></div><div id="aplayer"></div><script src="/js/libs/APlayer.min.js"></script><script src="/js/plugins/aplayer.js"></script></body></html>